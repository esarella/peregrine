/*!
 * jQuery JavaScript Library v1.12.1
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-02-22T19:07Z
 */
function debugLine(e,t,n){e===!0&&(e="true"),e===!1&&(e="false");var i=e;if("object"==typeof e){i="";for(name in e){var r=e[name];i+=" "+name+": "+r}}if(1!=t||n||(i+=" "+Math.random()),1==n){var o=jQuery("#debug_line");o.width(200),o.height()>=500&&o.html("");var a=o.html();i=a+"<br> -------------- <br>"+i}jQuery("#debug_line").show().html(i)}function debugSide(e){var t="";for(name in e){var n=e[name];t+=name+" : "+n+"<br>"}jQuery("#debug_side").show().html(t)}function trace(e){"undefined"!=typeof console&&console.log(e)}function UGFunctions(){function e(e,t,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent?t.attachEvent("on"+e,n):t[e]=n}var t=null,n=this,i={starTime:0,arrThemes:[],isTouchDevice:-1,isRgbaSupported:-1,timeCache:{},dataCache:{},lastEventType:"",lastEventTime:0,handle:null};this.debugVar="",this.z__________FULL_SCREEN___________=function(){},this.toFullscreen=function(e,t){if(e.requestFullscreen)e.requestFullscreen();else if(e.mozRequestFullScreen)e.mozRequestFullScreen();else if(e.webkitRequestFullscreen)e.webkitRequestFullscreen();else{if(!e.msRequestFullscreen)return!1;e.msRequestFullscreen()}return!0},this.exitFullscreen=function(){if(0==n.isFullScreen())return!1;if(document.exitFullscreen)document.exitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.webkitExitFullscreen)document.webkitExitFullscreen();else{if(!document.msExitFullscreen)return!1;document.msExitFullscreen()}return!0},this.addFullScreenChangeEvent=function(t){document.webkitCancelFullScreen?e("webkitfullscreenchange",document,t):document.msExitFullscreen?e("MSFullscreenChange",document,t):document.mozCancelFullScreen?e("mozfullscreenchange",document,t):e("fullscreenchange",document,t)},this.destroyFullScreenChangeEvent=function(){jQuery(document).unbind("fullscreenChange"),jQuery(document).unbind("mozfullscreenchange"),jQuery(document).unbind("webkitfullscreenchange"),jQuery(document).unbind("MSFullscreenChange")},this.getFullScreenElement=function(){var e=document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement;return e},this.isFullScreen=function(){var e=document.fullscreen||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement;return e=e?!0:!1},this.z__________END_FULL_SCREEN___________=function(){},this.z__________GET_PROPS___________=function(){},this.getBrowserPrefix=function(){if(null!==t)return t;var e=["webkit","Moz","ms","O"],n=document.createElement("div");for(var i in e){var r=e[i];if(r+"Transform"in n.style)return r=r.toLowerCase(),t=r,r}return t="",""},this.getImageInsideParentDataByImage=function(e,t,i){var r=e.parent(),o=n.getImageOriginalSize(e),a=n.getImageInsideParentData(r,o.width,o.height,t,i);return a},this.getImageInsideParentData=function(e,t,n,i,r,o,a){if(!r)var r={};var s={};if("undefined"==typeof o)var o=e.width();if("undefined"==typeof a)var a=e.height();r.padding_left&&(o-=r.padding_left),r.padding_right&&(o-=r.padding_right),r.padding_top&&(a-=r.padding_top),r.padding_bottom&&(a-=r.padding_bottom);var l=null,u="100%",d=null,c=null,h="display:block;margin:0px auto;";if(t>0&&n>0){if("down"==i&&o>t&&a>n)u=n,l=t,c=(o-l)/2,d=(a-u)/2;else if("fill"==i){var p=t/n;u=a,l=u*p,o>l?(l=o,u=l/p,c=0,d=Math.round((u-a)/2*-1)):(d=0,c=Math.round((l-o)/2*-1))}else{var p=t/n;u=a,l=u*p,d=0,c=(o-l)/2,"fitvert"!=i&&l>o&&(l=o,u=l/p,c=0,d=(a-u)/2)}l=Math.floor(l),u=Math.floor(u),d=Math.floor(d),c=Math.floor(c),h="position:absolute;"}return r.padding_top&&(d+=r.padding_top),r.padding_left&&(c+=r.padding_left),s.imageWidth=l,s.imageHeight=u,s.imageTop=d,s.imageLeft=c,s.imageRight=c+l,0==d||"100%"==u?s.imageBottom=null:s.imageBottom=d+u,s.style=h,s},this.getElementCenterPosition=function(e,t){var i=e.parent(),r=n.getElementSize(e),o=n.getElementSize(i),a=o.width,s=o.height;t&&void 0!==t.padding_top&&(s-=t.padding_top),t&&void 0!==t.padding_bottom&&(s-=t.padding_bottom),t&&void 0!==t.padding_left&&(a-=t.padding_left),t&&void 0!==t.padding_right&&(a-=t.padding_right);var l={};return l.left=Math.round((a-r.width)/2),l.top=Math.round((s-r.height)/2),t&&void 0!==t.padding_top&&(l.top+=t.padding_top),t&&void 0!==t.padding_left&&(l.left+=t.padding_left),l},this.getElementCenterPoint=function(e,t){if(!t)var t=!1;var i=n.getElementSize(e),r={};return r.x=i.width/2,r.y=i.height/2,1==t&&(r.x+=i.left,r.y+=i.top),r.x=Math.round(r.x),r.y=Math.round(r.y),r},this.getMousePosition=function(e,t){var n={pageX:e.pageX,pageY:e.pageY,clientX:e.clientX,clientY:e.clientY};if(e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(n.pageX=e.originalEvent.touches[0].pageX,n.pageY=e.originalEvent.touches[0].pageY,n.clientX=e.originalEvent.touches[0].clientX,n.clientY=e.originalEvent.touches[0].clientY),t){var i=t.offset();n.mouseX=n.pageX-i.left,n.mouseY=n.pageY-i.top}return n},this.getMouseElementPoint=function(e,t){var i={x:e.pageX,y:e.pageY},r=n.getElementLocalPoint(i,t);return r},this.getElementLocalPoint=function(e,t){var n={},i=t.offset();return n.x=Math.round(e.x-i.left),n.y=Math.round(e.y-i.top),n},this.getImageOriginalSize=function(e,t,n){if("undefined"!=typeof t&&"undefined"!=typeof n)return{width:t,height:n};var i=e[0];if("undefined"==typeof i)throw new Error("getImageOriginalSize error - Image not found");var r={};if("undefined"==typeof i.naturalWidth){if("number"==typeof e.data("naturalWidth")){var r={};return r.width=e.data("naturalWidth"),r.height=e.data("naturalHeight"),r}var o=new Image;return o.src=i.src,o.complete?(r.width=o.width,r.height=o.height,e.data("naturalWidth",r.width),e.data("naturalHeight",r.height),r):{width:0,height:0}}return r.width=i.naturalWidth,r.height=i.naturalHeight,r},this.getimageRatio=function(e){var t=n.getImageOriginalSize(e),i=n.getElementSize(e),r=i.width/t.width;return r},this.isImageFitParent=function(e){var t=e.parent(),i=n.getElementSize(e),r=n.getElementSize(t);return i.width<=r.width&&i.height<=r.height?!0:!1},this.getElementSize=function(e){if(void 0===e)throw new Error("Can't get size, empty element");var t=e.position();return t.height=e.outerHeight(),t.width=e.outerWidth(),t.left=Math.round(t.left),t.top=Math.round(t.top),t.right=t.left+t.width,t.bottom=t.top+t.height,t},this.isElementBiggerThenParent=function(e){var t=e.parent(),i=n.getElementSize(e),r=n.getElementSize(t);return i.width>r.width||i.height>r.height?!0:!1},this.isPointInsideElement=function(e,t){var n=e.x>=0&&e.x<t.width;if(0==n)return!1;var i=e.y>=0&&e.y<t.height;return 0==i?!1:!0},this.getElementRelativePos=function(e,t,i,r){if(!r)var r=e.parent();if("number"==typeof e)var o={width:e,height:e};else var o=n.getElementSize(e);var a=n.getElementSize(r);switch(t){case"top":case"left":t=0,i&&(t+=i);break;case"center":t=Math.round((a.width-o.width)/2),i&&(t+=i);break;case"right":t=a.width-o.width,i&&(t-=i);break;case"middle":t=Math.round((a.height-o.height)/2),i&&(t+=i);break;case"bottom":t=a.height-o.height,i&&(t-=i)}return t},this.z__________END_GET_PROPS___________=function(){},this.z_________SET_ELEMENT_PROPS_______=function(){},this.zoomImageInsideParent=function(e,t,i,r,o,a,s){if(!i)var i=1.2;if(!o)var o="fit";var l,u,d,c,h=i,p=e.parent(),f=n.getElementSize(e),g=n.getImageOriginalSize(e),_=!1,m=0,v=0,b=0,y=0;if(r){var w=n.getMouseElementPoint(r,e);_=n.isPointInsideElement(w,f),b=w.x,y=w.y}else _=!1;if(0==_){var x=n.getElementCenterPoint(e);b=x.x,y=x.y}if(1==t)l=f.height*h,u=f.width*h,0!=b&&(m=-(b*h-b)),0!=y&&(v=-(y*h-y));else{l=f.height/h,u=f.width/h;var E=n.getImageInsideParentData(p,g.width,g.height,o,s);if(u<E.imageWidth)return n.scaleImageFitParent(e,g.width,g.height,o,s),!0;1==_&&(0!=b&&(m=-(b/h-b)),0!=y&&(v=-(y/h-y)))}if(a){var T=1;if(0!=g.width&&(T=u/g.width),T>a)return!1}if(n.setElementSize(e,u,l),0==t&&0==_){var S=n.getElementCenterPosition(e);d=S.left,c=S.top}else d=f.left+m,c=f.top+v;return n.placeElement(e,d,c),!0},this.placeElement=function(e,t,i,r,o,a){if(0==jQuery.isNumeric(t)||0==jQuery.isNumeric(i)){if(!a)var a=e.parent();var s=n.getElementSize(e),l=n.getElementSize(a)}if(0==jQuery.isNumeric(t))switch(t){case"left":t=0,r&&(t+=r);break;case"center":t=Math.round((l.width-s.width)/2),r&&(t+=r);break;case"right":t=l.width-s.width,r&&(t-=r)}if(0==jQuery.isNumeric(i))switch(i){case"top":i=0,o&&(i+=o);break;case"middle":case"center":i=Math.round((l.height-s.height)/2),o&&(i+=o);break;case"bottom":i=l.height-s.height,o&&(i-=o)}var u={position:"absolute",margin:"0px"};null!==t&&(u.left=t),null!==i&&(u.top=i),e.css(u)},this.placeElementInParentCenter=function(e){n.placeElement(e,"center","middle")},this.setElementSizeAndPosition=function(e,t,n,i,r){var o={width:i+"px",height:r+"px",left:t+"px",top:n+"px",position:"absolute",margin:"0px"};e.css(o)},this.setElementSize=function(e,t,n){var i={width:t+"px"};null!==n&&"undefined"!=typeof n&&(i.height=n+"px"),e.css(i)},this.cloneElementSizeAndPos=function(e,t,i,r,o){var a=e.position();if(void 0==a)throw new Error("Can't get size, empty element");i===!0?(a.height=e.outerHeight(),a.width=e.outerWidth()):(a.height=e.height(),a.width=e.width()),a.left=Math.round(a.left),a.top=Math.round(a.top),r&&(a.left+=r),o&&(a.top+=o),n.setElementSizeAndPosition(t,a.left,a.top,a.width,a.height)},this.placeImageInsideParent=function(e,t,i,r,o,a){var s=n.getImageInsideParentData(t,i,r,o,a),l="<img";null!==s.imageWidth&&(l+=" width = '"+s.imageWidth+"'",s.style+="width:"+s.imageWidth+";"),null!=s.imageHeight&&("100%"==s.imageHeight?(l+=" height = '"+s.imageHeight+"'",s.style+="height:"+s.imageHeight+";"):(l+=" height = '"+s.imageHeight+"'",s.style+="height:"+s.imageHeight+"px;")),null!==s.imageTop&&(s.style+="top:"+s.imageTop+"px;"),null!==s.imageLeft&&(s.style+="left:"+s.imageLeft+"px;"),l+=" style='"+s.style+"'",l+=" src='"+e+"'",l+=">",t.html(l);var u=t.children("img");return u},this.scaleImageCoverParent=function(e,t,i){if("number"==typeof t)var r=t,o=i;else var r=t.outerWidth(),o=t.outerHeight();var a=n.getImageOriginalSize(e),s=a.width,l=a.height,u=s/l,d=o,c=d*u,h=0,p=0;r>c?(c=r,d=c/u,p=0,h=Math.round((d-o)/2*-1)):(h=0,p=Math.round((c-r)/2*-1)),c=Math.round(c),d=Math.round(d),e.css({width:c+"px",height:d+"px",left:p+"px",top:h+"px"})},this.scaleImageFitParent=function(e,t,i,r,o){var a=e.parent(),s=n.getImageInsideParentData(a,t,i,r,o),l=!1,u={};null!==s.imageWidth&&(l=!0,e.removeAttr("width"),u.width=s.imageWidth+"px"),null!=s.imageHeight&&(l=!0,e.removeAttr("height"),u.height=s.imageHeight+"px"),null!==s.imageTop&&(l=!0,u.top=s.imageTop+"px"),null!==s.imageLeft&&(l=!0,u.left=s.imageLeft+"px"),1==l&&(u.position="absolute",u.margin="0px 0px",e.css(u))},this.scaleImageByHeight=function(e,t,i,r){var o=n.getImageOriginalSize(e,i,r),a=o.width/o.height,s=Math.round(t*a);t=Math.round(t),n.setElementSize(e,s,t)},this.scaleImageByWidth=function(e,t,i,r){var o=n.getImageOriginalSize(e,i,r),a=o.width/o.height,s=Math.round(t/a);t=Math.round(t),n.setElementSize(e,t,s)},this.scaleImageExactSizeInParent=function(e,t,i,r,o,a){var s=e.parent(),l=n.getElementSize(s);l.width<r&&(r=l.width),l.height<o&&(o=l.height);var u=n.getImageInsideParentData(null,t,i,a,null,r,o),d=r,c=o,h=u.imageLeft,p=u.imageLeft,f=u.imageTop,g=u.imageTop,_=Math.round((l.width-r)/2),m=Math.round((l.height-o)/2),v=u.imageWidth+h+p,b=r-v;0!=b&&(p+=b);var y=u.imageHeight+f+g,b=o-y;0!=b&&(g+=b),e.removeAttr("width"),e.removeAttr("height");var w={position:"absolute",margin:"0px 0px"};w.width=d+"px",w.height=c+"px",w.left=_+"px",w.top=m+"px",w["padding-left"]=h+"px",w["padding-top"]=f+"px",w["padding-right"]=p+"px",w["padding-bottom"]=g+"px",e.css(w)},this.showElement=function(e,t,n){e.show().fadeTo(0,1),t&&t.show().fadeTo(0,1),n&&n.show().fadeTo(0,1)},this.z_________END_SET_ELEMENT_PROPS_______=function(){},this.z_________GALLERY_RELATED_FUNCTIONS_______=function(){},this.disableButton=function(e,t){if(!t)var t="ug-button-disabled";0==n.isButtonDisabled(e,t)&&e.addClass(t)},this.convertCustomPrefixOptions=function(e,t,n){if(!t)return e;var i={};return jQuery.each(e,function(e,r){if(0===e.indexOf(t+"_"+n+"_")){var o=e.replace(t+"_"+n+"_",n+"_");i[o]=r}else i[e]=r}),i},this.enableButton=function(e,t){if(!t)var t="ug-button-disabled";1==n.isButtonDisabled(e,t)&&e.removeClass(t)},this.isButtonDisabled=function(e,t){if(!t)var t="ug-button-disabled";return e.hasClass(t)?!0:!1},this.z_________END_GALLERY_RELATED_FUNCTIONS_______=function(){},this.z_________MATH_FUNCTIONS_______=function(){},this.normalizeSetting=function(e,t,n,i,r,o){if(!o)var o=!1;var a=(r-n)/(i-n);return r=e+(t-e)*a,1==o&&(e>r&&(r=e),r>t&&(r=t)),r},this.getNormalizedValue=function(e,t,n,i,r){var o=(r-e)/(t-e);return r=e+(i-n)*o},this.getDistance=function(e,t,n,i){var r=Math.round(Math.sqrt(Math.abs((n-e)*(n-e)+(i-t)*(i-t))));return r},this.getMiddlePoint=function(e,t,n,i){var r={};return r.x=e+Math.round((n-e)/2),r.y=t+Math.round((i-t)/2),r},this.getNumItemsInSpace=function(e,t,n){var i=Math.floor((e+n)/(t+n));return i},this.getNumItemsInSpaceRound=function(e,t,n){var i=Math.round((e+n)/(t+n));return i},this.getSpaceByNumItems=function(e,t,n){var i=e*t+(e-1)*n;return i},this.getItemSizeInSpace=function(e,t,n){var i=Math.floor((e-(t-1)*n)/t);return i},this.getColX=function(e,t,n){var i=e*(t+n);return i},this.getColByIndex=function(e,t){var n=t%e;return n},this.getColRowByIndex=function(e,t){var n=Math.floor(e/t),i=Math.floor(e%t);return{col:i,row:n}},this.getIndexByRowCol=function(e,t,n){if(0>e)return-1;if(0>t)return-1;var i=e*n+t;return i},this.getPrevRowSameColIndex=function(e,t){var i=n.getColRowByIndex(e,t),r=n.getIndexByRowCol(i.row-1,i.col,t);return r},this.getNextRowSameColIndex=function(e,t){var i=n.getColRowByIndex(e,t),r=n.getIndexByRowCol(i.row+1,i.col,t);return r},this.z_________DATA_FUNCTIONS_______=function(){},this.setGlobalData=function(e,t){jQuery.data(document.body,e,t)},this.getGlobalData=function(e){var t=jQuery.data(document.body,e);return t},this.z_________EVENT_DATA_FUNCTIONS_______=function(){},this.handleScrollTop=function(e){if(0==n.isTouchDevice())return null;var t=n.getStoredEventData(e),r=15,o=15;if(null===t.scrollDir&&(Math.abs(t.diffMouseX)>r?t.scrollDir="hor":Math.abs(t.diffMouseY)>o&&Math.abs(t.diffMouseY)>Math.abs(t.diffMouseX)&&(t.scrollDir="vert",t.scrollStartY=t.lastMouseClientY,t.scrollOrigin=jQuery(document).scrollTop(),i.dataCache[e].scrollStartY=t.lastMouseClientY,i.dataCache[e].scrollOrigin=t.scrollOrigin),i.dataCache[e].scrollDir=t.scrollDir),"vert"!==t.scrollDir)return t.scrollDir;var a=(jQuery(document).scrollTop(),t.scrollOrigin-(t.lastMouseClientY-t.scrollStartY));return a>=0&&jQuery(document).scrollTop(a),t.scrollDir},this.wasVerticalScroll=function(e){var t=n.getStoredEventData(e);return"vert"===t.scrollDir?!0:!1},this.storeEventData=function(e,t,r){var o=n.getMousePosition(e),a=jQuery.now(),s={startTime:a,lastTime:a,startMouseX:o.pageX,startMouseY:o.pageY,lastMouseX:o.pageX,lastMouseY:o.pageY,startMouseClientY:o.clientY,lastMouseClientY:o.clientY,scrollTop:jQuery(document).scrollTop(),scrollDir:null};r&&(s=jQuery.extend(s,r)),i.dataCache[t]=s},this.updateStoredEventData=function(e,t,r){if(!i.dataCache[t])throw new Error("updateEventData error: must have stored cache object");var o=i.dataCache[t],a=n.getMousePosition(e);o.lastTime=jQuery.now(),void 0!==a.pageX&&(o.lastMouseX=a.pageX,o.lastMouseY=a.pageY,o.lastMouseClientY=a.clientY),r&&(o=jQuery.extend(o,r)),i.dataCache[t]=o},this.getStoredEventData=function(e,t){if(!i.dataCache[e])throw new Error("updateEventData error: must have stored cache object");var n=i.dataCache[e];return n.diffMouseX=n.lastMouseX-n.startMouseX,n.diffMouseY=n.lastMouseY-n.startMouseY,n.diffMouseClientY=n.lastMouseClientY-n.startMouseClientY,n.diffTime=n.lastTime-n.startTime,t===!0?(n.startMousePos=n.lastMouseY,n.lastMousePos=n.lastMouseY,n.diffMousePos=n.diffMouseY):(n.startMousePos=n.lastMouseX,n.lastMousePos=n.lastMouseX,n.diffMousePos=n.diffMouseX),n},this.isApproveStoredEventClick=function(e,t){if(!i.dataCache[e])return!0;var r=n.getStoredEventData(e,t),o=Math.abs(r.diffMousePos);return r.diffTime>400?!1:o>30?!1:!0},this.clearStoredEventData=function(e){i.dataCache[e]=null},this.z_________CHECK_SUPPORT_FUNCTIONS_______=function(){},this.isCanvasExists=function(){var e=jQuery('<canvas width="500" height="500" > </canvas>')[0];return"function"==typeof e.getContext?!0:!1},this.isScrollbarExists=function(){var e=window.innerWidth>document.documentElement.clientWidth;return e},this.isTouchDevice=function(){if(-1!==i.isTouchDevice)return i.isTouchDevice;try{document.createEvent("TouchEvent"),i.isTouchDevice=!0}catch(e){i.isTouchDevice=!1}return i.isTouchDevice},this.isDesktopDevice=function(){var e=void 0===typeof window.screenX||n.isTouchDevice()?!1:!0;return e},this.isRgbaSupported=function(){if(-1!==i.isRgbaSupported)return i.isRgbaSupported;var e=document.getElementsByTagName("script")[0],t=e.style.color;try{e.style.color="rgba(1,5,13,0.44)"}catch(n){}var r=e.style.color!=t;return e.style.color=t,i.isRgbaSupported=r,r},this.z_________GENERAL_FUNCTIONS_______=function(){},this.checkMinJqueryVersion=function(e){for(var t=jQuery.fn.jquery.split("."),n=e.split("."),i=0,r=t.length;r>i;i++){var o=parseInt(t[i]),a=parseInt(n[i]);if("undefined"==typeof n[i])return!0;if(a>o)return!1;if(o>a)return!0}return!0},this.getCssSizeParam=function(e){return jQuery.isNumeric(e)?e+"px":e},this.convertHexToRGB=function(e,t){var n=e.replace("#","");return n===e?e:(r=parseInt(n.substring(0,2),16),g=parseInt(n.substring(2,4),16),b=parseInt(n.substring(4,6),16),result="rgba("+r+","+g+","+b+","+t+")",result)},this.timestampToString=function(e){var t=new Date(e),n=t.getDate()+"/"+t.getMonth();return n+=" "+t.getHours()+":"+t.getMinutes()+":"+t.getSeconds()+":"+t.getMilliseconds()},this.getArrTouches=function(e){var t=[];return e.originalEvent&&e.originalEvent.touches&&e.originalEvent.touches.length>0&&(t=e.originalEvent.touches),t},this.getArrTouchPositions=function(e){for(var t=[],n=0;n<e.length;n++){var i={pageX:e[n].pageX,pageY:e[n].pageY};t.push(i)}return t},this.startTimeDebug=function(){i.starTime=jQuery.now()},this.showTimeDebug=function(){var e=jQuery.now(),t=e-i.starTime;debugLine({"Time Passed":t},!0)},this.initProgressIndicator=function(e,t,i){switch("bar"!=e&&0==n.isCanvasExists()&&(e="bar"),e){case"bar":var r=new UGProgressBar;r.putHidden(i,t);break;default:case"pie":var r=new UGProgressPie;r.putHidden(i,t);break;case"pie2":t.type_fill=!0;var r=new UGProgressPie;r.putHidden(i,t)}return r},this.setButtonMobileReady=function(e){e.on("touchstart",function(e){jQuery(this).addClass("ug-nohover")}),e.on("mousedown touchend",function(e){return e.stopPropagation(),e.stopImmediatePropagation(),!1})},this.registerTheme=function(e){i.arrThemes.push(e)},this.getArrThemes=function(){return i.arrThemes},this.isThemeRegistered=function(e){return-1!==jQuery.inArray(e,i.arrThemes)?!0:!1},this.getFirstRegisteredTheme=function(){if(0==i.arrThemes.length)return"";var e=i.arrThemes[0];return e},this.isTimePassed=function(e,t){if(!t)var t=100;var n=jQuery.now();0==i.timeCache.hasOwnProperty(e)?lastTime=0:lastTime=i.timeCache[e];var r=n-lastTime;return i.timeCache[e]=n,t>=r?!1:!0},this.whenContiniousEventOver=function(e,t,n){if(!n)var n=300;1==i.timeCache.hasOwnProperty(e)&&null!=i.timeCache[e]&&(clearTimeout(i.timeCache[e]),i.timeCache[e]=null),i.timeCache[e]=setTimeout(t,n)},this.validateClickTouchstartEvent=function(e){var t=!0,n=jQuery.now()-i.lastEventTime;return"click"==e&&"touchstart"==i.lastEventType&&1e3>n&&(t=!1),i.lastEventTime=jQuery.now(),i.lastEventType=e,t},this.addClassOnHover=function(e,t){if(!t)var t="ug-button-hover";e.hover(function(){jQuery(this).addClass(t)},function(){jQuery(this).removeClass(t)})},this.destroyButton=function(e){e.off("mouseenter"),e.off("mouseleave"),e.off("click"),e.off("touchstart"),e.off("touchend"),e.off("mousedown")},this.setButtonOnClick=function(e,t){n.setButtonMobileReady(e),e.on("click touchstart",function(e){return objThis=jQuery(this),e.stopPropagation(),e.stopImmediatePropagation(),0==n.validateClickTouchstartEvent(e.type)?!0:void t(objThis,e)})},this.loadJs=function(e,t){t===!0&&(e=location.protocol+"//"+e);var n=document.createElement("script");n.src=e;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)},this.loadCss=function(e,t){t===!0&&(e=location.protocol+"//"+e);var n=document.createElement("link");n.setAttribute("rel","stylesheet"),n.setAttribute("type","text/css"),n.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(n)},this.addEvent=function(e,t,n){"undefined"!=typeof e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},this.checkImagesLoaded=function(e,t,n){function i(e,i){r++,"function"==typeof n&&setTimeout(function(){n(e,i)}),r==o&&"function"==typeof t&&setTimeout(function(){t()})}var r=0,o=e.length;return 0==o&&t?(t(),!1):void setTimeout(function(){for(var t=0;o>t;t++){var n=e[t];if(void 0!==n.naturalWidth&&0!==n.naturalWidth)i(e[t],!1);else{var r=jQuery("<img/>");r.data("index",t),r.on("load",function(){var t=jQuery(this).data("index");i(e[t],!1)}),r.on("error",function(){var t=jQuery(this).data("index");i(e[t],!0)}),r.attr("src",n.src)}}})},this.waitForWidth=function(e,t){var n=e.width();return 0!=n?(t(),!1):void(i.handle=setInterval(function(){n=e.width(),0!=n&&(clearInterval(i.handle),t())},300))},this.arrayShuffle=function(e){if("object"!=typeof e)return e;for(var t,n,i=e.length;i;t=parseInt(Math.random()*i),n=e[--i],e[i]=e[t],e[t]=n);return e},this.getObjectLength=function(e){var t=0;for(var n in e)t++;return t},this.normalizePercent=function(e){return 0>e&&(e=0),e>1&&(e=1),e},this.stripTags=function(e){var t=e.replace(/(<([^>]+)>)/gi,"");return t},this.htmlentitles=function(e){var t=jQuery("<div/>").text(e).html();return t},this.z_________END_GENERAL_FUNCTIONS_______=function(){}}function UGThumbsGeneral(){function e(e,t,n,i){var r={width:e+"px",height:t+"px"},o={width:e-P.thumbInnerReduce+"px",height:t-P.thumbInnerReduce+"px"},a=".ug-thumb-loader, .ug-thumb-error, .ug-thumb-border-overlay, .ug-thumb-overlay";n?(i!==!0&&n.css(r),n.children(a).css(o)):(x.children(".ug-thumb-wrapper").css(r),x.find(a).css(o))}function t(e,t,n,i){if(!i)var i=!1;S.isFakeFullscreen()&&(i=!0);var r=e.children(".ug-thumb-border-overlay"),o={};o["border-width"]=t+"px",0!=t&&(o["border-color"]=n),i&&i===!0?(r.css(o),0==t?r.hide():r.show()):(0==t?r.stop().fadeOut(C.thumb_transition_duration):r.show().stop().fadeIn(C.thumb_transition_duration),s(r,o))}function n(e,t,n){var i=e.children(".ug-thumb-overlay"),r=C.thumb_transition_duration;n&&n===!0&&(r=0),t?i.stop(!0).fadeTo(r,P.colorOverlayOpacity):i.stop(!0).fadeTo(r,0)}function i(e,t,n){var i=e.children("img.ug-thumb-image"),r=e.children("img.ug-thumb-image-overlay"),o=C.thumb_transition_duration;n&&n===!0&&(o=0),t?r.stop(!0).fadeTo(o,1):(i.fadeTo(0,1),r.stop(!0).fadeTo(o,0))}function r(e,r){if(P.isEffectBorder&&t(e,C.thumb_selected_border_width,C.thumb_selected_border_color,r),P.isEffectOverlay){var o=1==C.thumb_overlay_reverse?!0:!1;n(e,o,r)}P.isEffectImage&&i(e,!1,r),T.trigger(E.events.SETSELECTEDSTYLE,e)}function o(e){var t=E.getItemByThumb(e);return t.isLoaded=!0,t.isThumbImageLoaded=!1,1==P.customThumbs?(T.trigger(E.events.IMAGELOADERROR,e),!0):(e.children(".ug-thumb-loader").hide(),void e.children(".ug-thumb-error").show())}function a(){if(C.thumb_round_corners_radius<=0)return!1;var e={"border-radius":C.thumb_round_corners_radius+"px"};x.find(".ug-thumb-wrapper, .ug-thumb-wrapper .ug-thumb-border-overlay").css(e)}function s(e,t){e.stop(!0).animate(t,{duration:C.thumb_transition_duration,easing:C.thumb_transition_easing,queue:!1})}function l(e){1==h(e)?r(e,!0,"redraw"):E.setThumbNormalStyle(e,!0,"redraw")}function u(t,n,i){if(1==C.thumb_fixed_size)I.scaleImageCoverParent(n,t);else{"height"==C.thumb_resize_by?I.scaleImageByHeight(n,C.thumb_height):I.scaleImageByWidth(n,C.thumb_width);var r=I.getElementSize(n);I.placeElement(n,0,0),e(r.width,r.height,t)}t.children(".ug-thumb-loader").hide(),n.show(),0==C.thumb_image_overlay_effect?n.fadeTo(0,1):(1==C.thumb_image_overlay_effect&&d(n),n.fadeTo(0,0),l(t)),T.trigger(E.events.AFTERPLACEIMAGE,t)}function d(e){var t=e.siblings(".ug-thumb-image-overlay");if(0==t.length)return!1;var n=I.getElementSize(e),i={width:n.width+"px",height:n.height+"px",left:n.left+"px",top:n.top+"px"};t.css(i),0==P.customThumbs&&t.fadeTo(0,1)}function c(){var e="",t=C.thumb_image_overlay_type.split(",");for(var n in t){var i=t[n];switch(i){case"bw":e+=" ug-bw-effect";break;case"blur":e+=" ug-blur-effect";break;case"sepia":e+=" ug-sepia-effect"}}return e}function h(e){return e.hasClass("ug-thumb-selected")?!0:!1}function p(t,n){n=jQuery(n);var i=(E.getItemByThumb(n),I.getElementSize(n));e(i.width,i.height,n,!0),l(n)}function f(e){return 1==P.touchEnabled?(objThumbs.off("mouseenter").off("mouseleave"),!0):void(0==h(e)&&E.setThumbOverStyle(e))}function g(e){return 1==P.touchEnabled?!0:void(0==h(e)&&E.setThumbNormalStyle(e,!1))}function _(e,t){if(!t)var t=!1;var n=jQuery(e),i=n.parents(".ug-thumb-wrapper");return 0==i.parent().length?!1:(objItem=E.getItemByThumb(i),1==objItem.isLoaded&&t===!1?!1:(E.triggerImageLoadedEvent(i,n),void(1==P.customThumbs?T.trigger(E.events.PLACEIMAGE,[i,n]):u(i,n,objItem))))}function m(e,t,n){objItem=E.getItemByThumb(t),objItem.isLoaded=!0,objItem.isThumbImageLoaded=!0;var i=I.getImageOriginalSize(n);objItem.thumbWidth=i.width,objItem.thumbHeight=i.height,objItem.thumbRatioByWidth=i.width/i.height,objItem.thumbRatioByHeight=i.height/i.width}var v,b,y,w,x,E=this,T=jQuery(E),S=new UniteGalleryMain,I=new UGFunctions;this.events={SETOVERSTYLE:"thumbmouseover",SETNORMALSTYLE:"thumbmouseout",SETSELECTEDSTYLE:"thumbsetselected",PLACEIMAGE:"thumbplaceimage",AFTERPLACEIMAGE:"thumb_after_place_image",IMAGELOADERROR:"thumbimageloaderror",THUMB_IMAGE_LOADED:"thumb_image_loaded"};var C={thumb_width:88,thumb_height:50,thumb_fixed_size:!0,thumb_resize_by:"height",thumb_border_effect:!0,thumb_border_width:0,thumb_border_color:"#000000",thumb_over_border_width:0,thumb_over_border_color:"#d9d9d9",thumb_selected_border_width:1,thumb_selected_border_color:"#d9d9d9",thumb_round_corners_radius:0,thumb_color_overlay_effect:!0,thumb_overlay_color:"#000000",thumb_overlay_opacity:.4,thumb_overlay_reverse:!1,thumb_image_overlay_effect:!1,thumb_image_overlay_type:"bw",thumb_transition_duration:200,thumb_transition_easing:"easeOutQuad",thumb_show_loader:!0,thumb_loader_type:"dark",thumb_wrapper_as_link:!1,thumb_link_newpage:!1},P={touchEnabled:!1,num_thumbs_checking:0,customThumbs:!1,funcSetCustomThumbHtml:null,isEffectBorder:!1,isEffectOverlay:!1,isEffectImage:!1,colorOverlayOpacity:1,thumbInnerReduce:0,allowOnResize:!0},j={timeout_thumb_check:100,thumb_max_check_times:600,eventSizeChange:"thumb_size_change"};this.init=function(e,t){b=e.getObjects(),S=e,v=jQuery(e),y=b.g_objWrapper,w=b.g_arrItems,C=jQuery.extend(C,t),P.isEffectBorder=C.thumb_border_effect,P.isEffectOverlay=C.thumb_color_overlay_effect,P.isEffectImage=C.thumb_image_overlay_effect},this._____________EXTERNAL_SETTERS__________=function(){},this.setHtmlThumbs=function(e){x=e;var t=S.getNumItems();if(1==P.isEffectImage)var n=c();for(var i=0;t>i;i++){var r=w[i],o="";0==P.customThumbs&&(o=" ug-thumb-generated");var a=r.index+1,s="style='z-index:"+a+";'",l="<div class='ug-thumb-wrapper"+o+"' "+s+"></div>";if(1==C.thumb_wrapper_as_link){var u=r.link;""==r.link&&(u="javascript:void(0)");var d="";1==C.thumb_link_newpage&&r.link&&(d=" target='_blank'");var l="<a href='"+u+"'"+d+" class='ug-thumb-wrapper"+o+"'></a>"}var h=jQuery(l),p=r.objThumbImage;if(0==P.customThumbs){if(1==C.thumb_show_loader&&p){var f="ug-thumb-loader-dark";"bright"==C.thumb_loader_type&&(f="ug-thumb-loader-bright"),h.append("<div class='ug-thumb-loader "+f+"'></div>"),h.append("<div class='ug-thumb-error' style='display:none'></div>")}if(p){if(p.addClass("ug-thumb-image"),1==C.thumb_image_overlay_effect){var g=p.clone().appendTo(h);g.addClass("ug-thumb-image-overlay "+n).removeClass("ug-thumb-image"),g.fadeTo(0,0),r.objImageOverlay=g}h.append(p)}}P.isEffectBorder&&h.append("<div class='ug-thumb-border-overlay'></div>"),P.isEffectOverlay&&h.append("<div class='ug-thumb-overlay'></div>"),x.append(h),P.customThumbs&&P.funcSetCustomThumbHtml(h,r),w[i].objThumbWrapper=h}},this.setThumbNormalStyle=function(e,r,o){if(1==P.customThumbs&&e.removeClass("ug-thumb-over"),P.isEffectBorder&&t(e,C.thumb_border_width,C.thumb_border_color,r),P.isEffectOverlay){var a=1==C.thumb_overlay_reverse?!1:!0;n(e,a,r)}P.isEffectImage&&i(e,!0,r),T.trigger(E.events.SETNORMALSTYLE,e)},this.setThumbOverStyle=function(e){if(1==P.customThumbs&&e.addClass("ug-thumb-over"),P.isEffectBorder&&t(e,C.thumb_over_border_width,C.thumb_over_border_color),P.isEffectOverlay){var r=1==C.thumb_overlay_reverse?!0:!1;n(e,r)}1==P.isEffectImage&&i(e,!1),T.trigger(E.events.SETOVERSTYLE,e)},this.setHtmlProperties=function(){if(0==P.customThumbs){1==C.thumb_fixed_size&&e(C.thumb_width,C.thumb_height),a()}if(x.children(".ug-thumb-wrapper").each(function(){var e=jQuery(this);l(e)}),P.isEffectOverlay&&C.thumb_overlay_color){var t={};if(I.isRgbaSupported()){var n=I.convertHexToRGB(C.thumb_overlay_color,C.thumb_overlay_opacity);t["background-color"]=n}else t["background-color"]=C.thumb_overlay_color,P.colorOverlayOpacity=C.thumb_overlay_opacity;x.find(".ug-thumb-wrapper .ug-thumb-overlay").css(t)}},this.setThumbSelected=function(e){return 1==P.customThumbs&&e.removeClass("ug-thumb-over"),1==h(e)?!0:(e.addClass("ug-thumb-selected"),void r(e))},this.setThumbUnselected=function(e){e.removeClass("ug-thumb-selected"),E.setThumbNormalStyle(e,!1,"set unselected")},this.setOptions=function(e){C=jQuery.extend(C,e)},this.setThumbInnerReduce=function(e){P.thumbInnerReduce=e},this.setCustomThumbs=function(e,t,n){if(P.customThumbs=!0,"function"!=typeof e)throw new Error("The argument should be function");P.funcSetCustomThumbHtml=e,-1==jQuery.inArray("overlay",t)&&(P.isEffectOverlay=!1),-1==jQuery.inArray("border",t)&&(P.isEffectBorder=!1),P.isEffectImage=!1,n&&n.allow_onresize===!1&&(P.allowOnResize=!1)},this._____________EXTERNAL_GETTERS__________=function(){},this.getOptions=function(){return C},this.getNumThumbs=function(){var e=w.length;return e},this.getThumbImage=function(e){var t=e.find(".ug-thumb-image");return t},this.getThumbByIndex=function(e){var t=E.getThumbs();if(e>=t.length||0>e)throw new Error("Wrong thumb index");var n=jQuery(t[e]);return n},this.getThumbs=function(){return x.children(".ug-thumb-wrapper")},this.getItemByThumb=function(e){var t=e.data("index");void 0===t&&(t=e.index());var n=w[t];return n},this.isThumbLoaded=function(e){var t=E.getItemByThumb(e);return t.isLoaded},this.getGlobalThumbSize=function(){var e={width:C.thumb_width,height:C.thumb_height};return e},this._____________EXTERNAL_OTHERS__________=function(){},this.initEvents=function(){var e=x.find(".ug-thumb-wrapper");e.on("touchstart",function(){P.touchEnabled=!0,e.off("mouseenter").off("mouseleave")}),1==P.allowOnResize&&y.on(j.eventSizeChange,p),e.hover(function(e){var t=jQuery(this);f(t)},function(e){var t=jQuery(this);g(t)}),T.on(E.events.THUMB_IMAGE_LOADED,m)},this.destroy=function(){var e=x.find(".ug-thumb-wrapper");e.off("touchstart"),y.off(j.eventSizeChange),e.off("mouseenter"),e.off("mouseleave"),T.off(E.events.THUMB_IMAGE_LOADED)},this.loadThumbsImages=function(){var e=x.find(".ug-thumb-image");I.checkImagesLoaded(e,null,function(e,t){if(0==t)_(e,!0);else{var n=jQuery(e).parent();o(n)}})},this.triggerImageLoadedEvent=function(e,t){T.trigger(E.events.THUMB_IMAGE_LOADED,[e,t])},this.hideThumbs=function(){x.find(".ug-thumb-wrapper").hide()}}function UGThumbsStrip(){function e(e,n){S=e.getObjects(),N=e,N.attachThumbsPanel("strip",M),T=jQuery(e),I=S.g_objWrapper,C=S.g_arrItems,H=jQuery.extend(H,n),z=H.strip_vertical_type,1==z&&(H=jQuery.extend(H,D),H=jQuery.extend(H,n),n.thumb_resize_by="width"),O.init(e,n),t()}function t(){var e=O.getOptions();F.isNotFixedThumbs=e.thumb_fixed_size===!1,z=H.strip_vertical_type}function n(){O.setHtmlProperties(),o(),l(),s(),0==F.isRunOnce&&(1==H.strip_control_touch&&(k=new UGTouchThumbsControl,k.init(M)),1==H.strip_control_avia&&(A=new UGAviaControl,A.init(M)),g(),O.loadThumbsImages(),y()),F.isRunOnce=!0}function r(e){R.stripSize=e,0==z?R.stripActiveSize=R.stripSize-H.strip_padding_left-H.strip_padding_right:R.stripActiveSize=R.stripSize-H.strip_padding_top-H.strip_padding_bottom,R.stripActiveSize<0&&(R.stripActiveSize=0)}function o(){var e=j.children(".ug-thumb-wrapper"),t=jQuery(e[0]),n=t.outerWidth(),i=t.outerHeight(),o=O.getOptions();0==z?(R.thumbSize=n,
1==o.thumb_fixed_size?R.thumbSecondSize=i:R.thumbSecondSize=o.thumb_height,r(P.width()),R.stripInnerSize=j.width()):(R.thumbSize=i,1==o.thumb_fixed_size?R.thumbSecondSize=n:R.thumbSecondSize=o.thumb_width,r(P.height()),R.stripInnerSize=j.height())}function a(e){0==z?j.width(e):j.height(e),R.stripInnerSize=e,g()}function s(){var e=j.children(".ug-thumb-wrapper"),t=0,n=0;for(0==z&&(n=H.strip_padding_top),i=0;i<e.length;i++){var r=jQuery(e[i]);if(1==F.isNotFixedThumbs){if(objItem=O.getItemByThumb(r),0==objItem.isLoaded)continue;r.show()}L.placeElement(r,t,n),0==z?t+=r.outerWidth()+H.strip_space_between_thumbs:n+=r.outerHeight()+H.strip_space_between_thumbs}if(0==z)var o=t-H.strip_space_between_thumbs;else var o=n-H.strip_space_between_thumbs;a(o)}function l(){if(0==z){var e=R.thumbSecondSize,t={};t.height=e+"px";var n={};n.height=e+"px"}else{var i=R.thumbSecondSize,t={};t.width=i+"px";var n={};n.width=i+"px"}P.css(t),j.css(n)}function u(e){var t=M.getInnerStripPos(),n=t+e;n=M.fixInnerStripLimits(n),M.positionInnerStrip(n,!0)}function d(e){var t=E(e),n=-1*t.min;n=M.fixInnerStripLimits(n),M.positionInnerStrip(n,!0)}function c(e){var t=E(e),n=-1*t.max+R.stripSize;n=M.fixInnerStripLimits(n),M.positionInnerStrip(n,!0)}function h(e){if(0==w())return!1;var t=x(),n=E(e);if(n.min<t.minPosThumbs){var i=e.prev();d(i.length?i:e)}else if(n.max>t.maxPosThumbs){var r=e.next();c(r.length?r:e)}}function p(){var e=N.getSelectedItem();if(null==e)return!0;var t=e.objThumbWrapper;t&&h(t)}function f(){if(0==w())return!1;var e=M.getInnerStripPos(),t=M.fixInnerStripLimits(e);e!=t&&M.positionInnerStrip(t,!0)}function g(){var e=w();1==e?(A&&A.enable(),k&&k.enable()):(A&&A.disable(),k&&k.disable())}function _(){return w()?!1:void(0==z?L.placeElement(j,H.strip_thumbs_align,0):L.placeElement(j,0,H.strip_thumbs_align))}function m(e){if(M.isTouchMotionActive()){var t=k.isSignificantPassed();if(1==t)return!0}var n=O.getItemByThumb(e);N.selectItem(n)}function v(){clearTimeout(F.handle),F.handle=setTimeout(function(){s()},50)}function b(){var e=N.getSelectedItem();O.setThumbSelected(e.objThumbWrapper),h(e.objThumbWrapper)}function y(){O.initEvents();var e=P.find(".ug-thumb-wrapper");e.on("click touchend",function(e){var t=jQuery(this);m(t)}),T.on(N.events.ITEM_CHANGE,b),F.isNotFixedThumbs&&jQuery(O).on(O.events.AFTERPLACEIMAGE,v)}function w(){return R.stripInnerSize>R.stripActiveSize?!0:!1}function x(){var e={},t=M.getInnerStripPos();return e.minPosThumbs=-1*t+1,e.maxPosThumbs=-1*t+R.stripSize-1,e}function E(e){var t={},n=e.position();return 0==z?(t.min=n.left,t.max=n.left+R.thumbSize):(t.min=n.top,t.max=n.top+R.thumbSize),t}var T,S,I,C,P,j,A,k,M=this,N=new UniteGalleryMain,L=new UGFunctions,z=!1,O=new UGThumbsGeneral,L=new UGFunctions,H={strip_vertical_type:!1,strip_thumbs_align:"left",strip_space_between_thumbs:6,strip_thumb_touch_sensetivity:15,strip_scroll_to_thumb_duration:500,strip_scroll_to_thumb_easing:"easeOutCubic",strip_control_avia:!0,strip_control_touch:!0,strip_padding_top:0,strip_padding_bottom:0,strip_padding_left:0,strip_padding_right:0},F={isRunOnce:!1,is_placed:!1,isNotFixedThumbs:!1,handle:null},R={stripSize:0,stripActiveSize:0,stripInnerSize:0,thumbSize:0,thumbSecondSize:0};this.events={STRIP_MOVE:"stripmove"};var D={strip_thumbs_align:"top",thumb_resize_by:"width"};this.setHtml=function(e){if(!e){var e=I;null!=H.parent_container&&(e=H.parent_container)}e.append("<div class='ug-thumbs-strip'><div class='ug-thumbs-strip-inner'></div></div>"),P=e.children(".ug-thumbs-strip"),j=P.children(".ug-thumbs-strip-inner"),O.setHtmlThumbs(j),1==F.isNotFixedThumbs&&O.hideThumbs()},this.destroy=function(){var e=P.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),T.off(N.events.ITEM_CHANGE),jQuery(O).off(O.events.AFTERPLACEIMAGE),k&&k.destroy(),A&&A.destroy(),O.destroy()},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,n){e(t,n)},this.run=function(){n()},this.positionInnerStrip=function(e,t){if(void 0===t)var t=!1;if(0==z)var n={left:e+"px"};else var n={top:e+"px"};0==t?(j.css(n),M.triggerStripMoveEvent()):(M.triggerStripMoveEvent(),j.stop(!0).animate(n,{duration:H.strip_scroll_to_thumb_duration,easing:H.strip_scroll_to_thumb_easing,queue:!1,progress:function(){M.triggerStripMoveEvent()},always:function(){M.triggerStripMoveEvent()}}))},this.triggerStripMoveEvent=function(){jQuery(M).trigger(M.events.STRIP_MOVE)},this.isTouchMotionActive=function(){if(!k)return!1;var e=k.isTouchActive();return e},this.isItemThumbVisible=function(e){var t=e.objThumbWrapper,n=t.position(),i=-1*M.getInnerStripPos();if(0==z)var r=i+R.stripSize,o=n.left,a=n.left+t.width();else var r=i+R.stripSize,o=n.top,a=n.top+t.height();var s=!1;return a>=i&&r>=o&&(s=!0),s},this.getInnerStripPos=function(){return 0==z?j.position().left:j.position().top},this.getInnerStripLimits=function(){var e={};return 0==z?e.maxPos=H.strip_padding_left:e.maxPos=H.strip_padding_top,e.minPos=-(R.stripInnerSize-R.stripActiveSize),e},this.fixInnerStripLimits=function(e){var t=M.getInnerStripLimits();return e>t.maxPos&&(e=t.maxPos),e<t.minPos&&(e=t.minPos),e},this.scrollForeward=function(){u(-R.stripSize)},this.scrollBack=function(){u(R.stripSize)},this.________EXTERNAL_SETTERS___________=function(){},this.setOptions=function(e){H=jQuery.extend(H,e),O.setOptions(e),t()},this.setSizeVertical=function(e){if(0==z)throw new Error("setSizeVertical error, the strip size is not vertical");var t=R.thumbSecondSize,n={};n.width=t+"px",n.height=e+"px",P.css(n),r(e);var i={};i.width=t+"px",i.left="0px",i.top="0px",j.css(i),F.is_placed=!0,g()},this.setSizeHorizontal=function(e){if(1==z)throw new Error("setSizeHorizontal error, the strip size is not horizontal");var t=R.thumbSecondSize+H.strip_padding_top+H.strip_padding_bottom,n={};n.width=e+"px",n.height=t+"px",P.css(n),r(e);var i=H.strip_padding_left,o={};o.height=t+"px",o.left=i+"px",o.top="0px",j.css(o),F.is_placed=!0,g()},this.setPosition=function(e,t,n,i){L.placeElement(P,e,t,n,i)},this.resize=function(e){0==z?(P.width(e),R.stripActiveSize=e-H.strip_padding_left-H.strip_padding_right):(P.height(e),R.stripActiveSize=e-H.strip_padding_top-H.strip_padding_bottom),r(e),g(),f(),_(),p()},this.setThumbUnselected=function(e){O.setThumbUnselected(e)},this.setCustomThumbs=function(e){O.setCustomThumbs(e)},this.________EXTERNAL_GETTERS___________=function(){},this.getObjects=function(){var e=O.getOptions(),t=jQuery.extend(H,e),n={g_gallery:N,g_objGallery:T,g_objWrapper:I,g_arrItems:C,g_objStrip:P,g_objStripInner:j,g_aviaControl:A,g_touchThumbsControl:k,isVertical:z,g_options:t,g_thumbs:O};return n},this.getObjThumbs=function(){return O},this.getSelectedThumb=function(){var e=N.getSelectedItemIndex();return-1==e?null:O.getThumbByIndex(e)},this.getSizeAndPosition=function(){var e=L.getElementSize(P);return e},this.getHeight=function(){var e=P.outerHeight();return e},this.getWidth=function(){var e=P.outerWidth();return e},this.getSizes=function(){return R},this.isVertical=function(){return z},this.isPlaced=function(){return F.is_placed},this.isMoveEnabled=function(){var e=w();return e}}function UGTouchThumbsControl(){function e(){var e=jQuery.now(),t={};return t.passedTime=T.lastTime-T.startTime,t.lastActiveTime=e-T.buttonReleaseTime,t.passedDistance=T.lastPos-T.startPos,t.passedDistanceAbs=Math.abs(t.passedDistance),t}function t(){E.thumb_touch_slowFactor=x.normalizeSetting(5e-5,.01,1,100,y.strip_thumb_touch_sensetivity,!0)}function n(e){return 0==w?x.getMousePosition(e).pageX:x.getMousePosition(e).pageY}function i(e){var t=T.mousePos-e,n=T.innerPos-t,i=f.getInnerStripLimits();if(n>i.maxPos){var r=n-i.maxPos;n=i.maxPos+r/3}if(n<i.minPos){var r=i.minPos-n;n=i.minPos-r/3}f.positionInnerStrip(n)}function r(e){var t=f.getInnerStripPos();T.mousePos=e,T.innerPos=t,T.lastPortionPos=t,T.lastDeltaTime=0,T.lastDeltaPos=0,T.startTime=jQuery.now(),T.startPos=T.innerPos,T.lastTime=T.startTime,T.lastPos=T.startPos,T.speed=0}function o(){var e=jQuery.now(),t=e-T.lastTime;t>=E.touch_portion_time&&(T.lastDeltaTime=e-T.lastTime,T.lastDeltaTime>E.touch_portion_time&&(T.lastDeltaTime=E.touch_portion_time),T.lastDeltaPos=T.lastPos-T.lastPortionPos,T.lastPortionPos=T.lastPos,T.lastTime=e)}function a(){var e=E.thumb_touch_slowFactor,t=E.minDeltaTime,n=E.minPath,i=f.getInnerStripPos(),r=jQuery.now(),o=r-T.lastTime,a=i-T.lastPortionPos;t>o&&T.lastDeltaTime>0&&(o=T.lastDeltaTime,a=T.lastDeltaPos+a),t>o&&(o=t);var l=a>0?1:-1,u=0;o>0&&(u=a/o);var d=u*u/(2*e)*l;Math.abs(d)<=n&&(d=0);var c=f.getInnerStripPos(),h=c+d,p=f.fixInnerStripLimits(h),g=f.getInnerStripLimits(),_=E.limitsBreakAddition,m=!1,v=p;if(h>g.maxPos&&(m=!0,p=_,_>h&&(p=h)),h<g.minPos){m=!0;var y=g.minPos-_;p=y,h>y&&(p=h)}var x=p-c,S=Math.abs(Math.round(u/e));if(0!=d&&(S=S*x/d),c!=p){var I={left:p+"px"};1==w&&(I={top:p+"px"}),b.animate(I,{duration:S,easing:E.animationEasing,queue:!0,progress:s})}if(1==m){var C=E.returnAnimateSpeed,P={left:v+"px"};1==w&&(P={top:v+"px"}),b.animate(P,{duration:C,easing:E.returnAnimationEasing,queue:!0,progress:s})}}function s(){T.lastPos=f.getInnerStripPos(),f.triggerStripMoveEvent()}function l(){return 1==T.loop_active?!0:(T.loop_active=!0,void(T.handle=setInterval(o,10)))}function u(e){if(0==T.loop_active)return!0;if(e){var t=n(e);a(t)}T.loop_active=!1,T.handle=clearInterval(T.handle)}function d(e){return 0==T.isControlEnabled?!0:(T.buttonReleaseTime=jQuery.now(),0==T.touch_active?(u(e),!0):(e.preventDefault(),T.touch_active=!1,u(e),void v.removeClass("ug-dragging")))}function c(e){if(0==T.isControlEnabled)return!0;e.preventDefault(),T.touch_active=!0;var t=n(e);b.stop(!0),r(t),l(),v.addClass("ug-dragging")}function h(e){if(0==T.isControlEnabled)return!0;if(0==T.touch_active)return!0;if(e.preventDefault(),0==e.buttons)return T.touch_active=!1,u(e),!0;var t=n(e);T.lastPos=f.getInnerStripPos(),i(t),o()}function p(){v.bind("mousedown touchstart",c),jQuery(window).add("body").bind("mouseup touchend",d),jQuery("body").bind("mousemove touchmove",h)}var f,g,_,m,v,b,y,w,x=new UGFunctions,E={touch_portion_time:200,thumb_touch_slowFactor:0,minDeltaTime:70,minPath:10,limitsBreakAddition:30,returnAnimateSpeed:500,animationEasing:"easeOutCubic",returnAnimationEasing:"easeOutCubic"},T={touch_active:!1,loop_active:!1,mousePos:0,innerPos:0,startPos:0,startTime:0,lastTime:0,buttonReleaseTime:0,lastPos:0,lastPortionPos:0,lastDeltaTime:0,lastDeltaPos:0,speed:0,handle:"",touchEnabled:!1,isControlEnabled:!0};this.enable=function(){T.isControlEnabled=!0},this.disable=function(){T.isControlEnabled=!1},this.init=function(e){f=e,m=e.getObjects(),g=m.g_gallery,_=m.g_objGallery,v=m.g_objStrip,b=m.g_objStripInner,y=m.g_options,w=m.isVertical,t(),p()},this.isSignificantPassed=function(){var t=e();return t.passedTime>300?!0:t.passedDistanceAbs>30?!0:!1},this.isTouchActive=function(){if(1==T.touch_active)return!0;if(1==b.is(":animated"))return!0;var t=e();return t.lastActiveTime<50?!0:!1},this.destroy=function(){v.unbind("mousedown"),v.unbind("touchstart"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),jQuery("body").unbind("mousemove").unbind("touchmove")}}function UGPanelsBase(){function e(e,t){switch(i.orientation){case"right":case"left":var n={left:e+"px"};break;case"top":case"bottom":var n={top:e+"px"}}o.stop(!0).animate(n,{duration:300,easing:"easeInOutQuad",queue:!1,complete:function(){t&&t()}})}function t(e){switch(i.orientation){case"right":case"left":h.placeElement(o,e,null);break;case"top":case"bottom":h.placeElement(o,null,e)}}function n(){s.trigger(r.events.FINISH_MOVE)}var i,r,o,a,s,l,u,d=new UniteGalleryMain,c=this,h=new UGFunctions;this.init=function(e,t,n,o,l){i=t,r=n,d=e,a=o,s=l,u=jQuery(d)},this.setHtml=function(e){if(o=e,"strip"==i.panelType)var t=a.strippanel_enable_handle;else var t=a.gridpanel_enable_handle;if(1==t&&(l=new UGPanelHandle,l.init(r,o,a,i.panelType,d),l.setHtml()),i.isDisabledAtStart===!0){var n="<div class='ug-overlay-disabled'></div>";o.append(n),setTimeout(function(){o.children(".ug-overlay-disabled").hide()},i.disabledAtStartTimeout)}},this.placeElements=function(){l&&l.placeHandle()},this.initEvents=function(){l&&(l.initEvents(),u.on(d.events.SLIDER_ACTION_START,function(){l.hideHandle()}),u.on(d.events.SLIDER_ACTION_END,function(){l.showHandle()}))},this.destroy=function(){l&&(l.destroy(),u.off(d.events.SLIDER_ACTION_START),u.off(d.events.SLIDER_ACTION_END))},this.openPanel=function(a){if(!a)var a=!1;return o.is(":animated")?!1:0==i.isClosed?!1:(i.isClosed=!1,s.trigger(r.events.OPEN_PANEL),void(a===!1?e(i.originalPos,n):(t(i.originalPos),n())))},this.closePanel=function(a){if(!a)var a=!1;if(o.is(":animated"))return!1;if(1==i.isClosed)return!1;var l=c.getClosedPanelDest();i.isClosed=!0,s.trigger(r.events.CLOSE_PANEL),a===!1?e(l,n):(t(l),n())},this.setClosedState=function(e){i.originalPos=e,s.trigger(r.events.CLOSE_PANEL),i.isClosed=!0},this.setOpenedState=function(e){s.trigger(r.events.OPEN_PANEL),i.isClosed=!1},this.getClosedPanelDest=function(){var e,t=h.getElementSize(o);switch(i.orientation){case"left":i.originalPos=t.left,e=-i.panelWidth;break;case"right":i.originalPos=t.left;var n=d.getSize();e=n.width;break;case"top":i.originalPos=t.top,e=-i.panelHeight;break;case"bottom":i.originalPos=t.top;var n=d.getSize();e=n.height}return e},this.isPanelClosed=function(){return i.isClosed},this.setDisabledAtStart=function(e){return 0>=e?!1:(i.isDisabledAtStart=!0,void(i.disabledAtStartTimeout=e))}}function UGPanelHandle(){function e(){s.removeClass("ug-button-hover")}function t(){s.addClass("ug-button-closed")}function n(){s.removeClass("ug-button-closed")}function i(e){return e.stopPropagation(),e.stopImmediatePropagation(),0==l.validateClickTouchstartEvent(e.type)?!0:void(a.isPanelClosed()?a.openPanel():a.closePanel())}function r(){var e=a.getOrientation();switch(e){case"right":case"left":"top"!=u.panel_handle_align&&"bottom"!=u.panel_handle_align&&(u.panel_handle_align="top");break;case"bottom":"left"!=u.panel_handle_align&&"right"!=u.panel_handle_align&&(u.panel_handle_align="left");break;case"top":"left"!=u.panel_handle_align&&"right"!=u.panel_handle_align&&(u.panel_handle_align="right")}}var o,a,s,l=new UGFunctions,u={panel_handle_align:"top",panel_handle_offset:0,panel_handle_skin:0};this.init=function(e,t,n,i,r){switch(a=e,o=t,i){case"grid":u.panel_handle_align=n.gridpanel_handle_align,u.panel_handle_offset=n.gridpanel_handle_offset,u.panel_handle_skin=n.gridpanel_handle_skin;break;case"strip":u.panel_handle_align=n.strippanel_handle_align,u.panel_handle_offset=n.strippanel_handle_offset,u.panel_handle_skin=n.strippanel_handle_skin;break;default:throw new Error("Panel handle error: wrong panel type: "+i)}var s=r.getOptions(),l=s.gallery_skin;""==u.panel_handle_skin&&(u.panel_handle_skin=l)},this.setHtml=function(){var e=a.getOrientation(),t="ug-panel-handle-tip";switch(e){case"right":t+=" ug-handle-tip-left";break;case"left":t+=" ug-handle-tip-right";break;case"bottom":t+=" ug-handle-tip-top";break;case"top":t+=" ug-handle-tip-bottom"}o.append("<div class='"+t+" ug-skin-"+u.panel_handle_skin+"'></div>"),s=o.children(".ug-panel-handle-tip")},this.initEvents=function(){l.addClassOnHover(s),s.bind("click touchstart",i),jQuery(a).on(a.events.OPEN_PANEL,function(){e(),n()}),jQuery(a).on(a.events.CLOSE_PANEL,function(){e(),t()})},this.destroy=function(){l.destroyButton(s),jQuery(a).off(a.events.OPEN_PANEL),jQuery(a).off(a.events.CLOSE_PANEL)},this.placeHandle=function(){var e=l.getElementSize(s);r();var t=a.getOrientation();switch(t){case"left":l.placeElement(s,"right",u.panel_handle_align,-e.width);break;case"right":l.placeElement(s,-e.width,u.panel_handle_align,0,u.panel_handle_offset);break;case"top":l.placeElement(s,u.panel_handle_align,"bottom",u.panel_handle_offset,-e.height);break;case"bottom":l.placeElement(s,u.panel_handle_align,"top",u.panel_handle_offset,-e.height);break;default:throw new Error("Wrong panel orientation: "+t)}},this.hideHandle=function(){1==s.is(":visible")&&s.hide()},this.showHandle=function(){0==s.is(":visible")&&s.show()}}function UGStripPanel(){function e(e,t){T=e,m=jQuery(T),P=jQuery.extend(P,t);var n=!1;1==P.strippanel_vertical_type&&(P=jQuery.extend(P,j),n=!0),0==P.strippanel_enable_buttons&&(P=jQuery.extend(P,A),n=!0),1==n&&(P=jQuery.extend(P,t));var i=T.getOptions(),r=i.gallery_skin;""==P.strippanel_buttons_skin&&(P.strippanel_buttons_skin=r),v=T.getElement(),C.init(T,k,x,P,E),I=new UGThumbsStrip,I.init(T,P)}function t(){if(0==P.strippanel_vertical_type){if(0==k.panelWidth)throw new Error("Strip panel error: The width not set, please set width")}else if(0==k.panelHeight)throw new Error("Strip panel error: The height not set, please set height");if(null==k.orientation)throw new Error("Wrong orientation, please set panel orientation before run");return!0}function n(){return 1==k.isFirstRun&&0==t()?!1:(I.run(),s(),d(),_(),k.isFirstRun=!1,void p())}function i(e){if(!e)var e=v;if(e.append("<div class='ug-strip-panel'></div>"),b=e.children(".ug-strip-panel"),1==P.strippanel_enable_buttons){var t="ug-strip-arrow-left",n="ug-strip-arrow-right";1==P.strippanel_vertical_type&&(t="ug-strip-arrow-up",n="ug-strip-arrow-down"),b.append("<div class='ug-strip-arrow "+t+" ug-skin-"+P.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>"),b.append("<div class='ug-strip-arrow "+n+" ug-skin-"+P.strippanel_buttons_skin+"'><div class='ug-strip-arrow-tip'></div></div>")}C.setHtml(b),I.setHtml(b),1==P.strippanel_enable_buttons&&(w=b.children("."+t),y=b.children("."+n)),r()}function r(){""!=P.strippanel_background_color&&b.css("background-color",P.strippanel_background_color)}function o(){var e=I.getHeight(),t=k.panelWidth;if(y){w.height(e),y.height(e);var n=w.children(".ug-strip-arrow-tip");S.placeElement(n,"center","middle");var i=y.children(".ug-strip-arrow-tip");S.placeElement(i,"center","middle")}var r=e+P.strippanel_padding_top+P.strippanel_padding_bottom;b.width(t),b.height(r),k.panelHeight=r;var o=t-P.strippanel_padding_left-P.strippanel_padding_right;if(y){var a=y.outerWidth();o=o-2*a-2*P.strippanel_padding_buttons}I.resize(o)}function a(){var e=I.getWidth(),t=k.panelHeight;if(y){w.width(e),y.width(e);var n=w.children(".ug-strip-arrow-tip");S.placeElement(n,"center","middle");var i=y.children(".ug-strip-arrow-tip");S.placeElement(i,"center","middle")}var r=e+P.strippanel_padding_left+P.strippanel_padding_right;b.width(r),b.height(t),k.panelWidth=r;var o=t-P.strippanel_padding_top-P.strippanel_padding_bottom;if(y){var a=y.outerHeight();o=o-2*a-2*P.strippanel_padding_buttons}I.resize(o)}function s(){0==P.strippanel_vertical_type?o():a()}function l(){y&&(S.placeElement(w,"left","top",P.strippanel_padding_left,P.strippanel_padding_top),S.placeElement(y,"right","top",P.strippanel_padding_right,P.strippanel_padding_top));var e=P.strippanel_padding_left;y&&(e+=y.outerWidth()+P.strippanel_padding_buttons),I.setPosition(e,P.strippanel_padding_top)}function u(){y&&(S.placeElement(w,"left","top",P.strippanel_padding_left,P.strippanel_padding_top),S.placeElement(y,"left","bottom",P.strippanel_padding_left,P.strippanel_padding_bottom));var e=P.strippanel_padding_top;y&&(e+=y.outerHeight()+P.strippanel_padding_buttons),I.setPosition(P.strippanel_padding_left,e)}function d(){0==P.strippanel_vertical_type?l():u(),C.placeElements()}function c(e){return S.isButtonDisabled(e)?!0:void("advance_item"==P.strippanel_buttons_role?T.nextItem():I.scrollForeward())}function h(e){return S.isButtonDisabled(e)?!0:void("advance_item"==P.strippanel_buttons_role?T.prevItem():I.scrollBack())}function p(){if(!y)return!0;if(0==I.isMoveEnabled())return S.disableButton(w),S.disableButton(y),!0;var e=I.getInnerStripLimits(),t=I.getInnerStripPos();t>=e.maxPos?S.disableButton(w):S.enableButton(w),t<=e.minPos?S.disableButton(y):S.enableButton(y)}function f(){p()}function g(){T.isLastItem()?S.disableButton(y):S.enableButton(y),T.isFirstItem()?S.disableButton(w):S.enableButton(w)}function _(){if(1==k.isEventsInited)return!1;if(k.isEventsInited=!0,y)if(S.addClassOnHover(y,"ug-button-hover"),S.addClassOnHover(w,"ug-button-hover"),S.setButtonOnClick(w,h),S.setButtonOnClick(y,c),"advance_item"!=P.strippanel_buttons_role)jQuery(I).on(I.events.STRIP_MOVE,f),m.on(T.events.SIZE_CHANGE,p);else{var e=T.getOptions();0==e.gallery_carousel&&jQuery(T).on(T.events.ITEM_CHANGE,g)}C.initEvents()}var m,v,b,y,w,x=this,E=jQuery(this),T=new UniteGalleryMain,S=new UGFunctions,I=new UGThumbsStrip,C=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var P={strippanel_vertical_type:!1,strippanel_padding_top:8,strippanel_padding_bottom:8,strippanel_padding_left:0,strippanel_padding_right:0,strippanel_enable_buttons:!0,strippanel_buttons_skin:"",strippanel_padding_buttons:2,strippanel_buttons_role:"scroll_strip",strippanel_enable_handle:!0,strippanel_handle_align:"top",strippanel_handle_offset:0,strippanel_handle_skin:"",strippanel_background_color:""},j={strip_vertical_type:!0,strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:0,strippanel_padding_bottom:0},A={strippanel_padding_left:8,strippanel_padding_right:8,strippanel_padding_top:8,strippanel_padding_bottom:8},k={panelType:"strip",panelWidth:0,panelHeight:0,isEventsInited:!1,isClosed:!1,orientation:null,originalPos:null,isFirstRun:!0};this.destroy=function(){y&&(S.destroyButton(y),S.destroyButton(w),jQuery(I).off(I.events.STRIP_MOVE),jQuery(T).off(T.events.ITEM_CHANGE),jQuery(T).off(T.events.SIZE_CHANGE)),C.destroy(),I.destroy()},this.getOrientation=function(){return k.orientation},this.setOrientation=function(e){k.orientation=e},this.init=function(t,n){e(t,n)},this.run=function(){n()},this.setHtml=function(e){i(e)},this.getElement=function(){return b},this.getSize=function(){var e=S.getElementSize(b);return e},this.setWidth=function(e){k.panelWidth=e},this.setHeight=function(e){k.panelHeight=e},this.resize=function(e){x.setWidth(e),s(),d()},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return C.isPanelClosed()},this.getClosedPanelDest=function(){return C.getClosedPanelDest()},this.openPanel=function(e){C.openPanel(e)},this.closePanel=function(e){C.closePanel(e)},this.setOpenedState=function(e){C.setOpenedState(e)},this.setClosedState=function(e){C.setClosedState(e)},this.setCustomThumbs=function(e){I.setCustomThumbs(e)},this.setDisabledAtStart=function(e){C.setDisabledAtStart(e)}}function UGGridPanel(){function e(e,n){C=e,t(),n&&n.vertical_scroll&&(k.gridpanel_vertical_scroll=n.vertical_scroll),k=jQuery.extend(k,n),1==L.isHorType?(k=jQuery.extend(k,N),k=jQuery.extend(k,n)):1==k.gridpanel_vertical_scroll&&(k=jQuery.extend(k,M),k=jQuery.extend(k,n),k.grid_panes_direction="bottom");var i=C.getOptions(),r=i.gallery_skin;""==k.gridpanel_arrows_skin&&(k.gridpanel_arrows_skin=r);var o=e.getObjects();w=o.g_objWrapper,A.init(C,L,S,k,I),j=new UGThumbsGrid,j.init(C,k)}function t(){if(null==L.orientation)throw new Error("Wrong orientation, please set panel orientation before run")}function n(){t(),o(),j.run(),l(),u(),y(),d()}function i(){w.append("<div class='ug-grid-panel'></div>"),x=w.children(".ug-grid-panel"),L.isHorType?(x.append("<div class='grid-arrow grid-arrow-left-hortype ug-skin-"+k.gridpanel_arrows_skin+"'></div>"),x.append("<div class='grid-arrow grid-arrow-right-hortype ug-skin-"+k.gridpanel_arrows_skin+"'></div>"),T=x.children(".grid-arrow-left-hortype"),E=x.children(".grid-arrow-right-hortype")):0==k.gridpanel_vertical_scroll?(x.append("<div class='grid-arrow grid-arrow-left ug-skin-"+k.gridpanel_arrows_skin+"'></div>"),x.append("<div class='grid-arrow grid-arrow-right ug-skin-"+k.gridpanel_arrows_skin+"'></div>"),T=x.children(".grid-arrow-left"),E=x.children(".grid-arrow-right")):(x.append("<div class='grid-arrow grid-arrow-up ug-skin-"+k.gridpanel_arrows_skin+"'></div>"),x.append("<div class='grid-arrow grid-arrow-down ug-skin-"+k.gridpanel_arrows_skin+"'></div>"),T=x.children(".grid-arrow-up"),E=x.children(".grid-arrow-down")),A.setHtml(x),T.fadeTo(0,0),E.fadeTo(0,0),j.setHtml(x),r()}function r(){""!=k.gridpanel_background_color&&x.css("background-color",k.gridpanel_background_color)}function o(){"center"==k.gridpanel_grid_align&&(k.gridpanel_grid_align="middle")}function a(){var e=k.gridpanel_padding_border_top+k.gridpanel_padding_border_bottom,t=L.panelHeight-e;if(0==k.gridpanel_arrows_always_on){var n=j.getNumPanesEstimationByHeight(t);if(1==n)return t}var i=P.getElementSize(E),r=i.height,e=r+k.gridpanel_arrows_padding_vert;return 1==k.gridpanel_vertical_scroll&&(e*=2),e+=k.gridpanel_padding_border_top+k.gridpanel_padding_border_bottom,t=L.panelHeight-e}function s(){var e=k.gridpanel_padding_border_left+k.gridpanel_padding_border_right,t=L.panelWidth-e;if(0==k.gridpanel_arrows_always_on){var n=j.getNumPanesEstimationByWidth(t);if(1==n)return t}var i=P.getElementSize(E),r=i.width;return e+=2*(r+k.gridpanel_arrows_padding_hor),t=L.panelWidth-e}function l(){var e=!1;if(1==k.gridpanel_arrows_always_on)e=!0;else{var t=j.getNumPanes();t>1&&(e=!0)}1==e?(E.show().fadeTo(0,1),T.show().fadeTo(0,1),L.arrowsVisible=!0):(E.hide(),T.hide(),L.arrowsVisible=!1)}function u(){var e=j.getSize();1==L.isHorType?L.panelHeight=e.height+k.gridpanel_padding_border_top+k.gridpanel_padding_border_bottom:L.panelWidth=e.width+k.gridpanel_padding_border_left+k.gridpanel_padding_border_right,P.setElementSize(x,L.panelWidth,L.panelHeight)}function d(){return 1==L.isEventsInited?!1:(L.isEventsInited=!0,T&&(P.addClassOnHover(T),j.attachPrevPaneButton(T)),E&&(P.addClassOnHover(E),j.attachNextPaneButton(E)),void A.initEvents())}function c(){var e=k.gridpanel_padding_border_left;return e}function h(){var e=k.gridpanel_grid_align,t=0;switch(e){case"top":t=k.gridpanel_padding_border_top;break;case"bottom":t=k.gridpanel_padding_border_bottom}var n=c(),i=j.getElement();P.placeElement(i,n,e,0,t)}function p(){var e,t,n,i,r=P.getElementSize(T),o=j.getSize();switch(k.gridpanel_grid_align){default:case"top":e=k.gridpanel_padding_border_top+r.height+k.gridpanel_arrows_padding_vert;break;case"middle":e="middle";break;case"bottom":e=L.panelHeight-o.height-r.height-k.gridpanel_padding_border_bottom-k.gridpanel_arrows_padding_vert}var a=c(),s=j.getElement();P.placeElement(s,a,e);var o=j.getSize();switch(k.gridpanel_arrows_align_vert){default:case"center":case"middle":t=(o.top-r.height)/2,n=o.bottom+(L.panelHeight-o.bottom-r.height)/2,i=0;break;case"grid":t=o.top-r.height-k.gridpanel_arrows_padding_vert_vert,n=o.bottom+k.gridpanel_arrows_padding_vert,i=0;break;case"border":case"borders":t=k.gridpanel_padding_border_top,n="bottom",i=k.gridpanel_padding_border_bottom}P.placeElement(T,"center",t),P.placeElement(E,"center",n,0,i)}function f(){1==L.arrowsVisible?p():h()}function g(){var e,t,n,i,r=P.getElementSize(T),o=j.getSize(),a=k.gridpanel_padding_border_top;switch(k.gridpanel_grid_align){case"middle":switch(k.gridpanel_arrows_align_vert){default:var s=o.height+k.gridpanel_arrows_padding_vert+r.height;a=(L.panelHeight-s)/2;break;case"border":case"borders":var l=L.panelHeight-r.height-k.gridpanel_padding_border_bottom;a=(l-o.height)/2}break;case"bottom":var s=o.height+r.height+k.gridpanel_arrows_padding_vert;a=L.panelHeight-s-k.gridpanel_padding_border_bottom}var u=j.getElement(),d=c();P.placeElement(u,d,a);var o=j.getSize();switch(k.gridpanel_arrows_align_vert){default:case"center":case"middle":e=o.bottom+(L.panelHeight-o.bottom-r.height)/2,n=0;break;case"grid":e=o.bottom+k.gridpanel_arrows_padding_vert,n=0;break;case"border":case"borders":e="bottom",n=k.gridpanel_padding_border_bottom}t=-r.width/2-k.gridpanel_space_between_arrows/2,P.placeElement(T,"center",e,t,n);var i=Math.abs(t);P.placeElement(E,"center",e,i,n)}function _(){1==L.arrowsVisible?g():h()}function m(){var e,t,n,i,r=P.getElementSize(T),o=j.getSize();switch(k.gridpanel_grid_align){default:case"left":e=k.gridpanel_padding_border_left+k.gridpanel_arrows_padding_hor+r.width;break;case"middle":case"center":e="center";break;case"right":e=L.panelWidth-o.width-r.width-k.gridpanel_padding_border_right-k.gridpanel_arrows_padding_hor}var a=j.getElement();switch(P.placeElement(a,e,k.gridpanel_padding_border_top),o=j.getSize(),k.gridpanel_arrows_align_vert){default:case"center":case"middle":i=(o.height-r.height)/2+o.top;break;case"top":i=k.gridpanel_padding_border_top+k.gridpanel_arrows_padding_vert;break;case"bottom":i=L.panelHeight-k.gridpanel_padding_border_bottom-k.gridpanel_arrows_padding_vert-r.height}switch(k.gridpanel_arrows_align_hor){default:case"borders":t=k.gridpanel_padding_border_left,n=L.panelWidth-k.gridpanel_padding_border_right-r.width;break;case"grid":t=o.left-k.gridpanel_arrows_padding_hor-r.width,n=o.right+k.gridpanel_arrows_padding_hor;break;case"center":t=(o.left-r.width)/2,n=o.right+(L.panelWidth-o.right-r.width)/2}P.placeElement(T,t,i),P.placeElement(E,n,i)}function v(){var e,t=j.getSize();switch(k.gridpanel_grid_align){default:case"left":e=k.gridpanel_padding_border_left;break;case"middle":case"center":e="center";break;case"right":e=L.panelWidth-t.width-k.gridpanel_padding_border_right}var n=j.getElement();P.placeElement(n,e,k.gridpanel_padding_border_top)}function b(){1==L.arrowsVisible?m():v()}function y(){0==L.isHorType?1==k.gridpanel_vertical_scroll?f():_():b(),A.placeElements()}var w,x,E,T,S=this,I=jQuery(this),C=new UniteGalleryMain,P=new UGFunctions,j=new UGThumbsGrid,A=new UGPanelsBase;this.events={FINISH_MOVE:"gridpanel_move_finish",OPEN_PANEL:"open_panel",CLOSE_PANEL:"close_panel"};var k={gridpanel_vertical_scroll:!0,gridpanel_grid_align:"middle",gridpanel_padding_border_top:10,gridpanel_padding_border_bottom:4,gridpanel_padding_border_left:10,gridpanel_padding_border_right:10,gridpanel_arrows_skin:"",gridpanel_arrows_align_vert:"middle",gridpanel_arrows_padding_vert:4,gridpanel_arrows_align_hor:"center",gridpanel_arrows_padding_hor:10,gridpanel_space_between_arrows:20,gridpanel_arrows_always_on:!1,gridpanel_enable_handle:!0,gridpanel_handle_align:"top",gridpanel_handle_offset:0,gridpanel_handle_skin:"",gridpanel_background_color:""},M={gridpanel_grid_align:"middle",gridpanel_padding_border_top:2,gridpanel_padding_border_bottom:2},N={gridpanel_grid_align:"center"},L={panelType:"grid",isHorType:!1,arrowsVisible:!1,panelHeight:0,panelWidth:0,originalPosX:null,isEventsInited:!1,isClosed:!1,orientation:null};this.destroy=function(){T&&P.destroyButton(T),E&&P.destroyButton(E),A.destroy(),j.destroy()},this.getOrientation=function(){return L.orientation},this.setOrientation=function(e){switch(L.orientation=e,e){case"right":case"left":L.isHorType=!1;break;case"top":case"bottom":L.isHorType=!0;break;default:throw new Error("Wrong grid panel orientation: "+e)}},this.setHeight=function(e){if(1==L.isHorType)throw new Error("setHeight is not appliable to this orientatio ("+L.orientation+"). Please use setWidth");L.panelHeight=e;var t=a();j.setMaxHeight(t)},this.setWidth=function(e){if(0==L.isHorType)throw new Error("setWidth is not appliable to this orientatio ("+L.orientation+"). Please use setHeight");L.panelWidth=e;var t=s();j.setMaxWidth(t)},this.init=function(t,n){e(t,n)},this.setHtml=function(){i()},this.run=function(){n()},this.getElement=function(){return x},this.getSize=function(){var e=P.getElementSize(x);return e},this.__________Functions_From_Base_____=function(){},this.isPanelClosed=function(){return A.isPanelClosed()},this.getClosedPanelDest=function(){return A.getClosedPanelDest()},this.openPanel=function(e){A.openPanel(e)},this.closePanel=function(e){A.closePanel(e)},this.setOpenedState=function(e){A.setOpenedState(e)},this.setClosedState=function(e){A.setClosedState(e)},this.setDisabledAtStart=function(e){A.setDisabledAtStart(e)}}function UGThumbsGrid(){function e(e,t,n){z=e.getObjects(),Q=e,Q.attachThumbsPanel("grid",D),L=jQuery(e),O=z.g_objWrapper,H=z.g_arrItems,n===!0&&(q.isTilesMode=!0),q.numThumbs=H.length,d(t),q.isNavigationVertical="top"==Y.grid_panes_direction||"bottom"==Y.grid_panes_direction,1==q.isTilesMode?(U.setFixedMode(),U.setApproveClickFunction(I),U.init(e,Y),B=U.getObjThumbs()):(t.thumb_fixed_size=!0,B.init(e,t))}function t(e){var t=O;e&&(t=e),t.append("<div class='ug-thumbs-grid'><div class='ug-thumbs-grid-inner'></div></div>"),F=t.children(".ug-thumbs-grid"),R=F.children(".ug-thumbs-grid-inner"),1==q.isTilesMode?U.setHtml(R):B.setHtmlThumbs(R)}function n(){if(0==q.isHorizontal){if(0==q.gridHeight)throw new Error("You must set height before run.")}else if(0==q.gridWidth)throw new Error("You must set width before run.")}function r(){var e=Q.getSelectedItem();if(n(),1==q.isFirstTimeRun&&(N(),1==q.isTilesMode?(l(),U.run()):(B.setHtmlProperties(),l(),B.loadThumbsImages())),f(),1==q.isFirstTimeRun&&q.isTilesMode){var t=B.getThumbs();t.each(function(e,t){
O.trigger(q.eventSizeChange,jQuery(t))}),t.fadeTo(0,1)}null!=e&&u(e.index),W.trigger(D.events.PANE_CHANGE,q.currentPane),q.isFirstTimeRun=!1}function o(){if(1==q.isTilesMode)var e=U.getGlobalTileSize();else var e=B.getGlobalThumbSize();return e}function a(){var e=o(),t=e.height,n=q.gridWidth,i=Y.grid_num_rows*t+(Y.grid_num_rows-1)*Y.grid_space_between_rows+2*Y.grid_padding;q.gridHeight=i,G.setElementSize(F,n,i),G.setElementSize(R,n,i),q.innerWidth=n,q.innerHeight=i}function s(){var e=o(),t=e.width,n=Y.grid_num_cols*t+(Y.grid_num_cols-1)*Y.grid_space_between_cols+2*Y.grid_padding,i=q.gridHeight;q.gridWidth=n,G.setElementSize(F,n,i),G.setElementSize(R,n,i),q.innerWidth=n,q.innerHeight=i}function l(){0==q.isHorizontal?s():a()}function u(e){var t=E(e);return-1==t?!1:void D.gotoPane(t,"scroll")}function d(e){Y=jQuery.extend(Y,e),B.setOptions(e)}function c(){var e=R.children(".ug-thumb-wrapper"),t=0,n=0,r=0,o=0,a=0,s=0;q.innerWidth=0,q.numPanes=1,q.arrPanes=[],q.numThumbsInPane=0,q.arrPanes.push(o);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);G.placeElement(u,t,n);var d=u.outerWidth(),c=u.outerHeight();t>a&&(a=t);var h=n+c;h>s&&(s=h);var p=a+d;p>q.innerWidth&&(q.innerWidth=p),t+=d+Y.grid_space_between_cols,r++,r>=Y.grid_num_cols&&(n+=c+Y.grid_space_between_rows,t=o,r=0),1==q.numPanes&&q.numThumbsInPane++,n+c>q.gridHeight&&(n=0,o=q.innerWidth+Y.grid_space_between_cols,t=o,r=0,1==q.isMaxHeight&&1==q.numPanes&&(q.gridHeight=s,F.height(q.gridHeight)),i<l-1&&(q.numPanes++,q.arrPanes.push(o)))}R.width(q.innerWidth),1==q.isMaxHeight&&1==q.numPanes&&(q.gridHeight=s,F.height(s))}function h(){var e=R.children(".ug-thumb-wrapper"),t=0,n=0,r=0,o=0,a=0,s=0;q.innerWidth=0,q.numPanes=1,q.arrPanes=[],q.numThumbsInPane=0,q.arrPanes.push(a);var l=e.length;for(i=0;i<l;i++){var u=jQuery(e[i]);G.placeElement(u,t,n);var d=u.outerWidth(),c=u.outerHeight();t+=d+Y.grid_space_between_cols;var h=n+c;h>r&&(r=h),o++,o>=Y.grid_num_cols&&(n+=c+Y.grid_space_between_rows,t=a,o=0),1==q.numPanes&&q.numThumbsInPane++,h=n+c;var p=s+q.gridHeight;h>p&&(1==q.isMaxHeight&&1==q.numPanes&&(q.gridHeight=r,F.height(q.gridHeight),p=q.gridHeight),n=p+Y.grid_space_between_rows,s=n,a=0,t=a,o=0,i<l-1&&(q.numPanes++,q.arrPanes.push(n)))}R.height(r),q.innerHeight=r,1==q.isMaxHeight&&1==q.numPanes&&(q.gridHeight=r,F.height(r))}function p(){var e=R.children(".ug-thumb-wrapper"),t=Y.grid_padding,n=Y.grid_padding,r=n,o=t,a=0,s=0,l=0,u=0;q.innerWidth=0,q.numPanes=1,q.arrPanes=[],q.numThumbsInPane=0,q.arrPanes.push(t-Y.grid_padding);var d=e.length;for(i=0;i<d;i++){var c=jQuery(e[i]),h=c.outerWidth(),p=c.outerHeight();o-t+h>q.gridWidth&&(u++,r=0,u>=Y.grid_num_rows?(u=0,t=o,l=0,r=n,1==q.numPanes&&(q.gridWidth=a+Y.grid_padding,F.width(q.gridWidth)),q.numPanes++,q.arrPanes.push(t-Y.grid_padding)):(o=t,r=l+Y.grid_space_between_rows)),G.placeElement(c,o,r);var f=o+h;f>a&&(a=f);var g=r+p;g>l&&(l=g),g>s&&(s=g);var f=a+h;f>q.innerWidth&&(q.innerWidth=f),o+=h+Y.grid_space_between_cols,1==q.numPanes&&q.numThumbsInPane++}q.innerWidth=a,q.innerHeight=l,R.width(q.innerWidth),R.height(q.innerHeight),1==q.numPanes&&(q.gridWidth=a+Y.grid_padding,q.gridHeight=s+Y.grid_padding,F.width(q.gridWidth),F.height(q.gridHeight))}function f(){0==q.isHorizontal?q.isNavigationVertical?h():c():p()}function g(e){if(0>e||e>=q.numThumbs)throw new Error("Thumb not exists: "+e);return!0}function _(e){if(e>=q.numPanes||0>e)throw new Error("Pane "+index+" doesn't exists.");return!0}function m(e){var t=w(e);return 0==t?!1:void R.css(t)}function v(e){var t=w(e);return 0==t?!1:void R.stop(!0).animate(t,{duration:Y.grid_transition_duration,easing:Y.grid_transition_easing,queue:!1})}function b(){var e=-q.arrPanes[q.currentPane];v(e)}function y(){return 1==q.isNavigationVertical?q.gridHeight:q.gridWidth}function w(e){var t={};return 1==q.isNavigationVertical?t.top=e+"px":t.left=e+"px",t}function x(){var e=G.getElementSize(R);return 1==q.isNavigationVertical?e.top:e.left}function E(e){if(0==g(e))return-1;var t=Math.floor(e/q.numThumbsInPane);return t}function T(){if(1==q.numPanes)return!1;var e=G.getStoredEventData(q.storedEventID),t=e.diffTime,n=x(),i=Math.abs(n-e.startInnerPos);return i>30?!0:i>5&&t>300?!0:!1}function S(){var e=G.getStoredEventData(q.storedEventID),t=x();diffPos=Math.abs(e.startInnerPos-t);var n=y(),i=Math.round(3*n/8);return diffPos>=i?!0:e.diffTime<300&&diffPos>25?!0:!1}function I(){if(1==q.numPanes)return!0;var e=G.isApproveStoredEventClick(q.storedEventID,q.isNavigationVertical);return e}function C(e){if(1==T())return!0;var t=jQuery(this),n=B.getItemByThumb(t);Q.selectItem(n)}function P(e){if(1==q.numPanes)return!0;if(1==q.touchActive)return!0;0==q.isTilesMode&&e.preventDefault(),q.touchActive=!0;var t={startInnerPos:x()};G.storeEventData(e,q.storedEventID,t)}function j(){if(0==Y.grid_vertical_scroll_ondrag)return!1;if(1==q.isNavigationVertical)return!1;var e=G.handleScrollTop(q.storedEventID);return"vert"===e?!0:!1}function A(e){if(0==q.touchActive)return!0;e.preventDefault(),G.updateStoredEventData(e,q.storedEventID);var t=G.getStoredEventData(q.storedEventID,q.isNavigationVertical),n=j();if(n)return!0;var i=t.diffMousePos,r=t.startInnerPos+i,o=i>0?"prev":"next",a=q.arrPanes[q.numPanes-1];0==Y.grid_carousel&&r>0&&"prev"==o&&(r/=3),0==Y.grid_carousel&&-a>r&&"next"==o&&(r=t.startInnerPos+i/3),m(r)}function k(e){if(0==q.touchActive)return!0;G.updateStoredEventData(e,q.storedEventID);var t=G.getStoredEventData(q.storedEventID,q.isNavigationVertical);if(q.touchActive=!1,0==S())return b(),!0;var n=x(),i=n-t.startInnerPos,r=i>0?"prev":"next";"next"==r?0==Y.grid_carousel&&D.isLastPane()?b():D.nextPane():0==Y.grid_carousel&&D.isFirstPane()?b():D.prevPane()}function M(){var e=Q.getSelectedItem();B.setThumbSelected(e.objThumbWrapper),u(e.index)}function N(){if(0==q.isTilesMode){B.initEvents();var e=F.find(".ug-thumb-wrapper");e.on("click touchend",C),L.on(Q.events.ITEM_CHANGE,M)}else U.initEvents();F.bind("mousedown touchstart",P),jQuery("body").bind("mousemove touchmove",A),jQuery(window).add("body").bind("mouseup touchend",k)}var L,z,O,H,F,R,D=this,W=jQuery(this),Q=new UniteGalleryMain,G=new UGFunctions,B=new UGThumbsGeneral,U=new UGTileDesign,Y={grid_panes_direction:"left",grid_num_cols:2,grid_num_rows:2,grid_space_between_cols:10,grid_space_between_rows:10,grid_transition_duration:300,grid_transition_easing:"easeInOutQuad",grid_carousel:!1,grid_padding:0,grid_vertical_scroll_ondrag:!1};this.events={PANE_CHANGE:"pane_change"};var q={eventSizeChange:"thumb_size_change",isHorizontal:!1,isMaxHeight:!1,isMaxWidth:!1,gridHeight:0,gridWidth:0,innerWidth:0,innerHeight:0,numPanes:0,arrPanes:0,numThumbs:0,currentPane:0,numThumbsInPane:0,isNavigationVertical:!1,touchActive:!1,startScrollPos:0,isFirstTimeRun:!0,isTilesMode:!1,storedEventID:"thumbsgrid"};this.destroy=function(){if(0==q.isTilesMode){var e=F.find(".ug-thumb-wrapper");e.off("click"),e.off("touchend"),L.on(Q.events.ITEM_CHANGE),B.destroy()}else U.destroy();F.unbind("mousedown"),F.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("touchend"),jQuery(window).add("body").unbind("mouseup"),W.off(D.events.PANE_CHANGE)},this.__________EXTERNAL_GENERAL_________=function(){},this.setThumbUnselected=function(e){B.setThumbUnselected(e)},this.isItemThumbVisible=function(e){var t=e.index,n=E(t);return n==q.currentPane?!0:!1},this.__________EXTERNAL_API_________=function(){},this.getNumPanesEstimationByHeight=function(e){if(1==q.isTilesMode)var t=Y.tile_height;else var n=B.getOptions(),t=n.thumb_height;var i=B.getNumThumbs(),r=Math.ceil(i/Y.grid_num_cols),o=r*t+(r-1)*Y.grid_space_between_rows,a=Math.ceil(o/e);return a},this.getNumPanesEstimationByWidth=function(e){if(q.isTilesMode)var t=Y.tile_width;else var n=B.getOptions(),t=n.thumb_width;var i=B.getNumThumbs(),r=Math.ceil(i/Y.grid_num_rows),o=r*t+(r-1)*Y.grid_space_between_cols,a=Math.ceil(o/e);return a},this.getHeightEstimationByWidth=function(e){if(0==q.isTilesMode)throw new Error("This function works only with tiles mode");var t=B.getNumThumbs(),n=G.getNumItemsInSpace(e,Y.tile_width,Y.grid_space_between_cols),i=Math.ceil(t/n);i>Y.grid_num_rows&&(i=Y.grid_num_rows);var r=G.getSpaceByNumItems(i,Y.tile_height,Y.grid_space_between_rows);return r+=2*Y.grid_padding},this.getElement=function(){return F},this.getSize=function(){var e=G.getElementSize(F);return e},this.getNumPanes=function(){return q.numPanes},this.isFirstPane=function(){return 0==q.currentPane?!0:!1},this.isLastPane=function(){return q.currentPane==q.numPanes-1?!0:!1},this.getPaneInfo=function(){var e={pane:q.currentPane,total:q.numPanes};return e},this.getPane=function(){return q.currentPane},this.setWidth=function(e){q.gridWidth=e,q.isHorizontal=!0},this.setMaxWidth=function(e){q.gridWidth=e,q.isMaxWidth=!0,q.isHorizontal=!0},this.setHeight=function(e){q.gridHeight=e,q.isHorizontal=!1},this.setMaxHeight=function(e){q.gridHeight=e,q.isMaxHeight=!0,q.isHorizontal=!1},this.gotoPane=function(e,t){if(0==_(e))return!1;if(e==q.currentPane)return!1;var n=-q.arrPanes[e];q.currentPane=e,v(n),W.trigger(D.events.PANE_CHANGE,e)},this.nextPane=function(){var e=q.currentPane+1;if(e>=q.numPanes){if(0==Y.grid_carousel)return!0;e=0}D.gotoPane(e,"next")},this.prevPane=function(){var e=q.currentPane-1;return 0>e&&(e=q.numPanes-1,0==Y.grid_carousel)?!1:void D.gotoPane(e,"prev")},this.attachNextPaneButton=function(e){return G.setButtonOnClick(e,D.nextPane),1==Y.grid_carousel?!0:(D.isLastPane()&&e.addClass("ug-button-disabled"),void W.on(D.events.PANE_CHANGE,function(){D.isLastPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.attachPrevPaneButton=function(e){return G.setButtonOnClick(e,D.prevPane),1==Y.grid_carousel?!0:(D.isFirstPane()&&e.addClass("ug-button-disabled"),void W.on(D.events.PANE_CHANGE,function(){D.isFirstPane()?e.addClass("ug-button-disabled"):e.removeClass("ug-button-disabled")}))},this.attachBullets=function(e){e.setActive(q.currentPane),jQuery(e).on(e.events.BULLET_CLICK,function(t,n){D.gotoPane(n,"theme"),e.setActive(n)}),jQuery(D).on(D.events.PANE_CHANGE,function(t,n){e.setActive(n)})},this.getObjTileDesign=function(){return U},this.init=function(t,n,i){e(t,n,i)},this.run=function(){r()},this.setHtml=function(e){t(e)}}function UGTiles(){function e(e,n){g_objects=e.getObjects(),re=e,$=jQuery(e),Z=g_objects.g_objWrapper,J=g_objects.g_arrItems,ue=jQuery.extend(ue,n),t(),ae.init(e,ue),se=ae.getObjThumbs()}function t(){ue.tiles_min_columns<1&&(ue.tiles_min_columns=1),0!=ue.tiles_max_columns&&ue.tiles_max_columns<ue.tiles_min_columns&&(ue.tiles_max_columns=ue.tiles_min_columns)}function n(e){if(!e)var e=Z;K=e;var t=ue.tiles_type;e.addClass("ug-tiletype-"+t),ae.setHtml(e),e.children(".ug-thumb-wrapper").hide()}function i(){if(K.addClass("ug-tiles-rest-mode"),de.isTransInited=!0,1==ue.tiles_enable_transition){K.addClass("ug-tiles-transit");var e=ae.getOptions();1==e.tile_enable_image_effect&&0==e.tile_image_effect_reverse&&K.addClass("ug-tiles-transit-overlays"),de.isTransActive=!0}}function r(){return oe.getElementSize(K).width}function o(){return 0==de.isTransInited?!1:(K.addClass("ug-tiles-transition-active"),K.removeClass("ug-tiles-rest-mode"),0==de.isTransActive?!1:void ae.disableEvents())}function a(){return 0==de.isTransInited?!1:(K.removeClass("ug-tiles-transition-active"),void K.addClass("ug-tiles-rest-mode"))}function s(){1==de.isTransActive?(setTimeout(function(){ae.enableEvents(),ae.triggerSizeChangeEventAllTiles(),a()},800),de.handle&&clearTimeout(de.handle),de.handle=setTimeout(function(){a(),ae.triggerSizeChangeEventAllTiles(),de.handle=null},2e3)):(ae.triggerSizeChangeEventAllTiles(),a())}function l(){le.colWidth=(le.availWidth-le.colGap*(le.numCols-1))/le.numCols,le.colWidth=Math.floor(le.colWidth),le.totalWidth=oe.getSpaceByNumItems(le.numCols,le.colWidth,le.colGap)}function u(){if(le.colWidth=ue.tiles_col_width,le.minCols=ue.tiles_min_columns,le.maxCols=ue.tiles_max_columns,0==re.isMobileMode()?le.colGap=ue.tiles_space_between_cols:le.colGap=ue.tiles_space_between_cols_mobile,le.galleryWidth=r(),le.availWidth=le.galleryWidth,1==ue.tiles_include_padding&&(le.availWidth=le.galleryWidth-2*le.colGap),1==ue.tiles_exact_width)le.numCols=oe.getNumItemsInSpace(le.availWidth,le.colWidth,le.colGap),le.maxCols>0&&le.numCols>le.maxCols&&(le.numCols=le.maxCols),le.numCols<le.minCols?(le.numCols=le.minCols,l()):le.totalWidth=le.numCols*(le.colWidth+le.colGap)-le.colGap;else{var e=oe.getNumItemsInSpaceRound(le.availWidth,le.colWidth,le.colGap);e<le.minCols?e=le.minCols:0!=le.maxCols&&e>le.maxCols&&(e=le.maxCols),le.numCols=e,l()}switch(ue.tiles_align){case"center":default:le.addX=Math.round((le.galleryWidth-le.totalWidth)/2);break;case"left":le.addX=0;break;case"right":le.addX=le.galleryWidth-le.totalWidth}for(le.maxColHeight=0,le.arrPosx=[],col=0;col<le.numCols;col++){var t=oe.getColX(col,le.colWidth,le.colGap);le.arrPosx[col]=t+le.addX}le.colHeights=[0]}function d(){var e=0,t=999999999;for(col=0;col<le.numCols;col++){if(void 0==le.colHeights[col]||0==le.colHeights[col])return col;le.colHeights[col]<t&&(e=col,t=le.colHeights[col])}return e}function c(e,t,n,i){if(null===i||"undefined"==typeof i)var i=d();var r=0;void 0!==le.colHeights[i]&&(r=le.colHeights[i]);var o=ae.getTileHeightByWidth(le.colWidth,e);if(null===o){if(1==ue.tiles_enable_transition)throw new Error("Can't know tile height, please turn off transition");var a=oe.getElementSize(e);o=a.height}var s=le.arrPosx[i];oe.placeElement(e,s,r);var l=r+o;le.colHeights[i]=l+le.colGap,le.maxColHeight<l&&(le.maxColHeight=l),1==t&&e.show().fadeTo(0,1),1==n&&K.height(le.maxColHeight)}function h(e){e||(e=!1),u();var t=se.getThumbs();o(),ae.resizeAllTiles(le.colWidth,ae.resizemode.VISIBLE_ELEMENTS);for(var n=0;n<t.length;n++){var i=jQuery(t[n]),r=void 0;1==ue.tiles_keep_order&&(r=oe.getColByIndex(le.numCols,n)),c(i,e,!1,r)}s();var a=K.height();1==de.isTransActive&&a>le.maxColHeight?setTimeout(function(){K.height(le.maxColHeight)},700):K.height(le.maxColHeight)}function p(e){var t=e.index(),n=re.getItem(t);if(n.ordered_placed===!0)return!1;var i=oe.getPrevRowSameColIndex(t,le.numCols);if(0>i)return!0;var r=re.getItem(i);return r.ordered_placed===!0?!0:!1}function f(e,t){if(t!==!0){var n=p(e);if(0==n)return!1}var i=e.index(),r=oe.getColByIndex(le.numCols,i),o=re.getItem(i);ae.resizeTile(e,le.colWidth),c(e,!0,!0,r),o.ordered_placed=!0;var a=re.getNumItems(),s=oe.getNextRowSameColIndex(i,le.numCols);if(s>=a)return!1;var l=se.getThumbByIndex(s),u=re.getItem(s);se.isThumbLoaded(l);se.isThumbLoaded(l)&&!u.ordered_placed&&f(l,!0)}function g(e,t){if(1==t)return!1;e=jQuery(e);var n=jQuery(e).parent();se.triggerImageLoadedEvent(n,e),1==ue.tiles_keep_order?f(n):(ae.resizeTile(n,le.colWidth),c(n,!0,!0))}function _(){var e=se.getThumbs();u();var t=Math.abs(le.galleryWidth-le.totalWidth);if(1==ue.tiles_set_initial_height&&0==oe.isScrollbarExists()&&25>t){var n=(e.length,Math.ceil(e.length/le.numCols)),r=n*ue.tiles_col_width*.75;K.height(r),u()}e.fadeTo(0,0);var o=jQuery(K).find("img.ug-thumb-image");if(1==de.isFixedMode)ie.trigger(ne.events.TILES_FIRST_PLACED),h(!0),oe.checkImagesLoaded(o,function(){i()});else{var a=le.numCols,s=le.galleryWidth,l=!1;oe.checkImagesLoaded(o,function(){u(),(a!=le.numCols||s!=le.galleryWidth)&&h(!1),i()},function(e,t){0==l&&ie.trigger(ne.events.TILES_FIRST_PLACED),l=!0,g(e,t)})}}function m(){var e=r(),t=se.getThumbs(),n=ue.tiles_justified_row_height,i=[],o=0,a=ue.tiles_justified_space_between,s=t.length;jQuery.each(t,function(e,t){t=jQuery(t);var r=se.getItemByThumb(t),a=r.thumbWidth,s=r.thumbHeight;s!==n&&(a=Math.floor(r.thumbRatioByWidth*n)),i[e]=a,o+=a});var l=Math.ceil(o/e);l>s&&(l=s);var u=o/l,d=[],c=0,h=[],p=[],f=0,g=0;jQuery.each(t,function(e,t){var n=i[e];f+n/2>(g+1)*u&&(h[d.length]=c,d.push(p),p=[],c=0,g++),f+=n,c+=n,p.push(t)}),h[d.length]=c,d.push(p);var _=[],m=[],v=0;jQuery.each(d,function(t,r){var o=(r.length,h[t]),s=(r.length-1)*a,l=(e-s)/o,u=Math.round(n*l);v+=u,t>0&&(v+=a),m.push(u);var d=u/n,c=[],p=s;jQuery.each(r,function(e,t){var n=jQuery(t),r=n.index(),o=i[r],a=Math.round(o*d);c[e]=a,p+=a});var f=p-e;jQuery.each(c,function(e,t){return 0==f?!1:(0>f?(c[e]=t+1,f++):(c[e]=t-1,f--),void(e==c.length-1&&0!=f&&(c[e]-=f)))}),_[t]=c});var b={arrRows:d,arrRowWidths:_,arrRowHeights:m,gap:a,totalHeight:v};return b}function v(e){if(!e)var e=!1;var t=r(),n=m();K.height(n.totalHeight);var i=r();i!=t&&(n=m()),o();var a=0,l=0;jQuery.each(n.arrRows,function(t,i){var r=n.arrRowWidths[t],o=n.arrRowHeights[t],s=0;jQuery.each(i,function(t,i){var u=jQuery(i),d=o,c=r[t];ae.resizeTile(u,c,d,ae.resizemode.VISIBLE_ELEMENTS),oe.placeElement(u,s,a),s+=c,s>l&&(l=s),s+=n.gap,1==e&&jQuery(i).show()}),a+=o+n.gap}),s()}function b(){var e=jQuery(Z).find("img.ug-thumb-image"),t=se.getThumbs();t.fadeTo(0,0),oe.checkImagesLoaded(e,function(){setTimeout(function(){v(!0),t.fadeTo(0,1),ie.trigger(ne.events.TILES_FIRST_PLACED),i()})},function(e,t){e=jQuery(e);var n=jQuery(e).parent();se.triggerImageLoadedEvent(n,e)})}function y(){var e=jQuery(Z).find("img.ug-thumb-image"),t=se.getThumbs();t.fadeTo(0,0),oe.checkImagesLoaded(e,function(){1==re.isMobileMode()?h(!0):x(!0),ie.trigger(ne.events.TILES_FIRST_PLACED),i()},function(e,t){e=jQuery(e);var n=jQuery(e).parent();se.triggerImageLoadedEvent(n,e)})}function w(){var e=r();ce.galleryWidth=e,ee={},ce.colWidth=ue.tiles_nested_col_width,ce.optimalTileWidth=ue.tiles_nested_optimal_tile_width,ce.currentGap=ue.tiles_space_between_cols,1==re.isMobileMode()&&(ce.currentGap=ue.tiles_space_between_cols_mobile),null==ce.colWidth?ce.colWidth=Math.floor(ce.optimalTileWidth/ce.nestedOptimalCols):ce.optimalTileWidth>ce.colWidth?ce.nestedOptimalCols=Math.ceil(ce.optimalTileWidth/ce.colWidth):ce.nestedOptimalCols=1,ce.maxColumns=oe.getNumItemsInSpace(e,ce.colWidth,ce.currentGap),ce.colWidth=oe.getItemSizeInSpace(e,ce.maxColumns,ce.currentGap),ce.gridY=0,te=[],trace(ce);var t=se.getThumbs();switch(t.each(function(){var e=jQuery(this),t=E(e);te.push(t)}),ce.optimalTileWidth>ce.colWidth?ce.nestedOptimalCols=Math.ceil(ce.optimalTileWidth/ce.colWidth):ce.nestedOptimalCols=1,ce.totalWidth=ce.maxColumns*(ce.colWidth+ce.currentGap)-ce.currentGap,ue.tiles_align){case"center":default:ce.addX=Math.round((ce.galleryWidth-ce.totalWidth)/2);break;case"left":ce.addX=0;break;case"right":ce.addX=ce.galleryWidth-ce.totalWidth}ce.maxGridY=0}function x(e){var t=r();w(),I();var n=ce.maxGridY*(ce.colWidth+ce.currentGap)-ce.currentGap;K.height(n);var i=r();i!=t&&(w(),I()),0==ue.tiles_nested_debug&&U(e)}function E(e){var t,n,i={},r=ce.colWidth,o=ce.currentGap,a=ae.getTileImageSize(e),s=e.index(),l=Math.ceil(T(s)*(1*ce.nestedOptimalCols/3)+2*ce.nestedOptimalCols/3),u=a.width,d=a.height,c=u/d;return u>d?(t=l,n=Math.round(t/c),0==n&&(n=1)):(n=l,t=Math.round(n*c),0==t&&(t=1)),i.dimWidth=t,i.dimHeight=n,i.width=t*r+o*(t-1),i.height=n*r+o*(n-1),i.imgWidth=u,i.imgHeight=d,i.left=0,i.top=0,i}function T(e){return Math.abs(Math.sin(Math.abs(1e3*Math.sin(e))))}function S(e,t){if(0==t){for(var n=ce.currentItem;n<te.length;n++)C(n,!0);ce.currentItem=te.length-1}else C(ce.currentItem,!0);for(var n=0;n<=ce.currentItem;n++)Y(n,!0);ce.currentItem++}function I(e){if(1==ue.tiles_nested_debug)return"undefined"==typeof e&&(e=!0),S(!0,e),!1;for(var t=0;t<te.length;t++)C(t,!0)}function C(e,t){if(!t)var t=!1;ce.maxColHeight=0;for(var n=oe.getObjectLength(ee),i=ce.gridY;n+1>=i;i++){for(var r=0;r<ce.maxColumns;r++)if(0==D(ce.gridY)||0==G(ce.gridY,r)){var o=R(r);return void P(e,o,r)}ce.gridY++}}function P(e,t,n){var i=jQuery.extend(!0,{},te[e]),r=i.dimWidth,o=t-i.dimWidth,a=ce.nestedOptimalCols,s=t<=i.dimWidth||.33*a>=o||a>=t;if(s)z(e,t);else if(a>=o)a>=4?1==F(Math.floor(t/2),n)?z(e,Math.floor(t/2)+1):z(e,Math.floor(t/2)):z(objImage,t);else if(1==F(r,n))switch(r>=a){case!0:z(e,r-1);break;case!1:z(e,r+1)}i=jQuery.extend(!0,{},te[e]);var l=N(e,i.dimWidth,n);if(ce.columnsValueToEnableHeightResize<=l[0]&&ce.maxColumns>=2*ce.nestedOptimalCols){var u=L(n,i),d=O(e,u.newHeight,!0);te[e].dimHeight=d.dimHeight;var c=M(l,d.dimWidth,n),h=j(c),p=!1;h>=2&&(p=!0),u.newHeight>=i.dimHeight&&(i=O(e,u.newHeight,!0));var f=A(u.idToResize,u.newHeight,i.dimHeight);i.top=ce.gridY,i.left=n,f.push({tileID:e,sizes:i});var g=H(f),_=H(c);return _>g||1==p?void k(f):void k(c)}i.left=n,i.top=ce.gridY,te[e]=i,W(e,i,n,ce.gridY),ce.maxGridY=i.top+i.dimHeight}function j(e){for(var t=0,n=0,i=0;i<e.length-1;i++){var r=e[i].sizes,o=-1,a=-1;D(r.top+r.dimHeight)&&ce.maxColumns>r.left+r.dimWidth&&(o=ee[r.top+r.dimHeight-1][r.left+r.dimWidth],a=ee[r.top+r.dimHeight][r.left+r.dimWidth]),o!=a&&t++}for(var i=0;i<e.length-1;i++){var r=e[i].sizes,o=-1,a=-1;D(r.top+r.dimHeight)&&r.left-1>=0&&(o=ee[r.top+r.dimHeight-1][r.left-1],a=ee[r.top+r.dimHeight][r.left-1]),o!=a&&n++}return Math.max(n,t)}function A(e,t,n){var i=te[e],r=i.dimHeight,o=(i.dimWidth,i.left),a=i.top,s=(parseInt(a/(ce.colWidth+ce.currentGap)),parseInt(o/(ce.colWidth+ce.currentGap)),r-t+n),l=O(e,s,!0),u=[];return u.push({tileID:e,sizes:l}),u}function k(e){for(var t=0;t<e.length;t++){var n=e[t].sizes,i=e[t].tileID;te[i]=jQuery.extend(!0,{},n),W(i,n,n.left,n.top)}}function M(e,t){for(var n=0,i=0,r=[],o=0,a=0,s=0;s<e[1].length;s++){var l=e[1][s],u=te[e[1][s]];if(i+=u.dimHeight,0!=s)n+=u.dimHeight,r.push([l,u.dimHeight]);else{var d=z(l,t,!0);n+=d.dimHeight,r.push([e[1][s],d.dimHeight])}}o=u.left,a=u.top;for(var c=i,h=[],s=r.length-1;s>=0;s--){var p,l=r[s][0];0!=s?(p=Math.max(Math.round(1*i/3),Math.floor(r[s][1]*(i/n))),c-=p,d=O(l,p,!0),d.left=o,d.top=a,h.push({tileID:l,sizes:d}),a+=d.dimHeight):(p=c,d=O(l,p,!0),d.left=o,d.top=a,h.push({tileID:l,sizes:d}))}return h}function N(e,t,n){var i=ce.gridY-1,r=0,o=0,a=1,s=[],l=[];if(s.push(e),i>=0){for(o=0;i>=0;){if(r=ee[i][n],"undefined"!=typeof ee[i][n-1]&&ee[i][n-1]==ee[i][n]||"undefined"!=typeof ee[i][n+t]&&ee[i][n+t-1]==ee[i][n+t]||ee[i][n]!=ee[i][n+t-1])return l.push(a),l.push(s),l;o!=r&&(a++,s.push(r)),i--,o=r}return l.push(a),l.push(s),l}return[0,[]]}function L(e,t){var n=0,i=0,r=t.dimWidth,o=t.dimHeight,a=0,s=0,l=jQuery.map(ee,function(e,t){return[e]});if("undefined"==typeof l[ce.gridY]||"undefined"==typeof l[ce.gridY][e-1])i=0;else for(var u=0;;){if("undefined"==typeof ee[ce.gridY+u]||-1==ee[ce.gridY+u][e-1])break;a=ee[ce.gridY+u][e-2],u++,i++}if("undefined"==typeof l[ce.gridY]||"undefined"==typeof l[ce.gridY][e+r])n=0;else for(u=0;;){if("undefined"==typeof ee[ce.gridY+u]||-1==ee[ce.gridY+u][e+r])break;s=ee[ce.gridY+u][e+r+1],u++,n++}var d=0,c=0;Math.abs(o-i)<Math.abs(o-n)&&0!=i?(d=i,c=a):0!=n?(d=n,c=s):d=o;var h={newHeight:d,idToResize:c};return h}function z(e,t,n){n||(n=!1);var i=ce.colWidth,r=ce.currentGap,o=te[e],a=o.imgWidth,s=o.imgHeight,l=a/s;if(dimWidth=t,dimHeight=Math.round(dimWidth/l),1==n){var u=jQuery.extend(!0,{},o);return u.dimWidth=dimWidth,u.dimHeight=dimHeight,u.width=dimWidth*i+r*(dimWidth-1),u.height=dimHeight*i+r*(dimHeight-1),u}o.dimWidth=dimWidth,o.dimHeight=dimHeight,o.width=dimWidth*i+r*(dimWidth-1),o.height=dimHeight*i+r*(dimHeight-1)}function O(e,t,n){n||(n=!1);var i=te[e],r=i.dimWidth,o=ce.colWidth,a=ce.currentGap;if(1==n){var s=jQuery.extend(!0,{},i);return s.dimHeight=t,s.width=r*o+a*(r-1),s.height=t*o+a*(t-1),s}i.dimHeight=t,i.width=r*o+a*(r-1),i.height=t*o+a*(t-1)}function H(e){for(var t=0,n=0,i=0;i<e.length;i++){var r=te[e[i].tileID];if(0==r.dimHeight||0==r.height)return;resizeVal=r.dimWidth/r.dimHeight/(r.imgWidth/r.imgHeight),resizeVal<1&&(resizeVal=1/resizeVal),t+=resizeVal,n++}return t/n}function F(e,t){var n=ce.gridY-1;return 0>=n||0==D(n)?!1:ee[n][t+e-1]!=ee[n][t+e]?!0:!1}function R(e){var t=e,n=0;if(1==D(ce.gridY))for(;0==G(ce.gridY,t);)n++,t++;else n=ce.maxColumns;return n}function D(e){return"undefined"==typeof ee[e]?!1:!0}function W(e,t,n,i){for(var r=0;r<t.dimHeight;r++)for(var o=0;o<t.dimWidth;o++)0==D(i+r)&&Q(i+r),B(i+r,n+o,e)}function Q(e){ee[e]=new Object;for(var t=0;t<ce.maxColumns;t++)ee[e][t]=-1}function G(e,t){return-1!=ee[e][t]}function B(e,t,n){ee[e][t]=n}function U(e){if(!e)var e=!1;o();for(var t=0;t<te.length;t++)Y(t,e);K.height(ce.maxColHeight),s()}function Y(e,t){var n=se.getThumbByIndex(e),i=te[e],r=i.top*(ce.colWidth+ce.currentGap),o=ce.addX+i.left*(ce.colWidth+ce.currentGap);ae.resizeTile(n,i.width,i.height,ae.resizemode.VISIBLE_ELEMENTS),oe.placeElement(n,o,r),r+i.height>ce.maxColHeight&&(ce.maxColHeight=r+i.height),1==t&&n.fadeTo(0,1)}function q(){if(1==de.isFirstTimeRun)return!0;switch(ue.tiles_type){case"columns":h(!1);break;case"justified":v(!1);break;case"nested":var e=re.isMobileMode();1==e?h(!1):x(!1)}}function X(){$.on(re.events.SIZE_CHANGE,q),ae.initEvents()}function V(){switch(Z.children(".ug-tile").show(),1==de.isFirstTimeRun&&X(),ae.run(),ue.tiles_type){default:case"columns":_();break;case"justified":b();break;case"nested":y()}de.isFirstTimeRun=!1}var $,Z,K,J,ee,te,ne=this,ie=jQuery(this),re=new UniteGalleryMain,oe=new UGFunctions,ae=new UGTileDesign,se=new UGThumbsGeneral,le={},ue={tiles_type:"columns",tiles_col_width:250,tiles_align:"center",tiles_exact_width:!1,tiles_space_between_cols:3,tiles_space_between_cols_mobile:3,tiles_include_padding:!0,tiles_min_columns:2,tiles_max_columns:0,tiles_keep_order:!1,tiles_set_initial_height:!0,tiles_justified_row_height:150,tiles_justified_space_between:3,tiles_nested_optimal_tile_width:250,tiles_nested_col_width:null,tiles_nested_debug:!1,tiles_enable_transition:!0};this.events={THUMB_SIZE_CHANGE:"thumb_size_change",TILES_FIRST_PLACED:"tiles_first_placed"};var de={isFixedMode:!1,isFirstTimeRun:!0,handle:null,isTransActive:!1,isTransInited:!1},ce={colWidth:null,nestedOptimalCols:5,gridY:0,maxColumns:0,columnsValueToEnableHeightResize:3,resizeLeftRightToColumn:!0,currentItem:0,currentGap:null,optimalTileWidth:null,maxGridY:0};this.destroy=function(){$.off(re.events.SIZE_CHANGE),ae.destroy()},this.setFixedSizeMode=function(){de.isFixedMode=!0,ae.setFixedMode()},this.init=function(t,n){e(t,n)},this.setHtml=function(e){n(e)},this.getObjTileDesign=function(){return ae},this.run=function(){V()}}function UGTileDesign(){function e(e,i){F=e,M=jQuery(e);var r=F.getObjects();L=r.g_objWrapper,z=F.getArrItems(),W=jQuery.extend(W,Q),W=jQuery.extend(W,i),t(),D.init(e,W);var o={allow_onresize:!1},a=["overlay"];G.funcCustomTileHtml&&(a=[]),D.setCustomThumbs(n,a,o);var s=D.getOptions();W=jQuery.extend(W,s),G.ratioByWidth=W.tile_width/W.tile_height,G.ratioByHeight=W.tile_height/W.tile_width,W.tile_size_by==O.sizeby.GLOBAL_RATIO&&G.isTextpanelOutside&&(G.hasImageContainer=!0)}function t(){if(1==W.tile_enable_overlay?(W.thumb_overlay_opacity=W.tile_overlay_opacity,W.thumb_overlay_color=W.tile_overlay_color):0==W.tile_enable_icons?W.thumb_color_overlay_effect=!1:W.thumb_overlay_opacity=0,W.tile_as_link&&(W.thumb_wrapper_as_link=!0,W.thumb_link_newpage=W.tile_link_newpage),1==W.tile_enable_outline&&0==W.tile_enable_border&&(W.tile_enable_outline=!1),G.tileInnerReduce=0,W.tile_enable_border&&(G.tileInnerReduce=2*W.tile_border_width,D.setThumbInnerReduce(G.tileInnerReduce)),G.isSaparateIcons=!R.isRgbaSupported(),1==W.tile_enable_textpanel){switch(W.tile_textpanel_position){case"top":W.tile_textpanel_align="top";case"bottom":G.isTextpanelOutside=!0,W.tile_textpanel_always_on=!0,W.tile_textpanel_offset=0;break;case"inside_top":W.tile_textpanel_align="top";break;case"middle":W.tile_textpanel_align="middle",W.tile_textpanel_appear_type="fade"}0==W.tile_textpanel_always_on&&(G.isSaparateIcons=!0)}0!=W.tile_textpanel_offset&&(W.tile_textpanel_appear_type="fade",W.tile_textpanel_margin=W.tile_textpanel_offset),"title_and_desc"==W.tile_textpanel_source&&(W.tile_textpanel_enable_description=!0,W.tile_textpanel_desc_style_as_title=!0)}function n(e,t){if(e.addClass("ug-tile"),G.funcCustomTileHtml)return G.funcCustomTileHtml(e,t),!1;var n="";1==G.hasImageContainer&&(n+="<div class='ug-image-container ug-trans-enabled'>");var i="ug-thumb-image";(0==W.tile_enable_image_effect||1==W.tile_image_effect_reverse)&&(i+=" ug-trans-enabled");var r=R.stripTags(t.title);r=R.htmlentitles(r),n+="<img src='"+t.urlThumb+"' alt='"+r+"' class='"+i+"'>",1==G.hasImageContainer&&(n+="</div>"),e.append(n),W.tile_size_by==O.sizeby.GLOBAL_RATIO&&e.fadeTo(0,0);var o={};if(1==W.tile_enable_background&&(o["background-color"]=W.tile_background_color),1==W.tile_enable_border&&(o["border-width"]=W.tile_border_width+"px",o["border-style"]="solid",o["border-color"]=W.tile_border_color,W.tile_border_radius&&(o["border-radius"]=W.tile_border_radius+"px")),1==W.tile_enable_outline&&(o.outline="1px solid "+W.tile_outline_color),1==W.tile_enable_shadow){var a=W.tile_shadow_h+"px ";a+=W.tile_shadow_v+"px ",a+=W.tile_shadow_blur+"px ",a+=W.tile_shadow_spread+"px ",a+=W.tile_shadow_color,o["box-shadow"]=a}e.css(o);var s="";if(W.tile_enable_icons){if(0==W.tile_as_link&&1==W.tile_enable_action){var l="ug-button-play ug-icon-zoom";"image"!=t.type&&(l="ug-button-play ug-icon-play"),s+="<div class='ug-tile-icon "+l+"' style='display:none'></div>"}if(t.link&&1==W.tile_show_link_icon||1==W.tile_as_link)if(0==W.tile_as_link){var d="";1==W.tile_link_newpage&&(d=" target='_blank'"),s+="<a href='"+t.link+"'"+d+" class='ug-tile-icon ug-icon-link'></a>"}else s+="<div class='ug-tile-icon ug-icon-link' style='display:none'></div>";var c=G.isSaparateIcons;if(0==c&&"image"!=t.type&&1==W.tile_videoplay_icon_always_on&&(c=!0),c)var h=e;else var h=e.children(".ug-thumb-overlay");h.append(s);var p=h.children("."+l);0==p.length?p=null:p.hide();var f=h.children(".ug-icon-link");0==f.length?f=null:f.hide(),f||1!=W.tile_enable_action||e.addClass("ug-tile-clickable")}else 1==W.tile_enable_action&&e.addClass("ug-tile-clickable");if(1==W.tile_enable_image_effect){var g="";0==W.tile_image_effect_reverse&&(g=" ug-trans-enabled");var _="<div class='ug-tile-image-overlay"+g+"' >",m=" ug-"+W.tile_image_effect_type+"-effect";_+="<img src='"+t.urlThumb+"' alt='"+t.title+"' class='"+m+g+"'>",_+="</div>",e.append(_),1==W.tile_image_effect_reverse&&e.children(".ug-tile-image-overlay").fadeTo(0,0)}if(1==W.tile_enable_textpanel){var v=new UGTextPanel;v.init(F,W,"tile");var b="";(1==W.tile_textpanel_always_on||1==G.isTextpanelOutside)&&(b="ug-trans-enabled"),v.appendHTML(e,b);var y=t.title,w="";switch(W.tile_textpanel_source){case"desc":case"description":y=t.description;break;case"desc_title":""!=t.description&&(y=t.description);break;case"title_and_desc":y=t.title,w=t.description}if(v.setTextPlain(y,w),0==W.tile_textpanel_always_on&&v.getElement().fadeTo(0,0),e.data("objTextPanel",v),1==W.tile_textpanel_always_on){var x=u(e);x.css("z-index",2)}if(1==G.isTextpanelOutside){var E="<div class='ug-tile-cloneswrapper'></div>";e.append(E);var T=e.children(".ug-tile-cloneswrapper"),S=new UGTextPanel;S.init(F,W,"tile"),S.appendHTML(T),S.setTextPlain(y,w),e.data("objTextPanelClone",S)}}null!==t.addHtml&&e.append(t.addHtml)}function i(e){var t=e.children(".ug-tile-image-overlay");return t}function r(e){var t=e.children(".ug-thumb-overlay");return t}function o(e){if(0==G.hasImageContainer)return null;var t=e.children(".ug-image-container");return t}function a(e){var t=e.find(".ug-tile-image-overlay img");return t}function s(e){var t=e.data("objTextPanel");return t}function l(e){var t=e.data("objTextPanelClone");return t}function u(e){var t=e.children(".ug-textpanel");return t}function d(e){var t=e.find(".ug-tile-cloneswrapper .ug-textpanel");if(0==t.length)throw new Error("text panel cloned element not found");return t}function c(e){if(1==G.isTextpanelOutside)var t=d(e);else var t=u(e);if(!t)return 0;var n=R.getElementSize(t);return n.height}function h(e){var t=e.find(".ug-icon-link");return 0==t.length?null:t}function p(e){var t=G.ratioByHeight;switch(W.tile_size_by){default:t=G.ratioByHeight;break;case O.sizeby.IMAGE_RATIO:if(!e)throw new Error("tile should be given for tile ratio");var n=O.getItemByTile(e);if("undefined"!=typeof n.thumbRatioByHeight){if(0==n.thumbRatioByHeight)throw trace(n),new Error("the item ratio not inited yet");t=n.thumbRatioByHeight}break;case O.sizeby.CUSTOM:return null}return t}function f(e){var t=e.find(".ug-button-play");return 0==t.length?null:t}function g(e){return e.hasClass("ug-thumb-over")?!0:!1}function _(e){return e.hasClass("ug-tile-clickable")}function m(e,t,n,r){var s=i(e),l=O.getTileImage(e),u=a(e);t-=G.tileInnerReduce,n-=G.tileInnerReduce;var d=null;if(1==G.isTextpanelOutside){var h=c(e);if(n-=h,"top"==W.tile_textpanel_position&&(d=h),1==G.hasImageContainer){var p=o(e);R.setElementSize(p,t,n),null!==d&&R.placeElement(p,0,d)}}if(0==W.tile_enable_image_effect)R.scaleImageCoverParent(l,t,n),0==G.hasImageContainer&&null!==d&&R.placeElement(l,0,d);else{var f="nothing";r===!0&&0==G.isTextpanelOutside&&(f=1==W.tile_image_effect_reverse?"effect":"image"),"effect"!=f&&(R.setElementSize(s,t,n),
null!==d&&R.placeElement(s,0,d),R.scaleImageCoverParent(u,t,n)),"image"!=f&&(1==G.hasImageContainer?R.scaleImageCoverParent(l,t,n):"effect"==f?(R.scaleImageCoverParent(l,t,n),null!==d&&R.placeElement(l,0,d)):R.cloneElementSizeAndPos(u,l,!1,null,d))}}function v(e,t,n,i){var r=null;if(n&&(r=n-G.tileInnerReduce),i&&(i-=G.tileInnerReduce),"clone"==t){var o=l(e);o.refresh(!0,!0,r);var a=O.getItemByTile(e);return a.textPanelCloneSizeSet=!0,!1}var u=s(e);if(!u)return!1;var d=null;1==G.isTextpanelOutside&&(d=c(e)),u.refresh(!1,!0,r,d);var h=1==W.tile_textpanel_always_on||"fade"==W.tile_textpanel_appear_type;if(h)if(1==G.isTextpanelOutside&&i&&"bottom"==W.tile_textpanel_position){var p=i-d;u.positionPanel(p)}else u.positionPanel()}function b(e){var t=(O.getItemByTile(e),f(e)),n=h(e),i=R.getElementSize(e);m(e,i.width,i.height),1==W.tile_enable_textpanel&&v(e,"regular",i.width,i.height);var o=i.width-G.tileInnerReduce,a=i.height-G.tileInnerReduce,s=0;if(1==G.isTextpanelOutside){var l=c(e);a-=l,"top"==W.tile_textpanel_position&&(s=l)}var d=r(e);if(R.setElementSizeAndPosition(d,0,s,o,a),t||n){var p=0;if(1==W.tile_enable_textpanel&&0==G.isTextpanelOutside){var g=u(e),_=R.getElementSize(g);_.height>0&&(p=Math.floor(_.height/2*-1))}}if(t&&n){var b=R.getElementSize(t),y=R.getElementSize(n),w=W.tile_space_between_icons,x=b.width+w+y.width,E=Math.floor((i.width-x)/2);w>E&&(w=Math.floor((i.width-b.width-y.width)/3),x=b.width+w+y.width,E=Math.floor((i.width-x)/2)),R.placeElement(t,E,"middle",0,p),R.placeElement(n,E+b.width+w,"middle",0,p)}else t&&R.placeElement(t,"center","middle",0,p),n&&R.placeElement(n,"center","middle",0,p);t&&t.show(),n&&n.show()}function y(e,t){var n=(O.getItemByTile(e),i(e)),r=W.thumb_transition_duration;if(0==W.tile_image_effect_reverse){var o=O.getTileImage(e);t?(o.fadeTo(1,1),n.stop(!0).fadeTo(r,0)):n.stop(!0).fadeTo(r,1)}else t?n.stop(!0).fadeTo(r,1):n.stop(!0).fadeTo(r,0)}function w(e,t){var n=W.thumb_transition_duration,i=u(e);if(!i)return!0;if("slide"==W.tile_textpanel_appear_type){var r=R.getElementSize(i);if(0==r.width)return!1;var o=-r.height,a=0,s={},l={},d="bottom";"inside_top"==W.tile_textpanel_position&&(d="top"),s[d]=o+"px",l[d]=a+"px",1==t?(i.fadeTo(0,1),0==i.is(":animated")&&i.css(s),i.stop(!0).animate(l,n)):i.stop(!0).animate(s,n)}else 1==t?i.stop(!0).fadeTo(n,1):i.stop(!0).fadeTo(n,0)}function x(e,t,n){var i=W.thumb_transition_duration;n&&n===!0&&(i=0);var r=f(e),o=h(e),a=t?1:0;r&&r.stop(!0).fadeTo(i,a),o&&o.stop(!0).fadeTo(i,a)}function E(e,t){if(t=jQuery(t),W.tile_enable_image_effect&&y(t,!0),1==W.tile_enable_textpanel&&0==W.tile_textpanel_always_on&&w(t,!0),G.isSaparateIcons&&1==W.tile_enable_icons){var n=1==W.thumb_overlay_reverse,i=O.getItemByTile(t);(1!=W.tile_videoplay_icon_always_on||"image"==i.type)&&x(t,n,!1)}}function T(e,t){if(t=jQuery(t),W.tile_enable_image_effect&&y(t,!1),1==W.tile_enable_textpanel&&0==W.tile_textpanel_always_on&&w(t,!1),1==G.isSaparateIcons&&1==W.tile_enable_icons){var n=1==W.thumb_overlay_reverse?!1:!0;x(t,n,!1)}}function S(e){var t=D.getThumbs().not(e);t.each(function(e,t){D.setThumbNormalStyle(jQuery(t))})}function I(e,t,n){return t=jQuery(t),1==W.tile_visible_before_image&&t.data("image_placed")!==!0&&n!==!0?!0:void b(t)}function C(e,t,n){b(t),n.fadeTo(0,1),t.data("image_placed",!0)}function P(e){return 1==_(e)?(H.trigger(O.events.TILE_CLICK,e),!0):void(0==g(e)&&(S(e),D.setThumbOverStyle(e)))}function j(e){var t=jQuery(this),n=t.prop("tagName").toLowerCase(),i=!0;if(G.funcParentApproveClick&&0==G.funcParentApproveClick()&&(i=!1),"a"==n)0==i&&e.preventDefault();else if(0==g(t))1==i&&P(t);else{if(0==_(t))return!0;1==i&&H.trigger(O.events.TILE_CLICK,t)}}function A(e){e.stopPropagation();var t=jQuery(this).parents(".ug-tile"),n=!0;return G.funcParentApproveClick&&0==G.funcParentApproveClick()&&(n=!1),0==g(t)?(P(t),!0):1==n?(H.trigger(O.events.TILE_CLICK,t),!1):void 0}function k(e){var t=jQuery(this).parents(".ug-tile");G.funcParentApproveClick&&0==G.funcParentApproveClick()&&e.preventDefault(),0==g(t)&&0==W.tile_as_link&&(e.preventDefault(),P(t))}var M,N,L,z,O=this,H=jQuery(this),F=new UniteGalleryMain,R=new UGFunctions,D=new UGThumbsGeneral;this.resizemode={FULL:"full",WRAPPER_ONLY:"wrapper_only",VISIBLE_ELEMENTS:"visible_elements"},this.sizeby={GLOBAL_RATIO:"global_ratio",TILE_RATIO:"tile_ratio",IMAGE_RATIO:"image_ratio",CUSTOM:"custom"},this.events={TILE_CLICK:"tile_click"};var W={tile_width:250,tile_height:200,tile_size_by:O.sizeby.IMAGE_RATIO,tile_visible_before_image:!1,tile_enable_background:!0,tile_background_color:"#F0F0F0",tile_enable_border:!1,tile_border_width:3,tile_border_color:"#F0F0F0",tile_border_radius:0,tile_enable_outline:!1,tile_outline_color:"#8B8B8B",tile_enable_shadow:!1,tile_shadow_h:1,tile_shadow_v:1,tile_shadow_blur:3,tile_shadow_spread:2,tile_shadow_color:"#8B8B8B",tile_enable_action:!0,tile_as_link:!1,tile_link_newpage:!0,tile_enable_overlay:!0,tile_overlay_opacity:.4,tile_overlay_color:"#000000",tile_enable_icons:!0,tile_show_link_icon:!1,tile_videoplay_icon_always_on:!1,tile_space_between_icons:26,tile_enable_image_effect:!1,tile_image_effect_type:"bw",tile_image_effect_reverse:!1,tile_enable_textpanel:!1,tile_textpanel_source:"title",tile_textpanel_always_on:!1,tile_textpanel_appear_type:"slide",tile_textpanel_position:"inside_bottom",tile_textpanel_offset:0},Q={thumb_color_overlay_effect:!0,thumb_overlay_reverse:!0,thumb_image_overlay_effect:!1,tile_textpanel_enable_description:!1,tile_textpanel_bg_opacity:.6,tile_textpanel_padding_top:8,tile_textpanel_padding_bottom:8},G={ratioByHeight:0,ratioByWidth:0,eventSizeChange:"thumb_size_change",funcCustomTileHtml:null,funcCustomPositionElements:null,funcParentApproveClick:null,isSaparateIcons:!1,tileInnerReduce:0,isTextpanelOutside:!1,hasImageContainer:!1};this.loadTileImage=function(e){var t=O.getTileImage(e);R.checkImagesLoaded(t,null,function(t,n){C(null,e,jQuery(t))})},this.setHtml=function(e){N=e,D.setHtmlThumbs(e)},this.initEvents=function(){D.initEvents(),jQuery(D).on(D.events.SETOVERSTYLE,E),jQuery(D).on(D.events.SETNORMALSTYLE,T),jQuery(D).on(D.events.PLACEIMAGE,C),L.on(G.eventSizeChange,I),N.delegate(".ug-tile .ug-button-play","click",A),N.delegate(".ug-tile","click",j),N.delegate(".ug-tile .ug-icon-link","click",k)},this.destroy=function(){if(jQuery(D).off(D.events.SETOVERSTYLE),jQuery(D).off(D.events.SETNORMALSTYLE),jQuery(D).off(D.events.PLACEIMAGE),L.off(G.eventSizeChange),1==W.tile_enable_textpanel){var e=D.getThumbs();jQuery.each(e,function(e,t){var n=s(jQuery(t));n&&n.destroy()})}D.destroy()},this.init=function(t,n,i){e(t,n,i)},this.setFixedMode=function(){W.tile_size_by=O.sizeby.GLOBAL_RATIO,W.tile_visible_before_image=!0},this.setApproveClickFunction=function(e){G.funcParentApproveClick=e},this.resizeTile=function(e,t,n,i){if(1==G.isTextpanelOutside&&v(e,"clone",t),t){if(!n)var n=O.getTileHeightByWidth(t,e)}else var t=W.tile_width,n=W.tile_height;switch(R.setElementSize(e,t,n),i){default:case O.resizemode.FULL:O.triggerSizeChangeEvent(e,!0);break;case O.resizemode.WRAPPER_ONLY:return!0;case O.resizemode.VISIBLE_ELEMENTS:if(G.funcCustomTileHtml)return O.triggerSizeChangeEvent(e,!0),!0;m(e,t,n,!0),1==W.tile_enable_textpanel&&1==W.tile_textpanel_always_on&&t&&v(e,"regular",t,n)}},this.resizeAllTiles=function(e,t){var n=null;W.tile_size_by==O.sizeby.GLOBAL_RATIO&&(n=O.getTileHeightByWidth(e));var i=D.getThumbs();i.each(function(i,r){O.resizeTile(jQuery(r),e,n,t)})},this.triggerSizeChangeEvent=function(e,t){if(!e)return!1;if(!t)var t=!1;L.trigger(G.eventSizeChange,[e,t])},this.triggerSizeChangeEventAllTiles=function(e){var t=D.getThumbs();t.each(function(){var t=jQuery(this);O.triggerSizeChangeEvent(t,e)})},this.disableEvents=function(){var e=D.getThumbs();e.css("pointer-events","none")},this.enableEvents=function(){var e=D.getThumbs();e.css("pointer-events","auto")},this.setOptions=function(e){W=jQuery.extend(W,e),D.setOptions(e)},this.setCustomFunctions=function(e,t){G.funcCustomTileHtml=e,G.funcCustomPositionElements=t},this.run=function(){var e=D.getThumbs();W.tile_size_by==O.sizeby.GLOBAL_RATIO&&O.resizeAllTiles(W.tile_width,O.resizemode.WRAPPER_ONLY),1==W.tile_enable_image_effect&&0==W.tile_image_effect_reverse&&e.children(".ug-thumb-image").fadeTo(0,0),D.setHtmlProperties(),1==W.tile_visible_before_image&&(e.children(".ug-thumb-image").fadeTo(0,0),D.loadThumbsImages())},this._____________EXTERNAL_GETTERS____________=function(){},this.getObjThumbs=function(){return D},this.getOptions=function(){return W},this.getTileImage=function(e){var t=e.find("img.ug-thumb-image");return t},this.getItemByTile=function(e){return D.getItemByThumb(e)},this.getTileHeightByWidth=function(e,t){var n=p(t);if(null===n)return null;var i=Math.floor((e-G.tileInnerReduce)*n)+G.tileInnerReduce;return t&&1==G.isTextpanelOutside&&W.tile_size_by==O.sizeby.IMAGE_RATIO&&(i+=c(t)),i},this.getTileImageSize=function(e){var t=O.getItemByTile(e);if(!t.thumbWidth||!t.thumbHeight)throw new Error("Can't get image size - image not inited.");var n={width:t.thumbWidth,height:t.thumbHeight};return n},this.getGlobalTileSize=function(){if(W.tile_size_by!=O.sizeby.GLOBAL_RATIO)throw new Error("The size has to be global ratio");var e={width:W.tile_width,height:W.tile_height};return e}}function UGAviaControl(){function e(e){return 0==g?e.pageX:e.pageY}function t(t){jQuery("body").on("touchstart",function(e){return 0==_.isControlEnabled?!0:void(_.touchEnabled=!0)}),jQuery("body").mousemove(function(t){if(0==_.isControlEnabled)return!0;if(1==_.touchEnabled)return jQuery("body").off("mousemove"),!0;_.isMouseInsideStrip=h.ismouseover();var n=u.isTouchMotionActive();if(1==_.isMouseInsideStrip&&0==n){var i=e(t);l(i)}else a()})}function n(e){var t=f.strip_padding_top,n=(f.strip_padding_bottom,h.height()),i=p.height();if(n>i)return null;var r=h.offset(),o=r.top,a=e-o-t;if(0>a)return null;var s=f.thumb_height,l=n-f.thumb_height,u=l-s;s>a&&(a=s),a>l&&(a=l);var d=(a-s)/u,c=(i-n)*d;return c=-1*Math.round(c)+t}function i(e){var t=f.strip_padding_left,n=f.strip_padding_right,i=h.width()-t-n,r=p.width();if(i>r)return null;var o=h.offset(),a=o.left,s=e-a-t,l=f.thumb_width,u=i-f.thumb_width,d=u-l;l>s&&(s=l),s>u&&(s=u);var c=(s-l)/d,g=(r-i)*c;return g=-1*Math.round(g)+t}function r(){if(0==_.is_strip_moving)return!1;var e=u.getInnerStripPos();Math.floor(e)==Math.floor(_.strip_finalPos)&&a();var t,n=Math.abs(_.strip_finalPos-e);1>n?t=n:(t=n/4,t>0&&1>t&&(t=1)),_.strip_finalPos<e&&(t=-1*t);var i=e+t;u.positionInnerStrip(i)}function o(){return 1==_.isStripMoving?!1:(_.isStripMoving=!0,void(_.handle_timeout=setInterval(r,10)))}function a(){return 0==_.isStripMoving?!1:(_.isStripMoving=!1,void(_.handle_timeout=clearInterval(_.handle_timeout)))}function s(e){return 0==g?i(e):n(e)}function l(e){var t=s(e);return null===t?!1:(_.is_strip_moving=!0,_.strip_finalPos=t,void o())}var u,d,c,h,p,f,g,_={touchEnabled:!1,isMouseInsideStrip:!1,strip_finalPos:0,handle_timeout:"",isStripMoving:!1,isControlEnabled:!0};this.enable=function(){_.isControlEnabled=!0},this.disable=function(){_.isControlEnabled=!1},this.init=function(e){u=e,c=e.getObjects(),d=c.g_gallery,h=c.g_objStrip,p=c.g_objStripInner,f=c.g_options,g=c.isVertical,t()},this.destroy=function(){jQuery("body").off("touchstart"),jQuery("body").off("mousemove")}}function UGSlider(){function e(e,t,i){_e=e,i&&(pe=i,t=we.convertCustomPrefixOptions(t,pe,"slider")),ee=jQuery(e);var r=_e.getObjects();if(te=r.g_objWrapper,ne=r.g_objThumbs,t.hasOwnProperty("slider_progress_indicator_type")&&(Te.slider_progress_indicator_type=t.slider_progress_indicator_type),"bar"==Te.slider_progress_indicator_type&&(Te=jQuery.extend(Te,Se)),t&&fe.setOptions(t),n(),1==Te.slider_enable_bullets){be=new UGBullets;var o={bullets_skin:Te.slider_bullets_skin,bullets_space_between:Te.slider_bullets_space_between};be.init(_e,o)}Te.slider_enable_text_panel&&(Ee=new UGTextPanel,Ee.init(_e,Te,"slider")),Te.slider_enable_zoom_panel&&(he=new UGZoomButtonsPanel,he.init(fe,Te));var a=_e.getGalleryID();ye.init(Te,!1,a)}function t(){if(1==Ie.isRunOnce)return!1;if(Ie.isRunOnce=!0,Te.slider_background_color){var e=Te.slider_background_color;1!=Te.slider_background_opacity&&(e=we.convertHexToRGB(e,Te.slider_background_opacity)),ie.css("background-color",e)}else 1!=Te.slider_background_opacity&&(e=we.convertHexToRGB("#000000",Te.slider_background_opacity),ie.css("background-color",e));1==Te.slider_control_swipe&&(de=new UGTouchSliderControl,de.init(fe,Te)),1==Te.slider_control_zoom&&(ce=new UGZoomSliderControl,ce.init(fe,Te)),Ee&&Ee.run(),q()}function n(){var e=_e.getOptions(),t=e.gallery_skin;""==Te.slider_bullets_skin&&(Te.slider_bullets_skin=t),""==Te.slider_arrows_skin&&(Te.slider_arrows_skin=t),""==Te.slider_zoompanel_skin&&(Te.slider_zoompanel_skin=t),""==Te.slider_play_button_skin&&(Te.slider_play_button_skin=t),""==Te.slider_fullscreen_button_skin&&(Te.slider_fullscreen_button_skin=t),Te.video_enable_closebutton=Te.slider_video_enable_closebutton,"zoom"!=e.gallery_mousewheel_role&&(Te.slider_zoom_mousewheel=!1)}function i(e,t){var n="ug-type-square";"round"==Te.slider_videoplay_button_type&&(n="ug-type-round");var i="";return i+="<div class='ug-slide-wrapper ug-slide"+t+"'>",i+="<div class='ug-item-wrapper'></div>",i+="<div class='ug-slider-preloader "+e+"'></div>",i+="<div class='ug-button-videoplay "+n+"' style='display:none'></div>",i+="</div>"}function r(e){e&&(te=e);var t=X(),n=(_e.getOptions(),"<div class='ug-slider-wrapper'>");if(n+="<div class='ug-slider-inner'>",n+=i(t,1),n+=i(t,2),n+=i(t,3),n+="</div>",1==Te.slider_enable_arrows&&(n+="<div class='ug-slider-control ug-arrow-left ug-skin-"+Te.slider_arrows_skin+"'></div>",n+="<div class='ug-slider-control ug-arrow-right ug-skin-"+Te.slider_arrows_skin+"'></div>"),1==Te.slider_enable_play_button&&(n+="<div class='ug-slider-control ug-button-play ug-skin-"+Te.slider_play_button_skin+"'></div>"),1==Te.slider_enable_fullscreen_button&&(n+="<div class='ug-slider-control ug-button-fullscreen ug-skin-"+Te.slider_fullscreen_button_skin+"'></div>"),n+="</div>",te.append(n),ie=te.children(".ug-slider-wrapper"),re=ie.children(".ug-slider-inner"),oe=re.children(".ug-slide1"),ae=re.children(".ug-slide2"),se=re.children(".ug-slide3"),oe.data("slidenum",1),ae.data("slidenum",2),se.data("slidenum",3),be&&be.appendHTML(ie),1==Te.slider_enable_arrows&&(le=ie.children(".ug-arrow-left"),ue=ie.children(".ug-arrow-right")),1==Te.slider_enable_play_button&&(me=ie.children(".ug-button-play")),1==Te.slider_enable_fullscreen_button&&(ve=ie.children(".ug-button-fullscreen")),1==Te.slider_enable_progress_indicator){xe=we.initProgressIndicator(Te.slider_progress_indicator_type,Te,ie);var r=xe.getType();"bar"==r&&"pie"==Te.slider_progress_indicator_type&&(Te.slider_progress_indicator_type="bar",Te=jQuery.extend(Te,Se)),_e.setProgressIndicator(xe)}if(1==Te.slider_enable_text_panel&&(Ee.appendHTML(ie),0==Te.slider_textpanel_always_on)){var o=Ee.getElement();o.hide().data("isHidden",!0),Ie.isTextPanelSaparateHover=!0}1==Te.slider_enable_zoom_panel&&he.appendHTML(ie),ye.setHtml(re)}function o(e){var t=Z(e);we.placeElementInParentCenter(t);var n=K(e);we.placeElementInParentCenter(n)}function a(){if(be&&(objBullets=be.getElement(),we.placeElement(objBullets,Te.slider_bullets_align_hor,Te.slider_bullets_align_vert,Te.slider_bullets_offset_hor,Te.slider_bullets_offset_vert),we.placeElement(objBullets,Te.slider_bullets_align_hor,Te.slider_bullets_align_vert,Te.slider_bullets_offset_hor,Te.slider_bullets_offset_vert)),1==Te.slider_enable_arrows&&(we.placeElement(le,Te.slider_arrow_left_align_hor,Te.slider_arrow_left_align_vert,Te.slider_arrow_left_offset_hor,Te.slider_arrow_left_offset_vert),we.placeElement(ue,Te.slider_arrow_right_align_hor,Te.slider_arrow_left_align_vert,Te.slider_arrow_right_offset_hor,Te.slider_arrow_right_offset_vert)),0==Te.slider_controls_always_on&&A(!0),xe){var e=xe.getElement();if("bar"==Te.slider_progress_indicator_type){var t=ie.width();xe.setSize(t),we.placeElement(e,"left",Te.slider_progress_indicator_align_vert,0,Te.slider_progress_indicator_offset_vert)}else we.placeElement(e,Te.slider_progress_indicator_align_hor,Te.slider_progress_indicator_align_vert,Te.slider_progress_indicator_offset_hor,Te.slider_progress_indicator_offset_vert)}Ee&&Ee.positionPanel(),s(),o(oe),o(ae),o(se),P()}function s(){if(me&&we.placeElement(me,Te.slider_play_button_align_hor,Te.slider_play_button_align_vert,Te.slider_play_button_offset_hor,Te.slider_play_button_offset_vert),ve&&we.placeElement(ve,Te.slider_fullscreen_button_align_hor,Te.slider_fullscreen_button_align_vert,Te.slider_fullscreen_button_offset_hor,Te.slider_fullscreen_button_offset_vert),he){var e=he.getElement();we.placeElement(e,Te.slider_zoompanel_align_hor,Te.slider_zoompanel_align_vert,Te.slider_zoompanel_offset_hor,Te.slider_zoompanel_offset_vert)}}function l(){var e,t,n,i,r=fe.getSlidesReference(),o=0,a=0,s=0;n=fe.isSlideHasItem(r.objNextSlide),i=fe.isSlideHasItem(r.objPrevSlide),i?(s=r.objPrevSlide.outerWidth(),r.objPrevSlide.css("z-index",1)):r.objPrevSlide.hide(),t=s+r.objCurrentSlide.outerWidth(),e=t,n?(e=t+r.objNextSlide.outerWidth(),r.objPrevSlide.css("z-index",2)):r.objNextSlide.hide(),r.objCurrentSlide.css("z-index",3),we.placeElement(r.objCurrentSlide,s,o),re.css({left:-s+"px",width:e+"px"}),i&&(we.placeElement(r.objPrevSlide,a,o),we.showElement(r.objPrevSlide)),n&&(we.showElement(r.objNextSlide),we.placeElement(r.objNextSlide,t,o))}function u(e){var t=e.data("index");if(void 0===t||null==t)return!1;var n=_e.getItem(t);return n?void g(e,n):!1}function d(e){e.stop(!0).show(100)}function c(e){e.stop(!0).hide(100)}function h(e,t){var n={};1==Te.slider_image_border&&(n["border-style"]="solid",n["border-width"]=Te.slider_image_border_width+"px",n["border-color"]=Te.slider_image_border_color,n["border-radius"]=Te.slider_image_border_radius),"image"!=t&&1==Te.slider_video_constantsize&&(n["background-color"]="#000000"),1==Te.slider_image_shadow&&(n["box-shadow"]="3px 3px 10px 0px #353535"),e.css(n)}function p(e,t){var n=Te.slider_video_constantsize_width,i=Te.slider_video_constantsize_height,r=Te.slider_video_constantsize_scalemode;we.scaleImageExactSizeInParent(e,t.imageWidth,t.imageHeight,n,i,r)}function f(e,t,n){var i=e.children(".ug-item-wrapper"),r=Z(e);if("undefined"==typeof t.urlImage||""==t.urlImage)throw new Error("The slide don't have big image defined ( data-image='imageurl' ). Please check gallery items.","showbig");var o=t.urlImage,a=e.data("urlImage");e.data("urlImage",o);var s=fe.getScaleMode(e),l=fe.getSlideType(e);if(objPadding=fe.getObjImagePadding(),a==o&&n!==!0){var u=i.children("img");(0==t.imageWidth||0==t.imageHeight)&&_e.checkFillImageSize(u,t),"image"!=l&&1==Te.slider_video_constantsize?p(u,t):we.scaleImageFitParent(u,t.imageWidth,t.imageHeight,s,objPadding),ge.trigger(fe.events.AFTER_PUT_IMAGE,e)}else u=we.placeImageInsideParent(o,i,t.imageWidth,t.imageHeight,s,objPadding),1==t.isBigImageLoaded?(u.fadeTo(0,1),c(r),"image"!=l&&1==Te.slider_video_constantsize&&p(u,t),ge.trigger(fe.events.AFTER_PUT_IMAGE,e)):(u.fadeTo(0,0),d(r),e.data("isLoading",!0),fe.isSlideCurrent(e)&&ge.trigger(fe.events.CURRENTSLIDE_LOAD_START),u.data("itemIndex",t.index),u.on("load",function(){var e=jQuery(this),t=e.data("itemIndex");e.fadeTo(0,1);var n=e.parent().parent(),i=fe.getSlideType(n),r=Z(n),o=fe.getObjImagePadding(),a=fe.getScaleMode(n);c(r),n.data("isLoading",!1),fe.isSlideCurrent(n)&&ge.trigger(fe.events.CURRENTSLIDE_LOAD_END),_e.onItemBigImageLoaded(null,e);var s=_e.getItem(t);"image"!=i&&1==Te.slider_video_constantsize?p(e,s):we.scaleImageFitParent(e,s.imageWidth,s.imageHeight,a,o),e.fadeTo(0,1),ge.trigger(fe.events.AFTER_PUT_IMAGE,n)}));u&&h(u,l)}function g(e,t){try{var n=e.children(".ug-item-wrapper");if(null==t)return n.html(""),e.removeData("index"),e.removeData("type"),e.removeData("urlImage"),!1;e.data("index");e.data("index",t.index),e.data("type",t.type),1==Te.slider_enable_links&&"image"==t.type&&(t.link?e.addClass("ug-slide-clickable"):e.removeClass("ug-slide-clickable")),f(e,t);var i=K(e);switch(t.type){case"image":i.hide();break;default:i.show()}}catch(r){throw"undefined"!=typeof r.fileName&&"showbig"==r.fileName&&_e.showErrorMessageReplaceGallery(r.message),n.html(""),new Error(r)}}function _(){if(!Ee)return!1;if(1==v())return!1;var e=Ee.getElement(),t=0;(1==Ie.isTextPanelSaparateHover||1==Te.slider_textpanel_always_on)&&(t=Te.slider_controls_appear_duration),e.stop().fadeTo(t,0),e.data("isHidden",!0)}function m(){if(!Ee)return!1;if(0==v())return!1;var e=Ee.getElement(),t=0;(1==Ie.isTextPanelSaparateHover||1==Te.slider_textpanel_always_on)&&(e.show(),Ee.positionElements(),t=Te.slider_controls_appear_duration),e.stop().show().fadeTo(t,1),e.data("isHidden",!1)}function v(){var e=Ee.getElement(),t=e.data("isHidden");return t===!1?!1:!0}function b(e,t){if(void 0==t)var t=fe.getCurrentSlide();var n=fe.getSlideType(t);if(n!=e)throw new Error("Wrong slide type: "+n+", should be: "+e);return!0}function y(){var e=fe.getCurrentSlide(),t=fe.getSlideImage(e),n=we.getElementSize(e),i=n.left,r=n.top;if(1==Te.slider_video_constantsize){var o=we.getElementSize(t);i+=o.left,r+=o.top}else i+=Te.slider_video_padding_left,r+=Te.slider_video_padding_top;ye.setPosition(i,r)}function w(){var e=Te.slider_video_constantsize_width,t=Te.slider_video_constantsize_height;ye.setSize(e,t);var n=ye.getObject();h(n)}function x(e,t,n){ge.trigger(fe.events.TRANSITION_START);var i=Te.slider_transition;switch(n&&(i=n),fe.stopSlideAction(null,!0),i){default:case"fade":S(t);break;case"slide":E(e,t);break;case"lightbox_open":S(t,!1,!0)}}function E(e,t){var n=fe.isAnimating();if(1==n)return Ie.itemWaiting=t,!0;null!=Ie.itemWaiting&&(Ie.itemWaiting=null);var i=fe.getSlidesReference();switch(e){case"right":g(i.objPrevSlide,t),l();var r=we.getElementSize(i.objPrevSlide),o=-r.left;fe.switchSlideNums("right");break;case"left":g(i.objNextSlide,t),l();var a=we.getElementSize(i.objNextSlide),o=-a.left;fe.switchSlideNums("left");break;default:throw new Error("wrong direction: "+e)}var s=Te.slider_transition_speed,u=Te.slider_transition_easing,d={duration:s,easing:u,queue:!1,always:function(){if(fe.stopSlideAction(),ye.hide(),null!=Ie.itemWaiting){var e=$(Ie.itemWaiting);E(e,Ie.itemWaiting)}else fe.placeNabourItems(),ge.trigger(fe.events.TRANSITION_END)}};re.animate({left:o+"px"},d)}function T(e,t,n){n?e.fadeTo(Te.slider_transition_speed,t,n):e.fadeTo(Te.slider_transition_speed,t)}function S(e,t,n){if(!t)var t=!1;var i=fe.getSlidesReference();g(i.objNextSlide,e);var r=we.getElementSize(i.objCurrentSlide);we.placeElement(i.objNextSlide,r.left,r.top);var o=Ie.numCurrent;if(Ie.numCurrent=Ie.numNext,Ie.numNext=o,ge.trigger(fe.events.ITEM_CHANGED),i.objNextSlide.stop(!0),i.objCurrentSlide.stop(!0),1==t)i.objCurrentSlide.fadeTo(0,0),i.objNextSlide.fadeTo(0,1),fe.placeNabourItems(),ge.trigger(fe.events.TRANSITION_END),n!==!0&&ye.hide();else{if(i.objNextSlide.fadeTo(0,0),T(i.objCurrentSlide,0,function(){fe.placeNabourItems(),ge.trigger(fe.events.TRANSITION_END),n!==!0&&ye.hide()}),1==ye.isVisible()){var a=ye.getObject();T(a,0)}T(i.objNextSlide,1)}}function I(){1==Te.slider_fullscreen_button_mobilehide&&ve&&ve.hide(),1==Te.slider_play_button_mobilehide&&me&&me.hide(),1==Te.slider_zoompanel_mobilehide&&he&&he.getElement().hide()}function C(){1==Te.slider_fullscreen_button_mobilehide&&ve&&ve.show(),1==Te.slider_play_button_mobilehide&&me&&me.show(),1==Te.slider_zoompanel_mobilehide&&he&&he.getElement().show()}function P(){var e=_e.isMobileMode();e?I():C()}function j(){var e=ie.children(".ug-slider-control");return e}function A(e){if(0==we.isTimePassed("sliderControlsToggle"))return!1;if(0==Ie.isControlsVisible)return!1;if(!e)var e=!1;var t=j();e===!0?t.stop().fadeTo(0,0).hide():t.stop().fadeTo(Te.slider_controls_appear_duration,0,function(){t.hide()}),Ie.isControlsVisible=!1}function k(e){if(0==we.isTimePassed("sliderControlsToggle"))return!1;if(1==Ie.isControlsVisible)return!0;if(!e)var e=!1;var t=j();e===!0?t.stop().show():(t.stop().show().fadeTo(0,0),t.fadeTo(Te.slider_controls_appear_duration,1)),Ie.isControlsVisible=!0}function M(){0==Ie.isControlsVisible?k():A()}function N(e){if(e==Ie.currentControlsMode)return!1;switch(e){case"image":he&&he.getElement().show();break;case"video":he&&he.getElement().hide();break;default:throw new Error("wrong controld mode: "+e)}Ie.currentControlsMode=e}function L(e,t,n){var i=_e.getSelectedItem();fe.setItem(i,!1,n);var r=i.index;be&&be.setActive(r),Ee&&0==Ie.isTextPanelSaparateHover&&m(),N("image"==i.type?"image":"video")}function z(e,t){_e.selectItem(t)}function O(e){return de&&0==de.isTapEventOccured(e)?!0:void ge.trigger(fe.events.CLICK,e)}function H(){var e=fe.getCurrentSlide(),t=e.hasClass("ug-slide-clickable"),n=fe.getCurrentItem();return t?(0==Te.slider_links_newpage?location.href=n.link:window.open(n.link,"_blank"),!0):void(0==Te.slider_controls_always_on&&1==Te.slider_controls_appear_ontap&&1==fe.isCurrentSlideType("image")&&(M(),Ee&&1==Te.slider_textpanel_always_on&&fe.isCurrentSlideType("image")&&fe.isCurrentSlideImageFit()&&m()))}function F(e){Ee&&fe.isCurrentSlideType("image")&&0==fe.isCurrentSlideImageFit()&&_()}function R(){k()}function D(){A()}function W(e){var t=e.parent();fe.startSlideAction(t)}function Q(){_e.isPlayMode()&&_e.pausePlaying(),ge.trigger(fe.events.ACTION_START)}function G(){_e.isPlayMode()&&_e.continuePlaying(),ge.trigger(fe.events.ACTION_END)}function B(e,t,n){oe.data("index")==t&&(objItem=_e.getItem(t),f(oe,objItem,!0)),ae.data("index")==t&&(objItem=_e.getItem(t),f(ae,objItem,!0)),se.data("index")==t&&(objItem=_e.getItem(t),f(se,objItem,!0))}function U(e,t){t=jQuery(t);var n=fe.getSlideImage(t),i=K(t),r=we.getElementSize(n);we.placeElement(i,"center","middle",r.left,r.top,n)}function Y(e){var t=K(e);we.addClassOnHover(t),we.setButtonOnClick(t,W)}function q(){ee.on(_e.events.ITEM_IMAGE_UPDATED,B),ee.on(_e.events.ITEM_CHANGE,L),be&&jQuery(be).on(be.events.BULLET_CLICK,z),1==Te.slider_enable_arrows&&(we.addClassOnHover(ue,"ug-arrow-hover"),we.addClassOnHover(le,"ug-arrow-hover"),_e.setNextButton(ue),_e.setPrevButton(le)),0==Te.slider_controls_always_on&&ie.hover(R,D),ie.on("touchend click",O),ge.on(fe.events.CLICK,H),Ee&&1==Ie.isTextPanelSaparateHover&&ie.hover(m,_),me&&(we.addClassOnHover(me,"ug-button-hover"),_e.setPlayButton(me)),ve&&(we.addClassOnHover(ve,"ug-button-hover"),_e.setFullScreenToggleButton(ve)),ce&&ge.on(fe.events.ZOOM_CHANGE,F),he&&he.initEvents(),ye.initEvents(),jQuery(ye).on(ye.events.SHOW,Q),jQuery(ye).on(ye.events.HIDE,G),Y(oe),Y(ae),Y(se),ge.on(fe.events.AFTER_PUT_IMAGE,U),ie.delegate(".ug-item-wrapper img","mouseenter",function(e){ge.trigger(fe.events.IMAGE_MOUSEENTER)}),ie.delegate(".ug-item-wrapper img","mouseleave",function(e){var t=fe.isMouseInsideSlideImage(e);0==t&&ge.trigger(fe.events.IMAGE_MOUSELEAVE)})}function X(){var e;switch(Te.slider_loader_type){default:case 1:e="ug-loader1";break;case 2:e="ug-loader2";break;case 3:e="ug-loader3";break;case 4:e="ug-loader4";break;case 5:e="ug-loader5";break;case 6:e="ug-loader6";break;case 7:e="ug-loader7";break;case 8:e="ug-loader8";break;case 9:e="ug-loader9"}return"black"==Te.slider_loader_color&&(e+=" ug-loader-black"),e}function V(e){switch(e){case 1:return oe;case 2:return ae;case 3:return se;default:throw new Error("wrong num: "+e)}}function $(e){var t=fe.getSlidesReference(),n=t.objCurrentSlide.data("index"),i=e.index,r="left";return n>i&&(r="right"),r}function Z(e){if(!e)var e=fe.getCurrentSlide();var t=e.children(".ug-slider-preloader");return t}function K(e){var t=e.children(".ug-button-videoplay");return t}function J(e){if(!e)var e=fe.getCurrentSlide();var t=e.data("index");if(void 0==t)return null;var n=_e.getItem(t);return n}var ee,te,ne,ie,re,oe,ae,se,le,ue,de,ce,he,pe,fe=this,ge=jQuery(fe),_e=new UniteGalleryMain,me=null,ve=null,be=null,ye=new UGVideoPlayer,we=new UGFunctions,xe=null,Ee=null;this.events={ITEM_CHANGED:"item_changed",BEFORE_SWITCH_SLIDES:"before_switch",BEFORE_RETURN:"before_return",AFTER_RETURN:"after_return",ZOOM_START:"slider_zoom_start",ZOOM_END:"slider_zoom_end",ZOOMING:"slider_zooming",ZOOM_CHANGE:"slider_zoom_change",START_DRAG:"start_drag",AFTER_DRAG_CHANGE:"after_drag_change",ACTION_START:"action_start",ACTION_END:"action_end",CLICK:"slider_click",TRANSITION_START:"slider_transition_start",TRANSITION_END:"slider_transition_end",AFTER_PUT_IMAGE:"after_put_image",IMAGE_MOUSEENTER:"slider_image_mouseenter",IMAGE_MOUSELEAVE:"slider_image_mouseleave",CURRENTSLIDE_LOAD_START:"slider_current_loadstart",CURRENTSLIDE_LOAD_END:"slider_current_loadend"};var Te={slider_scale_mode:"fill",slider_scale_mode_media:"fill",slider_scale_mode_fullscreen:"down",slider_item_padding_top:0,slider_item_padding_bottom:0,slider_item_padding_left:0,slider_item_padding_right:0,slider_background_color:"",slider_background_opacity:1,slider_image_padding_top:0,slider_image_padding_bottom:0,slider_image_padding_left:0,slider_image_padding_right:0,slider_image_border:!1,slider_image_border_width:10,slider_image_border_color:"#ffffff",slider_image_border_radius:0,slider_image_shadow:!1,slider_video_constantsize:!1,slider_video_constantsize_scalemode:"fit",slider_video_constantsize_width:854,slider_video_constantsize_height:480,slider_video_padding_top:0,slider_video_padding_bottom:0,slider_video_padding_left:0,slider_video_padding_right:0,slider_video_enable_closebutton:!0,slider_transition:"slide",slider_transition_speed:300,slider_transition_easing:"easeInOutQuad",slider_control_swipe:!0,slider_control_zoom:!0,slider_zoom_mousewheel:!0,slider_vertical_scroll_ondrag:!1,slider_loader_type:1,slider_loader_color:"white",slider_enable_links:!0,slider_links_newpage:!1,slider_enable_bullets:!1,slider_bullets_skin:"",slider_bullets_space_between:-1,slider_bullets_align_hor:"center",slider_bullets_align_vert:"bottom",slider_bullets_offset_hor:0,slider_bullets_offset_vert:10,slider_enable_arrows:!0,slider_arrows_skin:"",slider_arrow_left_align_hor:"left",slider_arrow_left_align_vert:"middle",slider_arrow_left_offset_hor:20,slider_arrow_left_offset_vert:0,slider_arrow_right_align_hor:"right",slider_arrow_right_align_vert:"middle",slider_arrow_right_offset_hor:20,slider_arrow_right_offset_vert:0,slider_enable_progress_indicator:!0,slider_progress_indicator_type:"pie",slider_progress_indicator_align_hor:"right",slider_progress_indicator_align_vert:"top",slider_progress_indicator_offset_hor:10,slider_progress_indicator_offset_vert:10,slider_enable_play_button:!0,slider_play_button_skin:"",slider_play_button_align_hor:"left",slider_play_button_align_vert:"top",slider_play_button_offset_hor:40,slider_play_button_offset_vert:8,slider_play_button_mobilehide:!1,slider_enable_fullscreen_button:!0,slider_fullscreen_button_skin:"",slider_fullscreen_button_align_hor:"left",slider_fullscreen_button_align_vert:"top",slider_fullscreen_button_offset_hor:11,slider_fullscreen_button_offset_vert:9,slider_fullscreen_button_mobilehide:!1,slider_enable_zoom_panel:!0,slider_zoompanel_skin:"",slider_zoompanel_align_hor:"left",slider_zoompanel_align_vert:"top",slider_zoompanel_offset_hor:12,slider_zoompanel_offset_vert:92,slider_zoompanel_mobilehide:!1,slider_controls_always_on:!1,slider_controls_appear_ontap:!0,slider_controls_appear_duration:300,slider_enable_text_panel:!0,slider_textpanel_always_on:!0,slider_videoplay_button_type:"square"},Se={slider_progress_indicator_align_hor:"left",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_hor:0,slider_progress_indicator_offset_vert:0},Ie={isRunOnce:!1,isTextPanelSaparateHover:!1,numPrev:1,numCurrent:2,numNext:3,isControlsVisible:!0,currentControlsMode:"image"};this.switchSlideNums=function(e){switch(ge.trigger(fe.events.BEFORE_SWITCH_SLIDES),e){case"left":var t=Ie.numCurrent;Ie.numCurrent=Ie.numNext,Ie.numNext=Ie.numPrev,Ie.numPrev=t;break;case"right":var t=Ie.numCurrent;Ie.numCurrent=Ie.numPrev,Ie.numPrev=Ie.numNext,Ie.numNext=t;break;default:throw new Error("wrong direction: "+e)}ge.trigger(fe.events.ITEM_CHANGED)},this.destroy=function(){ge.off(fe.events.AFTER_PUT_IMAGE),ee.off(_e.events.ITEM_IMAGE_UPDATED),ee.off(_e.events.ITEM_CHANGE),be&&jQuery(be).on(be.events.BULLET_CLICK),ie.off("mouseenter"),ie.off("mouseleave"),ie.off("touchend"),ie.off("click"),ge.off(fe.events.CLICK),ce&&ge.off(fe.events.ZOOM_CHANGE),ge.off(fe.events.BEFORE_SWITCH_SLIDES),jQuery(ye).off(ye.events.SHOW),jQuery(ye).off(ye.events.HIDE),ye.destroy(),ie.undelegate(".ug-item-wrapper img","mouseenter"),ie.undelegate(".ug-item-wrapper img","mouseleave")},this.________EXTERNAL_GENERAL___________=function(){},this.init=function(t,n,i){e(t,n,i)},this.getSlideImage=function(e){if(!e)var e=fe.getCurrentSlide();var t=e.find(".ug-item-wrapper img");
return t},this.setHtml=function(e){r(e)},this.run=function(){t()},this.isInnerInPlace=function(){var e=fe.getSlidesReference(),t=we.getElementSize(e.objCurrentSlide),n=-t.left,i=we.getElementSize(re);return n==i.left?!0:!1},this.isAnimating=function(){var e=re.is(":animated");return e},this.isSlideCurrent=function(e){var t=e.data("slidenum");return Ie.numCurrent==t?!0:!1},this.isSlideHasItem=function(e){var t=e.data("index");return void 0===t||null===t?!1:!0},this.getObjImagePadding=function(){var e={padding_top:Te.slider_image_padding_top,padding_bottom:Te.slider_image_padding_bottom,padding_left:Te.slider_image_padding_left,padding_right:Te.slider_image_padding_right};return e},this.getSlidesReference=function(){var e={objPrevSlide:V(Ie.numPrev),objNextSlide:V(Ie.numNext),objCurrentSlide:V(Ie.numCurrent)};return e},this.getCurrentSlide=function(){var e=fe.getSlidesReference();return e.objCurrentSlide},this.getCurrentItemIndex=function(){var e=fe.getSlidesReference(),t=e.objCurrentSlide.data("index");return(null===t||void 0===t)&&(t=-1),t},this.getCurrentItem=function(){var e=fe.getCurrentItemIndex();if(-1==e)return null;var t=_e.getItem(e);return t},this.getSlideType=function(e){void 0==e&&(e=fe.getCurrentSlide());var t=e.data("type");return t},this.isMouseInsideSlideImage=function(e){var t=fe.getSlideImage(),n=we.getMousePosition(e);void 0===n.pageX&&(n=de.getLastMousePos());var i=we.getMouseElementPoint(n,t),r=we.getElementSize(t);return isMouseInside=we.isPointInsideElement(i,r),isMouseInside},this.isCurrentSlideType=function(e){var t=fe.getSlideType();return t==e?!0:!1},this.isCurrentSlideLoadingImage=function(){var e=fe.getCurrentSlide(),t=e.data("isLoading");return t===!0?!0:!1},this.setItem=function(e,t,n){var i=fe.getSlidesReference(),r=i.objCurrentSlide.data("index"),o=e.index;if(o==r)return!0;var a=void 0==r;if(a)g(i.objCurrentSlide,e),fe.placeNabourItems();else{var s="left";_e.getNumItems();"next"==n?s="left":"prev"==n||r>o?s="right":r>o&&(s="right"),x(s,e,t)}},this.placeNabourItems=function(){var e=fe.getSlidesReference(),t=e.objCurrentSlide.data("index"),n=_e.getPrevItem(t),i=_e.getNextItem(t);g(e.objNextSlide,i),g(e.objPrevSlide,n),l()},this.________EXTERNAL_API___________=function(){},this.stopSlideAction=function(e,t){e||(e=fe.getCurrentSlide()),t===!0?ye.pause():ye.hide()},this.startSlideAction=function(e){e||(e=fe.getCurrentSlide());var t=J(e);if("image"==t.type)return!0;switch(1==Te.slider_video_constantsize&&w(),y(),ye.show(),t.type){case"youtube":ye.playYoutube(t.videoid);break;case"vimeo":ye.playVimeo(t.videoid);break;case"html5video":ye.playHtml5Video(t.videoogv,t.videowebm,t.videomp4,t.urlImage);break;case"soundcloud":ye.playSoundCloud(t.trackid);break;case"wistia":ye.playWistia(t.videoid)}},this.getScaleMode=function(e){if(!e)var e=fe.getCurrentSlide();var t=fe.getSlideType(e);return"image"!=t?Te.slider_scale_mode_media:Te.slider_scale_mode==Te.slider_scale_mode_fullscreen?Te.slider_scale_mode:1==_e.isFullScreen()?Te.slider_scale_mode_fullscreen:Te.slider_scale_mode},this.getObjects=function(){var e={g_objSlider:ie,g_objInner:re,g_options:Te,g_objZoomSlider:ce};return e},this.getObjZoom=function(){return ce},this.getOptions=function(){return Te},this.getElement=function(){return ie},this.getVideoObject=function(){return ye},this.isCurrentSlideImageFit=function(){var e=fe.getCurrentSlide();fe.getSlideType(e);b("image",e);var t=fe.getSlideImage(e);if(0==t.length)return!1;var n=we.isImageFitParent(t);return n},this.isCurrentImageInPlace=function(){var e=fe.getSlideImage();if(0==e.length)return!1;var t=fe.getScaleMode(),n=fe.getObjImagePadding(),i=J(),r=e.parent(),o=we.getImageInsideParentData(r,i.imageWidth,i.imageHeight,t,n),a=we.getElementSize(e);return o.imageWidth==a.width?!0:!1},this.isSlideActionActive=function(){return ye.isVisible()},this.isSwiping=function(){if(!de)return!1;var e=de.isTouchActive();return e},this.isPreloading=function(){var e=Z();return e.is(":visible")?!0:!1},this.setOptions=function(e){pe&&(e=we.convertCustomPrefixOptions(e,pe,"slider")),Te=jQuery.extend(Te,e)},this.setSize=function(e,t){if(0>e||0>t)return!0;var n={};n.width=e+"px",n.height=t+"px",ie.css(n);var i={};i.height=t+"px",i.top="0px",i.left="0px",re.css(i);var r={};r.height=t+"px",r.width=e+"px",oe.css(r),ae.css(r),se.css(r);var o=e-Te.slider_item_padding_left-Te.slider_item_padding_right,s=t-Te.slider_item_padding_top-Te.slider_item_padding_bottom,d={};d.width=o+"px",d.height=s+"px",d.top=Te.slider_item_padding_top+"px",d.left=Te.slider_item_padding_left+"px",ie.find(".ug-item-wrapper").css(d),Ee&&Ee.setSizeByParent(),a(),u(oe),u(ae),u(se),l();var c=fe.getSlideType();if("image"!=c&&1==Te.slider_video_constantsize)w();else{var h=e-Te.slider_video_padding_left-Te.slider_video_padding_right,p=t-Te.slider_video_padding_top-Te.slider_video_padding_bottom;ye.setSize(h,p)}y()},this.refreshSlideItems=function(){return 1==fe.isAnimating()?!0:(u(oe),u(ae),u(se),void l())},this.isMouseOver=function(){return ie.ismouseover()},this.setPosition=function(e,t){we.placeElement(ie,e,t)},this.zoomIn=function(){return ce?void ce.zoomIn():!0},this.zoomOut=function(){return ce?void ce.zoomOut():!0},this.zoomBack=function(){return ce?void ce.zoomBack():!0}}function UGTextPanel(){function e(e,t){if(!t)var t=v.textpanel_padding_top;var n=t;if(d){var i=n;_.placeElement(d,0,i);var o=_.getElementSize(d),n=o.bottom}var a="";if(c&&(a=jQuery.trim(c.text())),""!=a){var s=n;d&&(s+=v.textpanel_padding_title_description),_.placeElement(c,0,s);var l=_.getElementSize(c);n=l.bottom}if(!v.textpanel_height&&1==b.setInternalHeight){var u=n+v.textpanel_padding_bottom;r(u,e)}}function t(){var e=0;if(d&&(e+=d.outerHeight()),c){var t="";c&&(t=jQuery.trim(c.text())),""!=t&&(d&&(e+=v.textpanel_padding_title_description),e+=c.outerHeight())}return e}function n(){var n=t(),i=(p.height()-n)/2;e(!1,i)}function i(){var n=t(),i=p.height()-n-v.textpanel_padding_bottom;e(!1,i)}function r(e,t){if(!t)var t=!1;if(1==t){if(h){var n=h.height();e>n&&h.height(e)}var i={height:e+"px"};l.add(p).animate(i,v.textpanel_fade_duration)}else h&&h.height(e),l.add(p).height(e)}function o(){if(1==v.textpanel_enable_bg){h=l.children(".ug-textpanel-bg"),h.fadeTo(0,v.textpanel_bg_opacity);var e={"background-color":v.textpanel_bg_color};e=jQuery.extend(e,v.textpanel_bg_css),h.css(e)}if(1==v.textpanel_enable_title){d=p.children(".ug-textpanel-title");var t={};null!==v.textpanel_title_color&&(t.color=v.textpanel_title_color),null!==v.textpanel_title_font_family&&(t["font-family"]=v.textpanel_title_font_family),null!==v.textpanel_title_text_align&&(t["text-align"]=v.textpanel_title_text_align),null!==v.textpanel_title_font_size&&(t["font-size"]=v.textpanel_title_font_size+"px"),null!==v.textpanel_title_bold&&(v.textpanel_title_bold===!0?t["font-weight"]="bold":t["font-weight"]="normal"),v.textpanel_css_title&&(t=jQuery.extend(t,v.textpanel_css_title)),d.css(t)}if(1==v.textpanel_enable_description){c=p.children(".ug-textpanel-description");var n={};null!==v.textpanel_desc_color&&(n.color=v.textpanel_desc_color),null!==v.textpanel_desc_font_family&&(n["font-family"]=v.textpanel_desc_font_family),null!==v.textpanel_desc_text_align&&(n["text-align"]=v.textpanel_desc_text_align),null!==v.textpanel_desc_font_size&&(n["font-size"]=v.textpanel_desc_font_size+"px"),null!==v.textpanel_desc_bold&&(v.textpanel_desc_bold===!0?n["font-weight"]="bold":n["font-weight"]="normal"),v.textpanel_css_title&&(n=jQuery.extend(n,v.textpanel_css_description)),c.css(n)}}function a(){var e=f.getSelectedItem();g.setText(e.title,e.description)}function s(){jQuery(f).on(f.events.ITEM_CHANGE,a)}var l,u,d,c,h,p,f,g=this,_=new UGFunctions,m="",v={textpanel_align:"bottom",textpanel_margin:0,textpanel_text_valign:"middle",textpanel_padding_top:10,textpanel_padding_bottom:10,textpanel_height:null,textpanel_padding_title_description:5,textpanel_padding_right:11,textpanel_padding_left:11,textpanel_fade_duration:200,textpanel_enable_title:!0,textpanel_enable_description:!0,textpanel_enable_bg:!0,textpanel_bg_color:"#000000",textpanel_bg_opacity:.4,textpanel_title_color:null,textpanel_title_font_family:null,textpanel_title_text_align:null,textpanel_title_font_size:null,textpanel_title_bold:null,textpanel_css_title:{},textpanel_desc_color:null,textpanel_desc_font_family:null,textpanel_desc_text_align:null,textpanel_desc_font_size:null,textpanel_desc_bold:null,textpanel_css_description:{},textpanel_desc_style_as_title:!1,textpanel_bg_css:{}},b={isFirstTime:!0,setInternalHeight:!0};this.positionElements=function(t){if(!v.textpanel_height||"top"==v.textpanel_text_valign)return e(t),!1;switch(v.textpanel_text_valign){default:case"top":e(!1);break;case"bottom":i();break;case"center":case"middle":n()}},this.init=function(e,t,n){if(f=e,n&&(m=n,t=_.convertCustomPrefixOptions(t,m,"textpanel")),t&&(v=jQuery.extend(v,t)),0==v.textpanel_enable_title&&0==v.textpanel_enable_description)throw new Error("Textpanel Error: The title or description must be enabled");v.textpanel_height&&v.textpanel_height<0&&(v.textpanel_height=null),1==v.textpanel_desc_style_as_title&&(v.textpanel_desc_color||(v.textpanel_desc_color=v.textpanel_title_color),v.textpanel_desc_bold||(v.textpanel_desc_bold=v.textpanel_title_bold),v.textpanel_desc_font_family||(v.textpanel_desc_font_family=v.textpanel_title_font_family),v.textpanel_desc_font_size||(v.textpanel_desc_font_size=v.textpanel_title_font_size),v.textpanel_desc_text_align||(v.textpanel_desc_text_align=v.textpanel_title_text_align))},this.appendHTML=function(e,t){u=e,t=t?" "+t:"";var n="<div class='ug-textpanel"+t+"'>";1==v.textpanel_enable_bg&&(n+="<div class='ug-textpanel-bg"+t+"'></div>"),n+="<div class='ug-textpanel-textwrapper"+t+"'>",1==v.textpanel_enable_title&&(n+="<div class='ug-textpanel-title"+t+"'></div>"),1==v.textpanel_enable_description&&(n+="<div class='ug-textpanel-description"+t+"'></div>"),n+="</div></div>",e.append(n),l=e.children(".ug-textpanel"),p=l.children(".ug-textpanel-textwrapper"),o()},this.destroy=function(){jQuery(f).off(f.events.ITEM_CHANGE)},this.run=function(){g.setSizeByParent(),s()},this.setPanelSize=function(e,t){if(b.setInternalHeight=!0,t)b.setInternalHeight=!1;else var t=80;v.textpanel_height&&(t=v.textpanel_height),l.width(e),l.height(t),h&&(h.width(e),h.height(t));var n=e-v.textpanel_padding_left-v.textpanel_padding_right,i=v.textpanel_padding_left;_.setElementSizeAndPosition(p,i,0,n,t),d&&d.width(n),c&&c.width(n),0==b.isFirstTime&&g.positionElements(!1)},this.setSizeByParent=function(){var e=_.getElementSize(u);g.setPanelSize(e.width)},this.setTextPlain=function(e,t){d&&d.html(e),c&&c.html(t)},this.setText=function(e,t){1==b.isFirstTime?(g.setTextPlain(e,t),b.isFirstTime=!1,g.positionElements(!1)):p.stop().fadeTo(v.textpanel_fade_duration,0,function(){g.setTextPlain(e,t),g.positionElements(!0),jQuery(this).fadeTo(v.textpanel_fade_duration,1)})},this.positionPanel=function(e,t){var n={};if(void 0!==e&&null!==e)n.top=e,n.bottom="auto";else switch(v.textpanel_align){case"top":n.top=v.textpanel_margin+"px";break;case"bottom":n.top="auto",n.bottom=v.textpanel_margin+"px";break;case"middle":n.top=_.getElementRelativePos(l,"middle",v.textpanel_margin)}void 0!==t&&null!==t&&(n.left=t),l.css(n)},this.setOptions=function(e){m&&(e=_.convertCustomPrefixOptions(e,m,"textpanel")),v=jQuery.extend(v,e)},this.getElement=function(){return l},this.getSize=function(){var e=_.getElementSize(l);return e},this.refresh=function(e,t,n,i){o(),n?g.setPanelSize(n,i):g.setSizeByParent(),g.positionElements(!1),t!==!0&&g.positionPanel(),e===!0&&g.show()},this.hide=function(){l.hide()},this.show=function(){l.show()},this.getOptions=function(){return v},this.getOption=function(e){return 0==v.hasOwnProperty(e)?null:v[e]}}function UGZoomButtonsPanel(){function e(e){return e?e.hasClass("ug-zoompanel-button-disabled")?!0:!1:!0}function t(e){e&&e.addClass("ug-zoompanel-button-disabled")}function n(e){e&&e.removeClass("ug-zoompanel-button-disabled")}function i(){if(0==d.isCurrentSlideType("image"))return!0;var i=d.isCurrentSlideImageFit();1==i?0==e(s)&&(t(s),t(l)):1==e(s)&&(n(s),n(l))}var r,o,a,s,l,u=this,d=new UGSlider,c=new UGFunctions,h={slider_zoompanel_skin:""};this.init=function(e,t){d=e,t&&(h=jQuery.extend(h,t))},this.appendHTML=function(e){o=e;var t="<div class='ug-slider-control ug-zoompanel ug-skin-"+h.slider_zoompanel_skin+"'>";t+="<div class='ug-zoompanel-button ug-zoompanel-plus'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-minus ug-zoompanel-button-disabled'></div>",t+="<div class='ug-zoompanel-button ug-zoompanel-return ug-zoompanel-button-disabled'></div>",t+="</div>",e.append(t),r=e.children(".ug-zoompanel"),a=r.children(".ug-zoompanel-plus"),s=r.children(".ug-zoompanel-minus"),l=r.children(".ug-zoompanel-return")},this.setObjects=function(e,t,n){a=e,s=t,l=n,s&&s.addClass("ug-zoompanel-button-disabled"),l&&l.addClass("ug-zoompanel-button-disabled")},this.getElement=function(){return r},u.initEvents=function(){c.addClassOnHover(a,"ug-button-hover"),c.addClassOnHover(s,"ug-button-hover"),c.addClassOnHover(l,"ug-button-hover"),c.setButtonOnClick(a,function(){return 1==e(a)?!0:void d.zoomIn()}),c.setButtonOnClick(s,function(){return 1==e(s)?!0:void d.zoomOut()}),c.setButtonOnClick(l,function(){return 1==e(l)?!0:void d.zoomBack()}),jQuery(d).on(d.events.ZOOM_CHANGE,i),jQuery(d).on(d.events.ITEM_CHANGED,i)}}function UGBullets(){function e(){var e="",t="";-1!=f.bullets_space_between&&(t=" style='margin-left:"+f.bullets_space_between+"px'");for(var n=0;u>n;n++)e+=0==n?"<div class='ug-bullet'></div>":"<div class='ug-bullet'"+t+"></div>";if(o.html(e),!s){var i=o.find(".ug-bullet:first-child");i.length&&(s=i.width())}}function t(e){if(1==l.isActive(e))return!0;var t=e.index();jQuery(l).trigger(l.events.BULLET_CLICK,t)}function n(){var e=o.children(".ug-bullet");h.setButtonOnClick(e,t),e.on("mousedown mouseup",function(e){return!1})}function i(e){if(0>e||e>=u)throw new Error("wrong bullet index: "+e)}function r(){if(1==p.isInited)return!0;throw new Error("The bullets are not inited!")}var o,a,s,l=this,u=0,d=new UniteGalleryMain,c=-1,h=new UGFunctions,p={isInited:!1},f={bullets_skin:"",bullets_addclass:"",bullets_space_between:-1};this.events={BULLET_CLICK:"bullet_click"},this.init=function(e,t,n){d=e,u=n?n:d.getNumItems(),p.isInited=!0,f=jQuery.extend(f,t),""==f.bullets_skin&&(f.bullets_skin=f.gallery_skin)},this.getBulletsWidth=function(){if(0==u)return 0;if(!s)return 0;var e=u*s+(u-1)*f.bullets_space_between;return e},this.appendHTML=function(t){a=t,r();var i="";""!=f.bullets_addclass&&(i=" "+f.bullets_addclass);var s="<div class='ug-slider-control ug-bullets ug-skin-"+f.bullets_skin+i+"'>";s+="</div>",o=jQuery(s),t.append(o),e(),n()},this.updateNumBullets=function(t){u=t,e(),n()},this.getElement=function(){return o},this.setActive=function(e){r(),i(e);var t=o.children(".ug-bullet");t.removeClass("ug-bullet-active");var n=jQuery(t[e]);n.addClass("ug-bullet-active"),c=e},this.isActive=function(e){if(i(e),"number"!=typeof e)var t=e;else var t=o.children(".ug-bullet")[e];return t.hasClass("ug-bullet-active")?!0:!1},this.getNumBullets=function(){return u}}function UGProgressBar(){var e,t,n=this,i=0,r=new UGFunctions,o={slider_progressbar_color:"#ffffff",slider_progressbar_opacity:.6,slider_progressbar_line_width:5};this.put=function(n,i){i&&(o=jQuery.extend(o,i)),n.append("<div class='ug-progress-bar'><div class='ug-progress-bar-inner'></div></div>"),e=n.children(".ug-progress-bar"),t=e.children(".ug-progress-bar-inner"),t.css("background-color",o.slider_progressbar_color),e.height(o.slider_progressbar_line_width),t.height(o.slider_progressbar_line_width),t.width("0%");var r=o.slider_progressbar_opacity,a=t[0];a.style.opacity=r,a.style.filter="alpha(opacity="+100*r+")"},this.putHidden=function(t,i){n.put(t,i),e.hide()},this.getElement=function(){return e},this.setSize=function(i){e.width(i),t.width(i),n.draw()},this.setPosition=function(t,n,i,o){r.placeElement(e,t,n,i,o)},this.draw=function(){var e=100*i;t.width(e+"%")},this.setProgress=function(e){i=r.normalizePercent(e),n.draw()},this.getType=function(){return"bar"}}function UGProgressPie(){function e(e){if(!e)var e=0;var t=Math.min(a.slider_progresspie_width,a.slider_progresspie_height)/2,i=n[0].getContext("2d");0==r&&(r=!0,i.rotate(1.5*Math.PI),i.translate(-2*t,0)),i.clearRect(0,0,a.slider_progresspie_width,a.slider_progresspie_height);var o=a.slider_progresspie_width/2,s=a.slider_progresspie_height/2,l=0,u=e*Math.PI*2;if(1==a.slider_progresspie_type_fill)i.beginPath(),i.moveTo(o,s),i.arc(o,s,t,l,u),i.lineTo(o,s),i.fillStyle=a.slider_progresspie_color1,i.fill(),i.closePath();else{i.globalCompositeOperation="source-over",i.beginPath(),i.moveTo(o,s),i.arc(o,s,t,l,u),i.lineTo(o,s),i.fillStyle=a.slider_progresspie_color1,i.fill(),i.closePath(),i.globalCompositeOperation="destination-out";var d=t-a.slider_progresspie_stroke_width;i.beginPath(),i.moveTo(o,s),i.arc(o,s,d,l,u),i.lineTo(o,s),i.fillStyle=a.slider_progresspie_color1,i.fill(),i.closePath()}1==a.slider_progresspie_type_fill&&(l=u,u=2*Math.PI,i.beginPath(),i.arc(o,s,t,l,u),i.lineTo(o,s),i.fillStyle=a.slider_progresspie_color2,i.fill(),i.closePath())}var t,n,i=this,r=!1,o=new UGFunctions,a={slider_progresspie_type_fill:!1,slider_progresspie_color1:"#B5B5B5",slider_progresspie_color2:"#E5E5E5",slider_progresspie_stroke_width:6,slider_progresspie_width:30,slider_progresspie_height:30};this.put=function(e,t){t&&(a=jQuery.extend(a,t)),e.append("<canvas class='ug-canvas-pie' width='"+a.slider_progresspie_width+"' height='"+a.slider_progresspie_height+"'></canvas>"),n=e.children(".ug-canvas-pie")},this.putHidden=function(t,r){i.put(t,r),e(.1),n.hide()},this.getElement=function(){return n},this.setPosition=function(e,t){o.placeElement(n,e,t)},this.getSize=function(){var e={width:a.slider_progresspie_width,height:a.slider_progresspie_height};return e},this.setProgress=function(n){n=o.normalizePercent(n),t=n,e(n)},this.getType=function(){return"pie"}}function UGTouchSliderControl(){function e(e){if(!e)var e=m.getSlidesReference();var t=v.getElementSize(e.objCurrentSlide),n=-t.left,i=v.getElementSize(f),r=n-i.left;return r}function t(){var t=m.getSlidesReference(),n=e(t),i=Math.round(3*t.objCurrentSlide.width()/8);if(Math.abs(n)>=i)return!0;var r=Math.abs(b.lastMouseX-b.startMouseX);Math.abs(b.lastMouseY-b.startMouseY);if(20>r)return!1;var o=jQuery.now(),a=o-b.startTime;return 500>a?!0:!1}function n(e){if(1==m.isInnerInPlace())return!1;if(g.trigger(m.events.BEFORE_RETURN),!e)var e=m.getSlidesReference();var t=v.getElementSize(e.objCurrentSlide),n=-t.left;f.animate({left:n+"px"},{duration:_.slider_transition_return_speed,easing:_.slider_transition_continuedrag_easing,queue:!1,progress:function(e,t,i){if(1==b.isDragVideo){var r=v.getElementSize(f),o=r.left,a=o-n,s=b.videoStartX+a;b.videoObject.css("left",s)}},complete:function(){g.trigger(m.events.AFTER_RETURN)}})}function i(e){m.getVideoObject().hide(),m.switchSlideNums(e),m.placeNabourItems()}function r(){var t=m.getSlidesReference(),r=e(t);if(0==r)return!1;var o=r>0?"left":"right",a=!1;switch(o){case"right":if(m.isSlideHasItem(t.objPrevSlide))var s=v.getElementSize(t.objPrevSlide),l=-s.left;else a=!0;break;case"left":if(m.isSlideHasItem(t.objNextSlide))var u=v.getElementSize(t.objNextSlide),l=-u.left;else a=!0}1==a?n(t):f.stop().animate({left:l+"px"},{duration:_.slider_transition_continuedrag_speed,easing:_.slider_transition_continuedrag_easing,queue:!1,progress:function(){if(1==b.isDragVideo){var e=v.getElementSize(f),t=e.left,n=t-b.startPosx,i=b.videoStartX+n;b.videoObject.css("left",i)}},always:function(){i(o),g.trigger(m.events.AFTER_DRAG_CHANGE)}})}function o(e){var t=b.lastMouseX-b.startMouseX;if(0==t)return!0;var n=0>t?"left":"right",i=m.getObjZoom();if(i){var r=i.isPanEnabled(e,n);if(1==r)return b.isInitDataValid=!1,!0;if(0==b.isInitDataValid)return a(e),!0}var o=b.startPosx+t;if(t>0&&o>0)o/=3;else if(0>t){var s=o+f.width(),l=p.width();l>s&&(o=b.startPosx+t/3)}if(0==b.isDragging&&(b.isDragging=!0,g.trigger(m.events.START_DRAG)),f.css("left",o+"px"),1==b.isDragVideo){var u=o-b.startPosx,d=b.videoStartX+u;b.videoObject.css("left",d)}}function a(e){var t=v.getMousePosition(e);b.startMouseX=t.pageX,b.startMouseY=t.pageY,b.lastMouseX=b.startMouseX,b.lastMouseY=b.startMouseY,b.startTime=jQuery.now();var n=v.getArrTouches(e);b.startArrTouches=v.getArrTouchPositions(n);var i=v.getElementSize(f);b.startPosx=i.left,b.isInitDataValid=!0,b.isDragVideo=!1,v.storeEventData(e,b.storedEventID)}function s(e){b.touch_active=!1}function l(e,t){b.touch_active=!0,a(t)}function u(e){e.preventDefault(),b.isDragging=!1,1==m.isAnimating()&&f.stop(!0,!0);var t=v.getArrTouches(e);return t.length>1?(1==b.touch_active&&s("1"),!0):1==b.touch_active?!0:void l("1",e)}function d(e){if(0==b.touch_active)return!0;if(0==e.buttons)return s("2"),r(),!0;v.updateStoredEventData(e,b.storedEventID),e.preventDefault();var t=v.getMousePosition(e);b.lastMouseX=t.pageX,b.lastMouseY=t.pageY;var n=null;1==_.slider_vertical_scroll_ondrag&&(n=v.handleScrollTop(b.storedEventID)),"vert"!==n&&o(e)}function c(e){var i=v.getArrTouches(e),o=i.length,a=m.isInnerInPlace();if(1==a&&0==b.touch_active&&0==o)return!0;if(0==o&&1==b.touch_active){s("3");var u=!1,d=v.wasVerticalScroll(b.storedEventID);0==d&&(u=t()),1==u?r():n()}else 1==o&&0==b.touch_active&&l("2",e)}function h(){p.bind("mousedown touchstart",u),jQuery("body").bind("mousemove touchmove",d),jQuery(window).add("body").bind("mouseup touchend",c)}var p,f,g,_,m=new UGSlider,v=new UGFunctions,_={slider_transition_continuedrag_speed:250,slider_transition_continuedrag_easing:"linear",slider_transition_return_speed:300,slider_transition_return_easing:"easeInOutQuad"},b={touch_active:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startPosx:0,startTime:0,isInitDataValid:!1,slides:null,lastNumTouches:0,isDragging:!1,storedEventID:"touchSlider",videoStartX:0,isDragVideo:!1,videoObject:null};this.isTapEventOccured=function(t){var n=v.getArrTouches(t),i=n.length;if(0!=i||0!=b.lastNumTouches)return b.lastNumTouches=i,!1;b.lastNumTouches=i;var r=m.getSlidesReference(),o=(e(r),Math.abs(b.lastMouseX-b.startMouseX)),a=Math.abs(b.lastMouseY-b.startMouseY),s=jQuery.now(),l=s-b.startTime;return 20>o&&50>a&&500>l?!0:!1},this.init=function(e,t){m=e,g=jQuery(m),g_objects=e.getObjects(),p=g_objects.g_objSlider,f=g_objects.g_objInner,_=jQuery.extend(_,t),h()},this.getLastMousePos=function(){var e={pageX:b.lastMouseX,pageY:b.lastMouseY};return e},this.isTouchActive=function(){return b.touch_active}}function UGZoomSliderControl(){function e(e,t){E=e,x=jQuery(E),g_objects=e.getObjects(),y=g_objects.g_objSlider,w=g_objects.g_objInner,S=jQuery.extend(S,t),b()}function t(){var e=E.getScaleMode();return"down"!=e&&(e="fit"),e}function n(){var e=jQuery.now(),n=e-I.storeImageLastTime;if(20>n)return!1;var i=E.getSlidesReference();if(I.objSlide=i.objCurrentSlide,I.objImage=i.objCurrentSlide.find("img"),0==I.objImage.length)return!1;I.objImageSize=T.getElementSize(I.objImage),I.objParent=I.objImage.parent(),I.objParentSize=T.getElementSize(I.objParent);var r=t();objPadding=E.getObjImagePadding(),I.objFitImageSize=T.getImageInsideParentDataByImage(I.objImage,r,objPadding);var e=jQuery.now();return I.storeImageLastTime=e,!0}function i(e,n){var i=E.getSlidesReference(),r=i.objCurrentSlide.find("img"),o=t();x.trigger(E.events.ZOOM_START);var a=!0,s=E.getObjImagePadding();if("back"==e){var l=T.getImageOriginalSize(r);T.scaleImageFitParent(r,l.width,l.height,o,s)}else{var u="in"==e?!0:!1;a=T.zoomImageInsideParent(r,u,S.slider_zoom_step,n,o,S.slider_zoom_max_ratio,s)}1==a&&(x.trigger(E.events.ZOOMING),x.trigger(E.events.ZOOM_CHANGE),x.trigger(E.events.ZOOM_END))}function r(e,t,n){var i=T.getArrTouches(t);if(n===!0){if(1!=i.length)return!1}else if(i.length>1)return!1;return T.isElementBiggerThenParent(e)?!0:!1}function o(e){var t=T.getMousePosition(e);I.startMouseX=t.pageX,I.startMouseY=t.pageY,I.lastMouseX=I.startMouseX,I.lastMouseY=I.startMouseY,I.startImageX=I.objImageSize.left,I.startImageY=I.objImageSize.top,I.panXActive=I.objImageSize.width>I.objParentSize.width,I.panYActive=I.objImageSize.height>I.objParentSize.height}function a(e){I.isPanActive=!0,o(e)}function s(e){if(void 0==I.objImage||0==I.objImage.length)return!0;var t=T.getMousePosition(e),n=(t.pageX-I.startMouseX,t.pageY-I.startMouseY,t.pageX-I.lastMouseX),i=t.pageY-I.lastMouseY,r=0>n?"left":"right",o=0>i?"up":"down";I.lastMouseX=t.pageX,I.lastMouseY=t.pageY;var a=T.getElementSize(I.objImage);0==I.panYActive?i=0:"down"==o&&a.top>0?i/=3:"up"==o&&a.bottom<I.objParentSize.height&&(i/=3),0==I.panXActive||0==E.isInnerInPlace()?n=0:"right"==r&&a.left>0?n/=3:"left"==r&&a.right<I.objParentSize.width&&(n/=3);var s=a.left+n,l=a.top+i;T.placeElement(I.objImage,s,l)}function l(){var e=!1,t=!1,n=0,i=0,r=T.getElementSize(I.objImage),o=E.getObjImagePadding(),a=T.getElementCenterPosition(I.objImage,o);I.panXActive=I.objImageSize.width>I.objParentSize.width,I.panYActive=I.objImageSize.height>I.objParentSize.height,1==I.panYActive?r.top>0?(i=0,t=!0):r.bottom<I.objParentSize.height&&(i=I.objParentSize.height-r.height,t=!0):r.top!=a.top&&(t=!0,i=a.top),1==I.panXActive?r.left>0?(n=0,e=!0):r.right<I.objParentSize.width&&(n=I.objParentSize.width-r.width,e=!0):r.left!=a.left&&(e=!0,n=a.left);var s={};1==t&&(s.top=i+"px"),1==e&&(s.left=n+"px"),(1==t||1==e)&&I.objImage.animate(s,{duration:S.slider_zoom_return_pan_duration,easing:S.slider_zoom_return_pan_easing,queue:!1})}function u(){return I.objImage&&I.objImage.is(":animated")?!0:!1}function d(e){I.isZoomActive=!0,I.startDistance=T.getDistance(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),0==I.startDistance&&(I.startDistance=1),I.startMiddlePoint=T.getMiddlePoint(e[0].pageX,e[0].pageY,e[1].pageX,e[1].pageY),I.objImageSize=T.getElementSize(I.objImage),I.startImageX=I.objImageSize.left,I.startImageY=I.objImageSize.top,I.imageOrientPoint=T.getElementLocalPoint(I.startMiddlePoint,I.objImage);var t=T.isPointInsideElement(I.imageOrientPoint,I.objImageSize);0==t&&(I.imageOrientPoint=T.getElementCenterPoint(I.objImage)),x.trigger(E.events.ZOOM_START)}function c(e){if(0==I.isZoomActive)return!1;var t=T.getArrTouches(e);2!=t.length&&(I.isZoomActive=!1,x.trigger(E.events.ZOOM_END))}function h(e){if(1==I.isZoomActive)return!0;var t=T.getArrTouches(e);return 2!=t.length?!0:void d(t)}function p(e){var t=T.getArrTouches(e),n=T.getDistance(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),i=n/I.startDistance,r=T.getMiddlePoint(t[0].pageX,t[0].pageY,t[1].pageX,t[1].pageY),o=I.objImageSize.width*i,a=I.objImageSize.height*i,s=T.getImageOriginalSize(I.objImage),l=1;if(s.width>0&&(l=o/s.width),l>S.slider_zoom_max_ratio)return!0;panX=-(I.imageOrientPoint.x*i-I.imageOrientPoint.x),panY=-(I.imageOrientPoint.y*i-I.imageOrientPoint.y);var u=r.x-I.startMiddlePoint.x,d=r.y-I.startMiddlePoint.y,c=I.startImageX+panX+u,h=I.startImageY+panY+d;T.setElementSizeAndPosition(I.objImage,c,h,o,a),x.trigger(E.events.ZOOMING),x.trigger(E.events.ZOOM_CHANGE)}function f(){if(void 0==I.objImage||0==I.objImage.length)return!0;var e=T.getElementSize(I.objImage);if(e.width<I.objFitImageSize.imageWidth){I.objImage.css({position:"absolute",margin:"none"});var t={top:I.objFitImageSize.imageTop+"px",left:I.objFitImageSize.imageLeft+"px",width:I.objFitImageSize.imageWidth+"px",height:I.objFitImageSize.imageHeight+"px"};I.objImage.animate(t,{duration:S.slider_zoom_return_pan_duration,easing:S.slider_zoom_return_pan_easing,queue:!1})}else l()}function g(e){if(0==E.isCurrentSlideType("image"))return!0;n();return void 0==I.objImage||0==I.objImage.length?!0:(e.preventDefault(),1==u()&&I.objImage.stop(!0),1==I.isZoomActive?c(e):h(e),void(1==I.isZoomActive?I.isPanActive=!1:1==r(I.objImage,e)&&1==I.isZoomedOnce&&a(e)))}function _(e){if(0==E.isCurrentSlideType("image"))return!0;var t=jQuery(e.target);if(1==t.data("ug-button"))return!1;n();if(void 0==I.objImage||0==I.objImage.length)return!0;var i=I.isPanActive,o=I.isZoomActive;if(0==E.isInnerInPlace())return I.isZoomActive=!1,I.isPanActive=!1,!0;if(1==I.isZoomActive?c(e):h(e),1==I.isZoomActive)I.isPanActive=!1;else{var s=r(I.objImage,e,!0);1==I.isPanActive?I.isPanActive=!1:1==s&&a(e)}(i||o)&&0==I.isZoomActive&&0==I.isPanActive&&f()}function m(e){return 0==E.isCurrentSlideType("image")?!0:void(1==I.isZoomActive?p(e):1==I.isPanActive&&s(e))}function v(e,t,n,r){if(0==S.slider_zoom_mousewheel)return!0;if(0==E.isCurrentSlideType("image"))return!0;e.preventDefault();var o=t>0,a=T.getMousePosition(e),s=1==o?"in":"out";i(s,a)}function b(){y.on("mousewheel",v),y.bind("mousedown touchstart",g),jQuery("body").bind("mousemove touchmove",m),jQuery(window).add("body").bind("mouseup touchend",_),x.bind(E.events.BEFORE_RETURN,function(){f()}),x.bind(E.events.ITEM_CHANGED,function(){I.isZoomedOnce=!1}),x.bind(E.events.ZOOM_CHANGE,function(){I.isZoomedOnce=!0})}var y,w,x,E=new UGSlider,T=new UGFunctions,S={slider_zoom_step:1.2,slider_zoom_max_ratio:6,slider_zoom_return_pan_duration:400,slider_zoom_return_pan_easing:"easeOutCubic"},I={isPanActive:!1,startMouseX:0,startMouseY:0,lastMouseX:0,lastMouseY:0,startImageX:0,startImageY:0,panXActive:!1,panYActive:!1,objImage:null,objImageSize:null,objParent:null,objParentSize:null,objSlide:null,storeImageLastTime:0,isZoomActive:!1,startDistance:0,startMiddlePoint:null,imageOrientPoint:null,objFitImageSize:null,isZoomedOnce:!1};this.________EXTERNAL_____________=function(){},this.isPanEnabled=function(e,t){if(n(),void 0==I.objImage||0==I.objImage.length)return!1;if(0==I.isZoomedOnce)return!1;if(0==r(I.objImage,e))return!1;if(0==E.isInnerInPlace())return!1;if("left"==t){if(I.objImageSize.right<=I.objParentSize.width)return!1}else if(I.objImageSize.left>=0)return!1;return!0},this.init=function(t,n){e(t,n)},this.zoomIn=function(){i("in")},this.zoomOut=function(){i("out")},this.zoomBack=function(){i("back")}}function UGWistiaAPI(){function e(){return"undefined"!=typeof Wistia}function t(e,t,i,o,a){r=null,s=!1;var l=e+"_video",u="<div id='"+l+"' class='wistia_embed' style='width:"+i+";height:"+o+";' data-video-width='"+i+"' data-video-height='"+o+"'>&nbsp;</div>";jQuery("#"+e).html(u),r=Wistia.embed(t,{version:"v1",videoWidth:i,videoHeight:o,container:l,autoPlay:a}),s=!0,n()}function n(){r.bind("play",function(){a.trigger(o.events.START_PLAYING)}),r.bind("pause",function(){a.trigger(o.events.STOP_PLAYING)}),r.bind("end",function(){a.trigger(o.events.STOP_PLAYING)})}this.isAPILoaded=!1;var i,r,o=this,a=jQuery(this),s=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.loadAPI=function(){return 1==g_ugWistiaAPI.isAPILoaded?!0:e()?(g_ugWistiaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("fast.wistia.com/assets/external/E-v1.js",!0),void(g_ugWistiaAPI.isAPILoaded=!0))},this.doCommand=function(e){if(null==r)return!1;if(0==s)return!1;switch(e){case"play":r.play();break;case"pause":r.pause()}},this.pause=function(){o.doCommand("pause")},this.play=function(){o.doCommand("play")},this.putVideo=function(n,r,o,a,s){return e()?(t(n,r,o,a,s),!0):(this.loadAPI(),void(i=setInterval(function(){e()&&(t(n,r,o,a,s),clearInterval(i))},500)))},this.isPlayerReady=function(){return s&&r?!0:!1}}function UGSoundCloudAPI(){function e(){return"undefined"!=typeof SC}function t(e,t,i,a,s){r=null,g_isPlayerReady=!1;var l=e+"_iframe",u=location.protocol+"//w.soundcloud.com/player/?url=http://api.soundcloud.com/tracks/"+t;u+="&amp;buying=false&amp;liking=false&amp;download=false&amp;sharing=false&amp;show_artwork=true&show_comments=false&amp;show_playcount=true&amp;show_user=false&amp;hide_related=true&amp;visual=true&amp;start_track=0&amp;callback=true",u+=s===!0?"&amp;auto_play=true":"&amp;auto_play=false";var d="<iframe id='"+l+"' src="+u+" width='"+i+"' height='"+a+"' frameborder='0' scrolling='no' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(d),r=SC.Widget(l),r.bind(SC.Widget.Events.READY,function(){r&&(g_isPlayerReady=!0,n())}),o=e}function n(){r.bind(SC.Widget.Events.PLAY,function(){s.trigger(a.events.START_PLAYING)}),r.bind(SC.Widget.Events.PAUSE,function(){s.trigger(a.events.STOP_PLAYING)}),r.bind(SC.Widget.Events.FINISH,function(){s.trigger(a.events.STOP_PLAYING)})}this.isAPILoaded=!1;var i,r,o,a=this,s=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.loadAPI=function(){return 1==g_ugSoundCloudAPI.isAPILoaded?!0:e()?(g_ugSoundCloudAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("w.soundcloud.com/player/api.js",!0),void(g_ugSoundCloudAPI.isAPILoaded=!0))},this.putSound=function(n,r,o,a,s){return e()?(t(n,r,o,a,s),!0):(this.loadAPI(),void(i=setInterval(function(){e()&&(t(n,r,o,a,s),clearInterval(i))},500)))},this.doCommand=function(e){
if(null==r)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":r.play();break;case"pause":r.pause()}},this.pause=function(){a.doCommand("pause")},this.play=function(){a.doCommand("play")},this.destroy=function(){g_isPlayerReady=!1,r=null,o&&(jQuery("#"+o).html(""),o=null)}}function UGHtml5MediaAPI(){function e(){return"undefined"!=typeof mejs}function t(e,t,i,o,a){r=null,g_isPlayerReady=!1;var s=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/flashmediaelement-cdn.swf",l=location.protocol+"//cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/silverlightmediaelement.xap",u=e+"_video",d="";a&&a===!0&&(d="autoplay='autoplay'");var c="";t.posterImage&&(c="poster='"+t.posterImage+"'");var h="<video id='"+u+"' width='"+i+"' height='"+o+"'  controls='controls' preload='none' "+d+" "+c+">";""!=t.mp4&&(h+="<source type='video/mp4' src='"+t.mp4+"' />"),""!=t.webm&&(h+="<source type='video/webm' src='"+t.webm+"' />"),""!=t.ogv&&(h+="<source type='video/ogg' src='"+t.ogv+"' />"),h+="<object width='"+i+"' height='"+o+"' type='application/x-shockwave-flash' data='"+s+"'>",h+="<param name='movie' value='"+s+"' />",h+="<param name='flashvars' value='controls=true&file="+t.mp4+"' />",h+="</object>",h+="</video>",jQuery("#"+e).html(h),new MediaElement(u,{enablePluginDebug:!1,flashName:s,silverlightName:l,success:function(e,t){g_isPlayerReady=!0,r=e,0==a&&r.pause(),n()},error:function(e){trace(e)}})}function n(){g_ugFunctions.addEvent(r,"play",function(){a.trigger(o.events.START_PLAYING)}),g_ugFunctions.addEvent(r,"pause",function(){a.trigger(o.events.STOP_PLAYING)}),g_ugFunctions.addEvent(r,"ended",function(){a.trigger(o.events.STOP_PLAYING)})}this.isAPILoaded=!1;var i,r,o=this,a=jQuery(this);this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.loadAPI=function(){return 1==g_ugHtml5MediaAPI.isAPILoaded?!0:e()?(g_ugHtml5MediaAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelement.min.js",!0),g_ugFunctions.loadCss("cdnjs.cloudflare.com/ajax/libs/mediaelement/2.18.1/mediaelementplayer.min.css",!0),void(g_ugHtml5MediaAPI.isAPILoaded=!0))},this.putVideo=function(n,r,o,a,s){return e()?(t(n,r,o,a,s),!0):(this.loadAPI(),void(i=setInterval(function(){e()&&(t(n,r,o,a,s),clearInterval(i))},500)))},this.doCommand=function(e){if(null==r)return!1;if(0==g_isPlayerReady)return!1;switch(e){case"play":r.play();break;case"pause":r.pause()}},this.pause=function(){o.doCommand("pause")},this.play=function(){o.doCommand("play")}}function UGVimeoAPI(){function e(){return"undefined"!=typeof Froogaloop}function t(e,t,i,o,a){s=null,l=!1;var u=location.protocol+"//player.vimeo.com/video/"+t+"?api=1";a===!0&&(u+="&amp;byline=0&amp;autoplay=1&amp;title=0&amp;portrait=0");var d="<iframe src="+u+" width='"+i+"' height='"+o+"' frameborder='0' webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>";jQuery("#"+e).html(d);var c=jQuery("#"+e+" iframe")[0];s=Froogaloop(c),s.addEvent("ready",function(){s&&(l=!0,n())}),r=e}function n(){return s?(s.addEvent("cuechange",function(){1==u&&o.play()}),s.addEvent("play",function(){a.trigger(o.events.START_PLAYING)}),s.addEvent("pause",function(){a.trigger(o.events.STOP_PLAYING)}),void s.addEvent("finish",function(){a.trigger(o.events.STOP_PLAYING)})):!1}this.isAPILoaded=!1;var i,r,o=this,a=jQuery(this),s=null,l=!1,u=!1;this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.loadAPI=function(){return 1==g_ugVimeoAPI.isAPILoaded?!0:e()?(g_ugVimeoAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("f.vimeocdn.com/js/froogaloop2.min.js",!0),void(g_ugVimeoAPI.isAPILoaded=!0))},this.doCommand=function(e){if(null==s)return!1;if(0==l)return!1;switch(e){default:s.api(e)}},this.pause=function(){o.doCommand("pause")},this.play=function(){o.doCommand("play")},this.destroy=function(){s&&(s.api("unload"),s=null,l=!1),r&&jQuery("#"+r).html("")},this.putVideo=function(n,r,o,a,s){return e()?(t(n,r,o,a,s),!0):(this.loadAPI(),void(i=setInterval(function(){e()&&(t(n,r,o,a,s),clearInterval(i))},500)))},this.isPlayerReady=function(){return l&&s?!0:!1},this.changeVideo=function(e,t){return 0==o.isPlayerReady()?!1:(u=t,void s.api("loadVideo",e))},this.getVideoImages=function(e,t,n){var i=location.protocol+"//vimeo.com/api/v2/video/"+e+".json";jQuery.get(i,{},function(e){var i={};i.preview=e[0].thumbnail_large,i.thumb=e[0].thumbnail_medium,n(t,i)})}}function UGYoutubeAPI(){function e(e,t,r,a,u){s&&l&&s.destroy();var d={controls:2,showinfo:c.video_youtube_showinfo,rel:0};u===!0&&(d.autoplay=1),l=!1,s=new YT.Player(e,{height:a,width:r,videoId:t,playerVars:d,events:{onReady:n,onStateChange:i}}),o=e}function t(){return"undefined"!=typeof YT&&"undefined"!=typeof YT.Player?!0:!1}function n(){l=!0}function i(){if("function"!=typeof s.getPlayerState)return trace("Youtube API error: can't get player state"),!1;var e=s.getPlayerState();switch(e){case YT.PlayerState.PLAYING:u.trigger(a.events.START_PLAYING);break;default:d==YT.PlayerState.PLAYING&&u.trigger(a.events.STOP_PLAYING)}d=e}this.isAPILoaded=!1;var r,o,a=this,s=null,l=!1,u=jQuery(this),d=-1,c={video_youtube_showinfo:!0};this.events={START_PLAYING:"start_playing",STOP_PLAYING:"stop_playing"},this.setOptions=function(e){c=jQuery.extend(c,e)},this.putVideo=function(n,i,o,a,s){return t()?(e(n,i,o,a,s),!0):(this.loadAPI(),void(r=setInterval(function(){t()&&(e(n,i,o,a,s),clearInterval(r))},500)))},this.loadAPI=function(){return 1==g_ugYoutubeAPI.isAPILoaded?!0:"undefined"!=typeof YT?(g_ugYoutubeAPI.isAPILoaded=!0,!0):(g_ugFunctions.loadJs("www.youtube.com/player_api",!0),void(g_ugYoutubeAPI.isAPILoaded=!0))},this.doCommand=function(e,t){if(!s)return!0;if(0==l)return!1;switch(e){case"play":if("function"!=typeof s.playVideo)return!1;s.playVideo();break;case"pause":if("function"!=typeof s.pauseVideo)return!1;s.pauseVideo();break;case"seek":if("function"!=typeof s.seekTo)return!1;s.seekTo(t);break;case"stopToBeginning":var n=s.getPlayerState();switch(s.pauseVideo(),n){case YT.PlayerState.PLAYING:case YT.PlayerState.ENDED:case YT.PlayerState.PAUSED:s.seekTo(0)}}},this.play=function(){a.doCommand("play")},this.pause=function(){a.doCommand("pause")},this.destroy=function(){s&&(l=!1,s.destroy())},this.stopToBeginning=function(){a.doCommand("stopToBeginning")},this.changeVideo=function(e,t){return 0==a.isPlayerReady()?!1:void(t&&1==t?s.loadVideoById(e,0,"large"):s.cueVideoById(e,0,"large"))},this.isPlayerReady=function(){return l&&s?!0:!1},this.getVideoImages=function(e){var t={};return t.preview="https://i.ytimg.com/vi/"+e+"/sddefault.jpg",t.thumb="https://i.ytimg.com/vi/"+e+"/default.jpg",t}}function UGVideoPlayer(){function e(){p.hide()}function t(){f.trigger(p.events.PLAY_START),d&&d.hide()}function n(){f.trigger(p.events.PLAY_STOP),d&&d.show()}function i(){d&&(g.setButtonMobileReady(d),g.setButtonOnClick(d,e)),jQuery(_).on(_.events.START_PLAYING,t),jQuery(_).on(_.events.STOP_PLAYING,n),jQuery(m).on(m.events.START_PLAYING,t),jQuery(m).on(m.events.STOP_PLAYING,n),jQuery(v).on(v.events.START_PLAYING,t),jQuery(v).on(v.events.STOP_PLAYING,n),jQuery(b).on(b.events.START_PLAYING,t),jQuery(b).on(b.events.STOP_PLAYING,n),jQuery(y).on(y.events.START_PLAYING,t),jQuery(y).on(y.events.STOP_PLAYING,n)}function r(e){var t=["youtube","vimeo","html5","soundcloud","wistia"];for(var n in t){var i=t[n];if(i!=e)switch(i){case"youtube":_.pause(),_.destroy(),s.hide();break;case"vimeo":m.pause(),m.destroy(),l.hide();break;case"html5":v.pause(),u.hide();break;case"soundcloud":b.pause(),b.destroy(),c.hide();break;case"wistia":y.pause(),h.hide()}}}var o,a,s,l,u,d,c,h,p=this,f=jQuery(this),g=new UGFunctions,_=new UGYoutubeAPI,m=new UGVimeoAPI,v=new UGHtml5MediaAPI,b=new UGSoundCloudAPI,y=new UGWistiaAPI,w=null,x={video_enable_closebutton:!0};this.events={SHOW:"video_show",HIDE:"video_hide",PLAY_START:"video_play_start",PLAY_STOP:"video_play_stop"};var E={standAloneMode:!1,youtubeInnerID:"",vimeoPlayerID:"",html5PlayerID:"",wistiaPlayerID:"",soundCloudPlayerID:""};this.init=function(e,t,n){if(o=n,!o)throw new Error("missing gallery ID for video player, it's a must!");x=jQuery.extend(x,e),_.setOptions(x),t&&1==t&&(E.standAloneMode=!0)},this.setHtml=function(e){E.youtubeInnerID=o+"_youtube_inner",E.vimeoPlayerID=o+"_videoplayer_vimeo",E.html5PlayerID=o+"_videoplayer_html5",E.wistiaPlayerID=o+"_videoplayer_wistia",E.soundCloudPlayerID=o+"_videoplayer_soundcloud";var t="<div class='ug-videoplayer' style='display:none'>";t+="<div class='ug-videoplayer-wrapper ug-videoplayer-youtube' style='display:none'><div id='"+E.youtubeInnerID+"'></div></div>",t+="<div id='"+E.vimeoPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-vimeo' style='display:none'></div>",t+="<div id='"+E.html5PlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-html5'></div>",t+="<div id='"+E.soundCloudPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-soundcloud'></div>",t+="<div id='"+E.wistiaPlayerID+"' class='ug-videoplayer-wrapper ug-videoplayer-wistia'></div>",0==E.standAloneMode&&1==x.video_enable_closebutton&&(t+="<div class='ug-videoplayer-button-close'></div>"),t+="</div>",e.append(t),a=e.children(".ug-videoplayer"),s=a.children(".ug-videoplayer-youtube"),l=a.children(".ug-videoplayer-vimeo"),u=a.children(".ug-videoplayer-html5"),c=a.children(".ug-videoplayer-soundcloud"),h=a.children(".ug-videoplayer-wistia"),0==E.standAloneMode&&1==x.video_enable_closebutton&&(d=a.children(".ug-videoplayer-button-close"))},this.destroy=function(){d&&(d.off("click"),d.off("touchend")),jQuery(_).off(_.events.START_PLAYING),jQuery(_).off(_.events.STOP_PLAYING),jQuery(m).off(m.events.START_PLAYING),jQuery(m).off(m.events.STOP_PLAYING),jQuery(v).off(v.events.START_PLAYING),jQuery(v).off(v.events.STOP_PLAYING),jQuery(b).off(b.events.START_PLAYING,t),jQuery(b).off(b.events.STOP_PLAYING,n),jQuery(y).off(y.events.START_PLAYING,t),jQuery(y).off(y.events.STOP_PLAYING,n),w=null},this.initEvents=function(){i()},this.setSize=function(e,t){g.setElementSize(a,e,t),d&&g.placeElement(d,"right","top")},this.setPosition=function(e,t){g.placeElement(a,e,t)},this.getObject=function(){return a},this.show=function(){return 1==p.isVisible()?!0:(a.show(),a.fadeTo(0,1),d&&d.show(),void f.trigger(p.events.SHOW))},this.hide=function(){return 0==p.isVisible()?!0:(r(),w=null,a.hide(),void f.trigger(p.events.HIDE))},this.getActiveAPI=function(){switch(w){case"youtube":return _;case"vimeo":return m;case"wistia":return y;case"soundcloud":return b;case"html5":return v;default:return null}},this.pause=function(){var e=p.getActiveAPI();return null==e?!1:void("function"==typeof e.pause&&e.pause())},this.isVisible=function(){return a.is(":visible")},this.playYoutube=function(e,t){if("undefined"==typeof t)var t=!0;r("youtube"),s.show();var n=s.children("#"+E.youtubeInnerID);0==n.length&&s.append("<div id='"+E.youtubeInnerID+"'></div>"),1==_.isPlayerReady()&&1==E.standAloneMode?_.changeVideo(e,t):_.putVideo(E.youtubeInnerID,e,"100%","100%",t),w="youtube"},this.playVimeo=function(e,t){if("undefined"==typeof t)var t=!0;r("vimeo"),l.show(),m.putVideo(E.vimeoPlayerID,e,"100%","100%",t),w="vimeo"},this.playHtml5Video=function(e,t,n,i,o){if("undefined"==typeof o)var o=!0;r("html5"),u.show();var a={ogv:e,webm:t,mp4:n,posterImage:i};v.putVideo(E.html5PlayerID,a,"100%","100%",o),w="html5"},this.playSoundCloud=function(e,t){if("undefined"==typeof t)var t=!0;r("soundcloud"),c.show(),b.putSound(E.soundCloudPlayerID,e,"100%","100%",t),w="soundcloud"},this.playWistia=function(e,t){if("undefined"==typeof t)var t=!0;r("wistia"),h.show(),y.putVideo(E.wistiaPlayerID,e,"100%","100%",t),w="wistia"}}function ugCheckForMinJQueryVersion(){var e=g_ugFunctions.checkMinJqueryVersion("1.8.0");if(0==e)throw new Error("The gallery can run from jquery 1.8 You have jQuery "+jQuery.fn.jquery+" Please update your jQuery library.")}function ugCheckForErrors(e,t){function n(){if("undefined"==typeof jQuery)throw new Error("jQuery library not included")}function i(){if("function"==typeof jQuery.fn.unitegallery)return!0;var e="You have some jquery.js library include that comes after the gallery files js include.";throw e+="<br> This include eliminates the gallery libraries, and make it not work.","cms"==t?(e+="<br><br> To fix it you can:<br>&nbsp;&nbsp;&nbsp; 1. In the Gallery Settings -> Troubleshooting set option:  <strong><b>Put JS Includes To Body</b></strong> option to true.",e+="<br>&nbsp;&nbsp;&nbsp; 2. Find the double jquery.js include and remove it."):e+="<br><br> Please find and remove this jquery.js include and the gallery will work. <br> * There should be only one jquery.js include before all other js includes in the page.",new Error(e)}try{"jquery"==t?(n(),ugCheckForMinJQueryVersion()):(ugCheckForMinJQueryVersion(),i())}catch(r){var o=r.message;if(o="Unite Gallery Error: "+o,o="<div style='font-size:16px;color:#BC0C06;max-width:900px;border:1px solid red;padding:10px;'>"+o+"</div>","jquery"==t){var a=document.getElementById(e);a.innerHTML=o,a.style.display="block"}else jQuery(e).show().html(o);return!1}return!0}function UniteGalleryMain(){function __________INIT_GALLERY_______(){}function getThemeFunction(e){var t=e;return-1==t.indexOf("UGTheme_")&&(t="UGTheme_"+t),t}function initTheme(objCustomOptions){if(objCustomOptions.hasOwnProperty("gallery_theme"))g_options.gallery_theme=objCustomOptions.gallery_theme;else{var defaultTheme=g_options.gallery_theme;0==g_ugFunctions.isThemeRegistered(defaultTheme)&&(g_options.gallery_theme=g_ugFunctions.getFirstRegisteredTheme())}var themeFunction=getThemeFunction(g_options.gallery_theme);try{g_options.gallery_theme=eval(themeFunction)}catch(e){}g_options.gallery_theme=eval(themeFunction),g_objTheme=new g_options.gallery_theme,g_objTheme.init(t,objCustomOptions)}function resetOptions(){g_options=jQuery.extend({},g_temp.originalOptions),g_selectedItemIndex=-1,g_selectedItem=null,g_objSlider=void 0,g_objThumbs=void 0,g_objSlider=void 0}function checkForStartupErrors(){try{ugCheckForMinJQueryVersion()}catch(e){throwErrorShowMessage(e.message)}"object"==typeof g_objWrapper.outerWidth()&&throwErrorShowMessage("You have some buggy script. most chances jquery-ui.js that destroy jquery outerWidth, outerHeight functions. The gallery can't run. Please update jquery-ui.js to latest version."),setTimeout(function(){ugCheckForErrors(g_galleryID,"cms")},5e3)}function runGallery(e,n,i,r){var o="object"==typeof n;if(o&&(g_temp.objCustomOptions=n),1==g_temp.isRunFirstTime){if(g_galleryID=e,g_objWrapper=jQuery(g_galleryID),0==g_objWrapper.length)return trace("div with id: "+g_galleryID+" not found"),!1;g_objParent=g_objWrapper.parent(),checkForStartupErrors(),g_temp.originalOptions=jQuery.extend({},g_options),o&&(g_options=jQuery.extend(g_options,n)),1==g_options.gallery_enable_cache&&g_options.gallery_initial_catid&&cacheItems(g_options.gallery_initial_catid);var a=g_objWrapper.children();fillItemsArray(a),loadAPIs(),g_objWrapper.find("img").fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}else if(t.destroy(),resetOptions(),g_options=jQuery.extend(g_options,g_temp.objCustomOptions),i){if(r&&1==g_options.gallery_enable_cache&&cacheItems(r,i),"noitems"==i)return showErrorMessage("No items in this category",""),!1;g_objWrapper.html(i);var a=g_objWrapper.children();fillItemsArray(a),loadAPIs(),g_objWrapper.children().fadeTo(0,0).hide(),g_objWrapper.show(),clearInitData()}1==g_temp.isRunFirstTime&&1==g_options.gallery_enable_tabs&&(g_objTabs=new UGTabs,g_objTabs.init(t,g_options)),o&&modifyInitParams(g_temp.objCustomOptions),validateParams(),1==g_options.gallery_shuffle&&t.shuffleItems(),initTheme(g_temp.objCustomOptions),setGalleryHtml(),setHtmlObjectsProperties();var s=g_objWrapper.width();0==s?g_functions.waitForWidth(g_objWrapper,runGalleryActually):runGalleryActually()}function runGalleryActually(){t.setSizeClass(),0==g_temp.isFreestyleMode&&1==g_options.gallery_preserve_ratio&&setHeightByOriginalRatio(),g_objTheme.run(),g_objTabs&&g_temp.isRunFirstTime&&g_objTabs.run(),preloadBigImages(),initEvents(),g_numItems>0&&t.selectItem(0),1==g_options.gallery_autoplay&&t.startPlayMode(),g_temp.isRunFirstTime=!1}function showErrorMessage(e,t){if("undefined"==typeof t)var t="<b>Unite Gallery Error: </b>";e=t+e;var n="<div class='ug-error-message-wrapper'><div class='ug-error-message'>"+e+"</div></div>";g_objWrapper.children().remove(),g_objWrapper.html(n),g_objWrapper.show()}function throwErrorShowMessage(e){throw showErrorMessage(e),new Error(e)}function modifyInitParams(){g_options.gallery_images_preload_type||(g_options.gallery_images_preload_type="minimal"),(void 0==g_options.gallery_min_height||g_options.gallery_height<g_options.gallery_min_height)&&(g_options.gallery_min_height=0),(void 0==g_options.gallery_min_width||g_options.gallery_width<g_options.gallery_min_width)&&(g_options.gallery_min_width=0)}function validateParams(){if(!g_options.gallery_theme)throw new Error("The gallery can't run without theme");if(jQuery.isNumeric(g_options.gallery_height)&&g_options.gallery_height<g_options.gallery_min_height)throw new Error("The <b>gallery_height</b> option must be bigger then <b>gallery_min_height option</b>");if(g_options.gallery_width<g_options.gallery_min_width)throw new Error("The <b>gallery_width</b> option must be bigger then <b>gallery_min_width option</b>")}function setGalleryHtml(){g_objWrapper.addClass("ug-gallery-wrapper"),g_objWrapper.append("<div class='ug-overlay-disabled' style='display:none'></div>"),t.setSizeClass()}function clearInitData(){g_objWrapper.children().remove()}function storeLastSize(){var e=t.getSize();g_temp.lastWidth=e.width,g_temp.lastHeight=e.height}function setHeightByOriginalRatio(){var e=t.getSize(),n=e.width/e.height;if(n!=e.orig_ratio){var i=e.width/e.orig_ratio;i=Math.round(i),i<g_options.gallery_min_height&&(i=g_options.gallery_min_height),g_objWrapper.height(i)}}function setHtmlObjectsProperties(){var e=g_functions.getCssSizeParam(g_options.gallery_width),t={"max-width":e,"min-width":g_functions.getCssSizeParam(g_options.gallery_min_width)};if(0==g_temp.isFreestyleMode){var n=g_functions.getCssSizeParam(g_options.gallery_height);t.height=n}else t.overflow="visible";g_options.gallery_background_color&&(t["background-color"]=g_options.gallery_background_color),g_objWrapper.css(t)}function fillItemsArray(e){g_arrItems=[];for(var t=0,n=0;n<e.length;n++){var i=jQuery(e[n]),r=i.prop("tagName").toLowerCase(),o="";if("a"==r){o=i.attr("href"),i=i.children();var r=i.prop("tagName").toLowerCase()}var a=i.data("type");void 0==a&&(a="image");var s={};if(s.type=a,"img"==r){var l=i.data("lazyload-src");l&&""!=l&&(i.attr("src",l),jQuery.removeData(i,"lazyload-src"));var u=i.attr("src"),d=i.data("thumb");"undefined"!=typeof d&&""!=d?(s.urlThumb=d,s.urlImage=u,i.attr("src",d)):(s.urlThumb=u,s.urlImage=i.data("image")),s.title=i.attr("alt"),s.objThumbImage=i}else{if("image"==a)throw new Error("The item should not be image type");s.urlThumb=i.data("thumb"),s.title=i.data("title"),s.objThumbImage=null,s.urlImage=i.data("image")}s.link=o,s.description=i.attr("title"),s.description||(s.description=i.data("description")),s.description||(s.description=""),s.isLoaded=!1,s.isThumbImageLoaded=!1,s.objPreloadImage=null,s.isBigImageLoadStarted=!1,s.isBigImageLoaded=!1,s.isBigImageLoadError=!1,s.imageWidth=0,s.imageHeight=0,s.thumbWidth=0,s.thumbHeight=0,s.thumbRatioByWidth=0,s.thumbRatioByHeight=0;var c=i.data("width"),h=i.data("height");c&&"number"==typeof c&&h&&"number"==typeof h&&(s.thumbWidth=c,s.thumbHeight=h,s.thumbRatioByWidth=c/h,s.thumbRatioByHeight=h/c),s.addHtml=null;var p=void 0==s.urlImage||""==s.urlImage,f=void 0==s.urlThumb||""==s.urlThumb;switch(s.type){case"youtube":if(s.videoid=i.data("videoid"),p||f){var g=g_ugYoutubeAPI.getVideoImages(s.videoid);p&&(s.urlImage=g.preview),f&&(s.urlThumb=g.thumb,"img"==r&&i.attr("src",s.urlThumb))}g_temp.isYoutubePresent=!0;break;case"vimeo":s.videoid=i.data("videoid"),g_temp.isVimeoPresent=!0;break;case"html5video":s.videoogv=i.data("videoogv"),s.videowebm=i.data("videowebm"),s.videomp4=i.data("videomp4"),g_temp.isHtml5VideoPresent=!0;break;case"soundcloud":s.trackid=i.data("trackid"),g_temp.isSoundCloudPresent=!0;break;case"wistia":s.videoid=i.data("videoid"),g_temp.isWistiaPresent=!0;break;case"custom":var _=i.children("img");_.length&&(_=jQuery(_[0]),s.urlThumb=_.attr("src"),s.title=_.attr("alt"),s.objThumbImage=_);var m=i.children().not("img:first-child");m.length&&(s.addHtml=m.clone())}s.objThumbImage&&(s.objThumbImage.removeAttr("data-description",""),s.objThumbImage.removeAttr("data-image",""),s.objThumbImage.removeAttr("data-thumb",""),s.objThumbImage.removeAttr("title","")),s.index=t,g_arrItems.push(s),t++}g_numItems=g_arrItems.length}function loadAPIs(){g_temp.isYoutubePresent&&g_ugYoutubeAPI.loadAPI(),g_temp.isVimeoPresent&&g_ugVimeoAPI.loadAPI(),g_temp.isHtml5VideoPresent&&g_ugHtml5MediaAPI.loadAPI(),g_temp.isSoundCloudPresent&&g_ugSoundCloudAPI.loadAPI(),g_temp.isWistiaPresent&&g_ugWistiaAPI.loadAPI()}function preloadBigImages(){if("visible"!=g_options.gallery_images_preload_type||g_objThumbs||(g_options.gallery_images_preload_type="minimal"),1==g_temp.isAllItemsPreloaded)return!0;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":jQuery(g_arrItems).each(function(){preloadItemImage(this)});break;case"visible":jQuery(g_arrItems).each(function(){var e=this,t=g_objThumbs.isItemThumbVisible(e);1==t&&preloadItemImage(e)})}}function checkPreloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!1;switch(g_options.gallery_images_preload_type){default:case"minimal":break;case"all":preloadItemImage(e);break;case"visible":var t=g_objThumbs.isItemThumbVisible(e);1==t&&preloadItemImage(e)}}function preloadItemImage(e){if(1==e.isBigImageLoadStarted||1==e.isBigImageLoaded||1==e.isBigImageLoadError)return!0;var n=e.urlImage;return""==n||void 0==n?(e.isBigImageLoadError=!0,!1):(e.isBigImageLoadStarted=!0,e.objPreloadImage=jQuery("<img/>").attr("src",n),e.objPreloadImage.data("itemIndex",e.index),e.objPreloadImage.on("load",t.onItemBigImageLoaded),e.objPreloadImage.on("error",function(){var e=jQuery(this),n=e.data("itemIndex"),i=g_arrItems[n];i.isBigImageLoadError=!0,i.isBigImageLoaded=!1;var r=jQuery(this).attr("src");console.log("Can't load image: "+r),g_objGallery.trigger(t.events.ITEM_IMAGE_UPDATED,[n,i.urlImage]),i.objThumbImage.attr("src",i.urlThumb)}),void checkAllItemsStartedPreloading())}function preloadNearBigImages(e){if(1==g_temp.isAllItemsPreloaded)return!1;if(!e)var e=g_selectedItem;if(!e)return!0;var t=e.index,n=t-1,i=t+1;n>0&&preloadItemImage(g_arrItems[n]),g_numItems>i&&preloadItemImage(g_arrItems[i])}function checkAllItemsStartedPreloading(){if(1==g_temp.isAllItemsPreloaded)return!1;for(var e in g_arrItems)if(0==g_arrItems[e].isBigImageLoadStarted)return!1;g_temp.isAllItemsPreloaded=!0}function __________END_INIT_GALLERY_______(){}function __________EVENTS_____________(){}function onSliderMouseEnter(e){1==g_options.gallery_pause_on_mouseover&&0==t.isFullScreen()&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()&&t.pausePlaying()}function onSliderMouseLeave(e){if(1==g_options.gallery_pause_on_mouseover&&1==g_temp.isPlayMode&&g_objSlider&&0==g_objSlider.isSlideActionActive()){var n=g_objSlider.isCurrentSlideLoadingImage();0==n&&t.continuePlaying()}}function onKeyPress(e){var n=jQuery(e.target);if(n.is("textarea")||n.is("select")||n.is("input"))return!0;var i=e.charCode?e.charCode:e.keyCode?e.keyCode:e.which?e.which:0;switch(i){case 39:t.nextItem(),e.preventDefault();break;case 37:t.prevItem(),e.preventDefault()}g_objGallery.trigger(t.events.GALLERY_KEYPRESS,i)}function onGalleryResized(){var e=t.getSize();if(0==e.width)return!0;t.setSizeClass();var e=t.getSize();(e.width!=g_temp.lastWidth||e.height!=g_temp.lastHeight)&&(1==g_options.gallery_preserve_ratio&&0==g_temp.isFreestyleMode&&setHeightByOriginalRatio(),storeLastSize(),g_objGallery.trigger(t.events.SIZE_CHANGE))}function onThumbsChange(e){"visible"==g_options.gallery_images_preload_type&&0==g_temp.isAllItemsPreloaded&&preloadBigImages()}function onFullScreenChange(){var e=g_functions.isFullScreen(),n=e?t.events.ENTER_FULLSCREEN:t.events.EXIT_FULLSCREEN,i=g_functions.getGlobalData("fullscreenID");return g_galleryID!==i?!0:(e?g_objWrapper.addClass("ug-fullscreen"):g_objWrapper.removeClass("ug-fullscreen"),g_objGallery.trigger(n),void onGalleryResized())}function onItemImageUpdated(e,n){var i=t.getItem(n);checkPreloadItemImage(i)}function onCurrentSlideImageLoadEnd(){1==t.isPlayMode()&&t.continuePlaying()}function initEvents(){if(g_objWrapper.on("dragstart",function(e){e.preventDefault()}),g_objGallery.on(t.events.ITEM_IMAGE_UPDATED,onItemImageUpdated),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).on(g_objThumbs.events.STRIP_MOVE,onThumbsChange);break;case"grid":jQuery(g_objThumbs).on(g_objThumbs.events.PANE_CHANGE,onThumbsChange)}if("advance"==g_options.gallery_mousewheel_role&&0==g_temp.isFreestyleMode&&g_objWrapper.on("mousewheel",t.onGalleryMouseWheel),storeLastSize(),jQuery(window).resize(function(){g_objWrapper.css("width","auto"),g_functions.whenContiniousEventOver("gallery_resize",onGalleryResized,g_temp.resizeDelay)}),g_functions.addFullScreenChangeEvent(onFullScreenChange),g_objSlider){if(jQuery(g_objSlider).on(g_objSlider.events.ITEM_CHANGED,function(){var e=g_objSlider.getCurrentItemIndex();-1!=e&&t.selectItem(e)}),1==g_options.gallery_pause_on_mouseover){var e=g_objSlider.getElement();e.hover(onSliderMouseEnter,onSliderMouseLeave),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){onSliderMouseLeave()})}retriggerEvent(g_objSlider,g_objSlider.events.ACTION_START,t.events.SLIDER_ACTION_START),retriggerEvent(g_objSlider,g_objSlider.events.ACTION_END,t.events.SLIDER_ACTION_END),jQuery(g_objSlider).on(g_objSlider.events.CURRENTSLIDE_LOAD_END,onCurrentSlideImageLoadEnd)}1==g_options.gallery_control_keyboard&&jQuery(document).keydown(onKeyPress)}function __________GENERAL_______(){}function cacheItems(e,t){if(t){var n=t;"noitems"!=n&&(n=jQuery(t).clone())}else var n=g_objWrapper.children().clone();g_objCache[e]=n}function removeAllSizeClasses(e){e||(e=g_objWrapper),e.removeClass("ug-under-480"),e.removeClass("ug-under-780"),e.removeClass("ug-under-960")}function retriggerEvent(e,t,n){jQuery(e).on(t,function(e){g_objGallery.trigger(n,[this])})}function advanceNextStep(){var e=jQuery.now(),n=e-g_temp.playTimeLastStep;if(g_temp.playTimePassed+=n,g_temp.playTimeLastStep=e,g_temp.objProgress){var i=g_temp.playTimePassed/g_options.gallery_play_interval;g_temp.objProgress.setProgress(i)}g_temp.playTimePassed>=g_options.gallery_play_interval&&(t.nextItem(),g_temp.playTimePassed=0)}function unselectSeletedItem(){return null==g_selectedItem?!0:(g_objThumbs&&g_objThumbs.setThumbUnselected(g_selectedItem.objThumbWrapper),g_selectedItem=null,void(g_selectedItemIndex=-1))}function toFakeFullScreen(){jQuery("body").addClass("ug-body-fullscreen"),g_objWrapper.addClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!0,g_objGallery.trigger(t.events.ENTER_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}function exitFakeFullscreen(){jQuery("body").removeClass("ug-body-fullscreen"),g_objWrapper.removeClass("ug-fake-fullscreen"),g_temp.isFakeFullscreen=!1,g_objGallery.trigger(t.events.EXIT_FULLSCREEN),g_objGallery.trigger(t.events.SIZE_CHANGE)}var t=this,g_galleryID,g_objGallery=jQuery(t),g_objWrapper,g_objParent,g_objThumbs,g_objSlider,g_functions=new UGFunctions,g_objTabs,g_arrItems=[],g_numItems,g_selectedItem=null,g_selectedItemIndex=-1,g_objTheme,g_objCache={};this.events={ITEM_CHANGE:"item_change",SIZE_CHANGE:"size_change",ENTER_FULLSCREEN:"enter_fullscreen",EXIT_FULLSCREEN:"exit_fullscreen",START_PLAY:"start_play",STOP_PLAY:"stop_play",PAUSE_PLAYING:"pause_playing",CONTINUE_PLAYING:"continue_playing",SLIDER_ACTION_START:"slider_action_start",SLIDER_ACTION_END:"slider_action_end",ITEM_IMAGE_UPDATED:"item_image_updated",GALLERY_KEYPRESS:"gallery_keypress",GALLERY_BEFORE_REQUEST_ITEMS:"gallery_before_request_items"};var g_options={gallery_width:900,gallery_height:500,gallery_min_width:150,gallery_min_height:100,gallery_theme:"default",gallery_skin:"default",gallery_images_preload_type:"minimal",gallery_autoplay:!1,gallery_play_interval:3e3,gallery_pause_on_mouseover:!0,gallery_mousewheel_role:"zoom",gallery_control_keyboard:!0,gallery_carousel:!0,gallery_preserve_ratio:!0,gallery_background_color:"",gallery_debug_errors:!1,gallery_shuffle:!1,gallery_urlajax:null,gallery_enable_tabs:!1,gallery_enable_cache:!0,gallery_initial_catid:""},g_temp={objCustomOptions:{},isAllItemsPreloaded:!1,isFreestyleMode:!1,lastWidth:0,lastHeigh:0,handleResize:null,isInited:!1,isPlayMode:!1,isPlayModePaused:!1,playTimePassed:0,playTimeLastStep:0,playHandle:"",playStepInterval:33,objProgress:null,isFakeFullscreen:!1,thumbsType:null,isYoutubePresent:!1,isVimeoPresent:!1,isHtml5VideoPresent:!1,isSoundCloudPresent:!1,isWistiaPresent:!1,resizeDelay:100,isRunFirstTime:!0,originalOptions:{}};this.onItemBigImageLoaded=function(e,t){if(!t)var t=jQuery(this);var n=t.data("itemIndex"),i=g_arrItems[n];i.isBigImageLoaded=!0;var r=g_functions.getImageOriginalSize(t);i.imageWidth=r.width,i.imageHeight=r.height},this.checkFillImageSize=function(e,t){if(!t){var n=e.data("itemIndex");if(void 0===n)throw new Error("Wrong image given to gallery.checkFillImageSize");var t=g_arrItems[n]}var i=g_functions.getImageOriginalSize(e);t.imageWidth=i.width,t.imageHeight=i.height},this.setFreestyleMode=function(){g_temp.isFreestyleMode=!0},this.attachThumbsPanel=function(e,t){g_temp.thumbsType=e,g_objThumbs=t},this.initSlider=function(e,n){if(!e)var e={};e=jQuery.extend(e,g_temp.objCustomOptions),g_objSlider=new UGSlider,g_objSlider.init(t,e,n)},this.onGalleryMouseWheel=function(e,n,i,r){e.preventDefault(),n>0?t.prevItem():t.nextItem()},this.destroy=function(){if(g_objWrapper.off("dragstart"),g_objGallery.off(t.events.ITEM_IMAGE_UPDATED),g_objThumbs)switch(g_temp.thumbsType){case"strip":jQuery(g_objThumbs).off(g_objThumbs.events.STRIP_MOVE);break;case"grid":jQuery(g_objThumbs).off(g_objThumbs.events.PANE_CHANGE)}if(g_objWrapper.off("mousewheel"),jQuery(window).off("resize"),g_functions.destroyFullScreenChangeEvent(),g_objSlider){jQuery(g_objSlider).off(g_objSlider.events.ITEM_CHANGED);var e=g_objSlider.getElement();e.off("mouseenter"),e.off("mouseleave"),g_objGallery.off(t.events.ENTER_FULLSCREEN),jQuery(g_objSlider).off(g_objSlider.events.ACTION_START),jQuery(g_objSlider).off(g_objSlider.events.ACTION_END),jQuery(g_objSlider).off(g_objSlider.events.CURRENTSLIDE_LOAD_END)}1==g_options.gallery_control_keyboard&&jQuery(document).off("keydown"),g_objTheme&&"function"==typeof g_objTheme.destroy&&g_objTheme.destroy(),g_objWrapper.html("")},this.getArrItems=function(){return g_arrItems},this.getObjects=function(){var e={g_galleryID:g_galleryID,g_objWrapper:g_objWrapper,g_objThumbs:g_objThumbs,g_objSlider:g_objSlider,g_options:g_options,g_arrItems:g_arrItems,g_numItems:g_numItems};return e},this.getObjSlider=function(){return g_objSlider},this.getItem=function(e){if(0>e)throw new Error("item with index: "+e+" not found");if(e>=g_numItems)throw new Error("item with index: "+e+" not found");return g_arrItems[e]},this.getWidth=function(){var e=t.getSize();return e.width},this.getHeight=function(){var e=t.getSize();return e.height},this.getSize=function(){var e=g_functions.getElementSize(g_objWrapper);return e.orig_width=g_options.gallery_width,e.orig_height=g_options.gallery_height,e.orig_ratio=e.orig_width/e.orig_height,e},this.getGalleryID=function(){var e=g_galleryID.replace("#","");return e},this.getNextItem=function(e,t){"object"==typeof e&&(e=e.index);var n=e+1;if(t!==!0&&1==g_numItems)return null;if(n>=g_numItems){if(1!=g_options.gallery_carousel&&t!==!0)return null;n=0}var i=g_arrItems[n];return i},this.getPrevItem=function(e){"object"==typeof e&&(e=e.index);var t=e-1;if(0>t){if(1!=g_options.gallery_carousel&&forceCarousel!==!0)return null;t=g_numItems-1}var n=g_arrItems[t];return n},this.getSelectedItem=function(){return g_selectedItem},this.getSelectedItemIndex=function(){return g_selectedItemIndex},this.getNumItems=function(){return g_numItems},this.isLastItem=function(){return g_selectedItemIndex==g_numItems-1?!0:!1},this.isFirstItem=function(){return 0==g_selectedItemIndex?!0:!1},this.getOptions=function(){return g_options},this.getElement=function(){return g_objWrapper},this.___________SET_CONTROLS___________=function(){},this.setNextButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.nextItem)},this.setPrevButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.prevItem);
},this.setFullScreenToggleButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.toggleFullscreen),g_objGallery.on(t.events.ENTER_FULLSCREEN,function(){e.addClass("ug-fullscreenmode")}),g_objGallery.on(t.events.EXIT_FULLSCREEN,function(){e.removeClass("ug-fullscreenmode")})},this.destroyFullscreenButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.ENTER_FULLSCREEN),g_objGallery.off(t.events.EXIT_FULLSCREEN)},this.setPlayButton=function(e){e.data("ug-button",!0),g_functions.setButtonOnClick(e,t.togglePlayMode),g_objGallery.on(t.events.START_PLAY,function(){e.addClass("ug-stop-mode")}),g_objGallery.on(t.events.STOP_PLAY,function(){e.removeClass("ug-stop-mode")})},this.destroyPlayButton=function(e){g_functions.destroyButton(e),g_objGallery.off(t.events.START_PLAY),g_objGallery.off(t.events.STOP_PLAY)},this.setProgressIndicator=function(e){g_temp.objProgress=e},this.setTextContainers=function(e,n){g_objGallery.on(t.events.ITEM_CHANGE,function(){var i=t.getSelectedItem();e.html(i.title),n.html(i.description)})},this.showDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").show()},this.hideDisabledOverlay=function(){g_objWrapper.children(".ug-overlay-disabled").hide()},this.___________END_SET_CONTROLS___________=function(){},this.___________PLAY_MODE___________=function(){},this.startPlayMode=function(){if(g_temp.isPlayMode=!0,g_temp.isPlayModePaused=!1,g_temp.playTimePassed=0,g_temp.playTimeLastStep=jQuery.now(),g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval),g_temp.objProgress){var e=g_temp.objProgress.getElement();g_temp.objProgress.setProgress(0),e.show()}g_objGallery.trigger(t.events.START_PLAY),g_objSlider&&1==g_objSlider.isCurrentSlideLoadingImage()&&t.pausePlaying()},this.resetPlaying=function(){return 0==g_temp.isPlayMode?!0:(g_temp.playTimePassed=0,void(g_temp.playTimeLastStep=jQuery.now()))},this.pausePlaying=function(){return 1==g_temp.isPlayModePaused?!0:(g_temp.isPlayModePaused=!0,clearInterval(g_temp.playHandle),void g_objGallery.trigger(t.events.PAUSE_PLAYING))},this.continuePlaying=function(){return 0==g_temp.isPlayModePaused?!0:(g_temp.isPlayModePaused=!1,g_temp.playTimeLastStep=jQuery.now(),void(g_temp.playHandle=setInterval(advanceNextStep,g_temp.playStepInterval)))},this.stopPlayMode=function(){if(g_temp.isPlayMode=!1,clearInterval(g_temp.playHandle),g_temp.playTimePassed=0,g_temp.objProgress){var e=g_temp.objProgress.getElement();e.hide()}g_objGallery.trigger(t.events.STOP_PLAY)},this.isPlayMode=function(){return g_temp.isPlayMode},this.togglePlayMode=function(){0==t.isPlayMode()?t.startPlayMode():t.stopPlayMode()},this.___________GENERAL_EXTERNAL___________=function(){},this.shuffleItems=function(){g_arrItems=g_functions.arrayShuffle(g_arrItems);for(var e in g_arrItems)g_arrItems[e].index=parseInt(e)},this.setOptions=function(e){g_options=jQuery.extend(g_options,e)},this.selectItem=function(e,n){"number"==typeof e&&(e=t.getItem(e));var i=e.index;if(i==g_selectedItemIndex)return!0;if(unselectSeletedItem(),g_selectedItem=e,g_selectedItemIndex=i,g_objGallery.trigger(t.events.ITEM_CHANGE,[e,n]),1==g_temp.isPlayMode){t.resetPlaying();var r=g_objSlider.isCurrentSlideLoadingImage();1==r&&t.pausePlaying()}},this.nextItem=function(){var e=g_selectedItemIndex+1;return 0==g_numItems?!0:0==g_options.gallery_carousel&&e>=g_numItems?!0:(e>=g_numItems&&(e=0),void t.selectItem(e,"next"))},this.prevItem=function(){var e=g_selectedItemIndex-1;return-1==g_selectedItemIndex&&(e=0),0==g_numItems?!0:0==g_options.gallery_carousel&&0>e?!0:(0>e&&(e=g_numItems-1),void t.selectItem(e,"prev"))},this.isFullScreen=function(){return 1==g_temp.isFakeFullscreen?!0:1==g_functions.isFullScreen()?!0:!1},this.isFakeFullscreen=function(){return g_temp.isFakeFullscreen},this.toFullScreen=function(){g_functions.setGlobalData("fullscreenID",g_galleryID);var e=g_objWrapper.get(0),t=g_functions.toFullscreen(e);0==t&&toFakeFullScreen()},this.exitFullScreen=function(){1==g_temp.isFakeFullscreen?exitFakeFullscreen():g_functions.exitFullscreen()},this.toggleFullscreen=function(){0==t.isFullScreen()?t.toFullScreen():t.exitFullScreen()},this.resize=function(e,t,n){g_objWrapper.css("width","auto"),g_objWrapper.css("max-width",e+"px"),t&&g_objWrapper.height(t),n||n===!0||onGalleryResized()},this.setSizeClass=function(e,n){if(!e)var e=g_objWrapper;if(!n)var i=t.getSize(),n=i.width;var r="";return 480>=n?r="ug-under-480":780>=n?r="ug-under-780":960>n&&(r="ug-under-960"),1==e.hasClass(r)?!0:(removeAllSizeClasses(e),void(""!=r&&e.addClass(r)))},this.isMobileMode=function(){return g_objWrapper.hasClass("ug-under-480")?!0:!1},this.changeItems=function(e,t){if(!e)var e="noitems";runGallery(g_galleryID,"nochange",e,t)},this.showErrorMessageReplaceGallery=function(e){showErrorMessage(e)},this.__________AJAX_REQUEST_______=function(){},this.ajaxRequest=function(e,t,n,i){var r="html";if(1==n&&(r="json"),!i||"function"!=typeof i)throw new Error("ajaxRequest error: success function should be passed");var o=g_options.gallery_urlajax;if(""==o)throw new Error("ajaxRequest error: Ajax url don't passed");if("undefined"==typeof t)var t={};var a={action:"unitegallery_ajax_action",client_action:e,galleryID:g_galleryID,data:t};jQuery.ajax({type:"post",url:g_options.gallery_urlajax,dataType:"json",data:a,success:function(e){return e?-1==e||0===e?(showErrorMessage("ajax error!!!"),!1):"undefined"==typeof e.success?(showErrorMessage("The 'success' param is a must!"),!1):0==e.success?(showErrorMessage(e.message),!1):void i(e):(showErrorMessage("Empty ajax response!","Ajax Error"),!1)},error:function(e,t,n){console.log("Ajax Error!!! "+t)}})},this.requestNewItems=function(e,n,i){var r=g_options.gallery_enable_cache;if(i||(i=e),1==n&&(r=!1),1==r&&g_objCache.hasOwnProperty(i)){var o=g_objCache[i];t.changeItems(o,i)}else g_objGallery.trigger(t.events.GALLERY_BEFORE_REQUEST_ITEMS),t.ajaxRequest("front_get_cat_items",{catid:e},!0,function(e){var n=e.html;t.changeItems(n,i)})},this.run=function(e,t){g_options.gallery_debug_errors;if(t&&t.hasOwnProperty("gallery_debug_errors")&&(g_options.gallery_debug_errors=t.gallery_debug_errors),1==g_options.gallery_debug_errors)try{runGallery(e,t)}catch(n){if("object"==typeof n){var i=n.message,r=n.lineNumber,o=n.fileName;n.stack;i+=" <br><br> in file: "+o,i+=" <b> line "+r+"</b>",trace(n)}else var i=n;i=i.replace("Error:",""),showErrorMessage(i)}else runGallery(e,t)}}function UGLightbox(){function e(e,n){ne=e,Y=jQuery(e),ae=jQuery.extend(ae,le),ae=jQuery.extend(ae,n),se.originalOptions=jQuery.extend({},ae),"compact"==ae.lightbox_type&&(se.isCompact=!0,ae=jQuery.extend(ae,ue),ae=jQuery.extend(ae,n)),t(),1==se.putSlider?(ne.initSlider(ae,"lightbox"),g_objects=e.getObjects(),ie=g_objects.g_objSlider):ie=null,1==ae.lightbox_show_textpanel?oe.init(ne,ae,"lightbox"):oe=null}function t(){1==se.isCompact&&1==ae.lightbox_show_textpanel&&(ae.lightbox_slider_image_padding_bottom=se.initTextPanelHeight),1==se.isCompact&&"inside"==ae.lightbox_arrows_position&&(se.isArrowsInside=!0),1==se.isArrowsInside&&0==ae.lightbox_arrows_inside_alwayson&&(se.isArrowsOnHoverMode=!0),0==ae.lightbox_show_textpanel&&(se.isTopPanelEnabled=!1,se.topPanelHeight=0,ae.lightbox_slider_image_padding_top=0)}function n(){var e="",t="";1==se.isCompact&&(t=" ug-lightbox-compact"),e+="<div class='ug-gallery-wrapper ug-lightbox"+t+"'>",e+="<div class='ug-lightbox-overlay'></div>",0==se.isCompact&&se.isTopPanelEnabled?(e+="<div class='ug-lightbox-top-panel'>",e+="<div class='ug-lightbox-top-panel-overlay'></div>",ae.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="</div>"):ae.lightbox_show_numbers&&(e+="<div class='ug-lightbox-numbers'></div>"),e+="<div class='ug-lightbox-button-close'></div>",e+="<div class='ug-lightbox-arrow-left'></div>",e+="<div class='ug-lightbox-arrow-right'></div>",e+="</div>",q=jQuery(e),jQuery("body").append(q),ie&&ie.setHtml(q),X=q.children(".ug-lightbox-overlay"),0==se.isCompact&&1==se.isTopPanelEnabled&&(J=q.children(".ug-lightbox-top-panel"),0==J.length&&(J=null)),Z=q.find(".ug-lightbox-button-close"),ae.lightbox_show_numbers&&(K=q.find(".ug-lightbox-numbers")),V=q.children(".ug-lightbox-arrow-left"),$=q.children(".ug-lightbox-arrow-right"),oe&&(J?oe.appendHTML(J):oe.appendHTML(q))}function i(){if(null!==ae.lightbox_overlay_color&&X.css("background-color",ae.lightbox_overlay_color),null!==ae.lightbox_overlay_opacity&&X.fadeTo(0,ae.lightbox_overlay_opacity),J&&null!==ae.lightbox_top_panel_opacity&&J.children(".ug-lightbox-top-panel-overlay").fadeTo(0,ae.lightbox_top_panel_opacity),K){var e={};null!==ae.lightbox_numbers_size&&(e["font-size"]=ae.lightbox_numbers_size+"px"),ae.lightbox_numbers_color&&(e.color=ae.lightbox_numbers_color),null!==ae.lightbox_numbers_padding_right&&(e["padding-right"]=ae.lightbox_numbers_padding_right+"px"),null!==ae.lightbox_numbers_padding_top&&(e["padding-top"]=ae.lightbox_numbers_padding_top+"px"),K.css(e)}}function r(e){if(!ie)return!0;var t={slider_image_padding_top:e,slider_video_padding_top:e};ie.setOptions(t),ie.refreshSlideItems()}function o(){if(!J)return!1;if(!oe)return!1;var e=J.height();if(0==e)return!1;var t=e,n=oe.getSize().height;e!=se.topPanelHeight&&(t=se.topPanelHeight),n>t&&(t=n),e!=t&&(J.height(t),ie&&0==ie.isAnimating()&&r(t))}function a(e){var t={},n=ae.lightbox_textpanel_width,i=47,r=40,a=e.width-i-r;n>a?(t.textpanel_padding_left=i,t.textpanel_padding_right=r,t.textpanel_title_text_align="center",t.textpanel_desc_text_align="center"):(t.textpanel_padding_left=Math.floor((e.width-n)/2),t.textpanel_padding_right=t.textpanel_padding_left,t.textpanel_title_text_align="left",t.textpanel_desc_text_align="left",ae.lightbox_textpanel_title_text_align&&(t.textpanel_title_text_align=ae.lightbox_textpanel_desc_text_align),ae.lightbox_textpanel_desc_text_align&&(t.textpanel_desc_text_align=ae.lightbox_textpanel_desc_text_align)),oe.setOptions(t),oe.refresh(!0,!0),o(),oe.positionPanel()}function s(){return J?void J.hide():!1}function l(){return J?void J.show():!1}function u(e){if(0==se.isOpened)return!1;if(!oe)return!1;if(!ie)return!1;var t=re.getElementSize(q),n=oe.getSize();if(0==n.width||n.height>120)return!1;if(!e)var i=ie.getSlideImage(),e=re.getElementSize(i);if(0==e.height||0==e.width)return!1;var r=e.bottom+n.height;if(r<t.height)return!1;var o=ie.getOptions(),a=n.height;if(a!=o.slider_image_padding_bottom){var s={slider_image_padding_bottom:a};if(0==ie.isAnimating())return ie.setOptions(s),ie.refreshSlideItems(),!0}return!1}function d(e,t){if(!e)var n=ie.getSlideImage(),e=re.getElementSize(n);se.textPanelTop=e.bottom,t===!0&&oe.positionPanel(se.textPanelTop,se.textPanelLeft)}function c(e){var t=(re.getElementSize(q),ie.getSlideImage()),n=re.getElementSize(t);if(0==n.width)return!1;se.textPanelLeft=n.left,se.textPanelTop=n.bottom;var i=n.width;if(K){var r=re.getElementSize(K);i-=r.width;var o=n.right-r.width;re.placeElement(K,o,se.textPanelTop)}oe&&(oe.show(),oe.refresh(!0,!0,i),d(n));var a=u(n);0==a&&(se.positionFrom="handleCompactTextpanelSizes",oe&&(oe.positionPanel(se.textPanelTop,se.textPanelLeft),e===!0&&(e(),P())))}function h(){if(0==ie.isCurrentSlideType("image"))return!0;var e=1==ie.isCurrentImageInPlace();return e}function p(e,t){if(0==se.isArrowsInside)return!1;if(!V)return!1;var n=h();if(V.show(),$.show(),se.positionFrom="positionArrowsInside",1==se.isArrowsOnHoverMode&&1==n&&0==y()&&w(!0),0==n)var i=re.getElementRelativePos(V,"left",ae.lightbox_arrows_offset),r=re.getElementRelativePos(V,"middle"),o=re.getElementRelativePos($,"right",ae.lightbox_arrows_offset),a=r;else var s=ie.getSlideImage(),l=re.getElementSize(s),i=(re.getElementSize(ie.getElement()),re.getElementRelativePos(V,"left",0,s)+l.left+ae.lightbox_arrows_inside_offset),r=re.getElementRelativePos(V,"middle",0,s)+l.top,o=re.getElementRelativePos(V,"right",0,s)+l.left-ae.lightbox_arrows_inside_offset,a=r;if(t===!0){var u={left:i,top:r},d={left:o,top:a};V.stop().animate(u,{duration:se.fadeDuration}),$.stop().animate(d,{duration:se.fadeDuration})}else V.stop(),$.stop(),re.placeElement(V,i,r),re.placeElement($,o,a);1==e&&E(t)}function f(e,t){se.positionFrom=null;var n=h(),i=2,r=re.getElementRelativePos(Z,"right",2,q);if(0==n)var o=i,a=r;else{var s=ie.getSlideImage(),l=re.getElementSize(s),u=re.getElementSize(ie.getElement()),d=re.getElementSize(Z);u.top==u.height&&(u.top=0);var a=u.left+l.right-d.width/2+ae.lightbox_compact_closebutton_offsetx,o=u.top+l.top-d.height/2-ae.lightbox_compact_closebutton_offsety;i>o&&(o=i),a>r&&(a=r)}if(t===!0){var c={left:a,top:o};Z.stop().animate(c,{duration:se.fadeDuration})}else Z.stop(),re.placeElement(Z,a,o);e===!0&&T(t)}function g(){Z&&Z.stop().fadeTo(se.fadeDuration,0),v(),b(),se.positionFrom="hideCompactElements",1==se.isArrowsInside&&w()}function _(){Z&&Z.hide(),V&&1==se.isArrowsInside&&(V.hide(),$.hide()),K&&K.hide(),oe&&oe.hide()}function m(){var e=re.getElementSize(q);J&&re.setElementSizeAndPosition(J,0,0,e.width,se.topPanelHeight),V&&0==se.isArrowsInside&&(1==ae.lightbox_hide_arrows_onvideoplay&&(V.show(),$.show()),re.placeElement(V,"left","middle",ae.lightbox_arrows_offset),re.placeElement($,"right","middle",ae.lightbox_arrows_offset)),0==se.isCompact&&re.placeElement(Z,"right","top",2,2),oe&&(se.positionFrom="positionElements",0==se.isCompact?a(e):(C(),P()));var t=e.width,n=e.height,i=0,r=0;if(ie){if(J){var o=J.height(),s={slider_image_padding_top:o};ie.setOptions(s)}ie.setSize(t,n),ie.setPosition(r,i)}}function v(){oe&&oe.getElement().stop().fadeTo(se.fadeDuration,0)}function b(){K&&K.stop().fadeTo(se.fadeDuration,0)}function y(){if(!se.lastMouseX)return!0;var e={pageX:se.lastMouseX,pageY:se.lastMouseY},t=ie.isMouseInsideSlideImage(e);return t}function w(e,t){return V?1==se.isArrowsOnHoverMode&&t===!1?(1==y(),!0):void(e===!0?(V.stop().fadeTo(0,0),$.stop().fadeTo(0,0)):(V.stop().fadeTo(se.fadeDuration,0),$.stop().fadeTo(se.fadeDuration,0))):!1}function x(){if(!V)return!0;if(0==V.is(":visible"))return!0;var e=V.css("opacity");return 1!=e?!0:!1}function E(e,t){return V?1==se.isArrowsOnHoverMode&&t!==!0&&1==h()?!0:1==ie.isSwiping()?!0:(e!==!0&&(V.stop(),$.stop()),V.fadeTo(se.fadeDuration,1),void $.fadeTo(se.fadeDuration,1)):!1}function T(e){e!==!0&&Z.stop(),Z.fadeTo(se.fadeDuration,1)}function S(e){if(!oe)return!1;if(!e)var e=ie.getCurrentItem();oe.setTextPlain(e.title,e.description)}function I(e){if(!K)return!1;if(!e)var e=ie.getCurrentItem();var t=ne.getNumItems(),n=e.index+1;K.html(n+" / "+t)}function C(){return oe?void oe.getElement().show().stop().fadeTo(se.fadeDuration,1):!1}function P(){K&&K.stop().fadeTo(se.fadeDuration,1)}function j(){return 0==se.isCompact?!0:void g()}function A(){if(0==se.isCompact)return!0;if(se.positionFrom="onZoomChange",f(!1,!0),p(!1,!0),1==se.isCompact){var e=ie.isCurrentSlideType("image")&&1==ie.isCurrentImageInPlace();0==e?(v(),b()):(se.positionFrom="onZoomChange",C(),P())}}function k(){if(0==se.isCompact)return!0;se.positionFrom="onSliderAfterReturn",f(!0),p(!0);var e=u();0==e&&c(),C(),P()}function M(e,t){return t=jQuery(t),0==se.isCompact?!0:0==ie.isSlideCurrent(t)?!0:(se.positionFrom="onSliderAfterPutImage",f(!0),p(!0),void c())}function N(){var e=ie.getOptions(),t=e.slider_image_padding_top;if(J){var n=J.height();n!=t&&r(n)}if(1==se.isCompact&&(S(),I(),se.positionFrom="onSliderTransitionEnd",f(!0),p(!0),0==ie.isSlideActionActive())){var i=u();0==i&&c(),C(),P()}}function L(e,t){0==se.isCompact?(K&&I(t),oe&&(S(t),oe.positionElements(!1),o(),oe.positionPanel())):0==ie.isAnimating()&&(oe&&S(t),K&&I(t)),0==se.isSliderChangedOnce&&(se.isSliderChangedOnce=!0,te.trigger(ee.events.LIGHTBOX_INIT))}function z(e,t){var n=ie.getSlideType();if("image"!=n&&0==se.isCompact&&ie.isSlideActionActive())return!0;var i=ie.isPreloading();if(1==i)return ee.close("slider"),!0;if(1==ae.lightbox_close_on_emptyspace){var r=ie.isMouseInsideSlideImage(t);0==r&&ee.close("slider_inside")}}function O(){m()}function H(){J?s():K&&K.hide(),V&&1==ae.lightbox_hide_arrows_onvideoplay&&(V.hide(),$.hide())}function F(){J?l():K&&K.show(),V&&1==ae.lightbox_hide_arrows_onvideoplay&&(V.show(),$.show())}function R(e,t){switch(t){case 27:1==se.isOpened&&ee.close("keypress")}}function D(){1==se.isArrowsOnHoverMode&&E(!1,!0)}function W(e){se.positionFrom="hideCompactElements",1==se.isArrowsOnHoverMode&&1==h()&&w(!1,!0)}function Q(e){se.lastMouseX=e.pageX,se.lastMouseY=e.pageY;var t=x();1==t&&y()&&0==ie.isAnimating()&&(se.positionFrom="onMouseMove",V&&0==V.is(":animated")&&E(!1,!0))}function G(e,t,n,i){if(0==se.isOpened)return!0;switch(ae.gallery_mousewheel_role){default:case"zoom":var r=ie.getSlideType();"image"!=r&&e.preventDefault();break;case"none":e.preventDefault();break;case"advance":ne.onGalleryMouseWheel(e,t,n,i)}}function B(){if(X.on("touchstart",function(e){e.preventDefault()}),X.on("touchend",function(e){ee.close("overlay")}),re.addClassOnHover($,"ug-arrow-hover"),re.addClassOnHover(V,"ug-arrow-hover"),re.addClassOnHover(Z),ne.setNextButton($),ne.setPrevButton(V),Z.click(function(){ee.close("button")}),Y.on(ne.events.ITEM_CHANGE,L),ie){jQuery(ie).on(ie.events.TRANSITION_END,N),jQuery(ie).on(ie.events.CLICK,z);var e=ie.getVideoObject();jQuery(e).on(e.events.PLAY_START,H),jQuery(e).on(e.events.PLAY_STOP,F),jQuery(ie).on(ie.events.START_DRAG,j),jQuery(ie).on(ie.events.TRANSITION_START,j),jQuery(ie).on(ie.events.AFTER_DRAG_CHANGE,k),jQuery(ie).on(ie.events.AFTER_RETURN,k),jQuery(ie).on(ie.events.AFTER_PUT_IMAGE,M),jQuery(ie).on(ie.events.ZOOM_CHANGE,A),jQuery(ie).on(ie.events.IMAGE_MOUSEENTER,D),jQuery(ie).on(ie.events.IMAGE_MOUSELEAVE,W)}jQuery(window).resize(function(){return 0==se.isOpened?!0:void re.whenContiniousEventOver("lightbox_resize",O,100)}),Y.on(ne.events.GALLERY_KEYPRESS,R),1==se.isArrowsOnHoverMode&&jQuery(document).bind("mousemove",Q),q.on("mousewheel",G)}function U(){se.isCompact=!1,t(),ae=jQuery.extend({},se.originalOptions),trace(ae),ie.setOptions(ae)}var Y,q,X,V,$,Z,K,J,ee=this,te=jQuery(this),ne=new UniteGalleryMain,ie=new UGSlider,re=new UGFunctions,oe=new UGTextPanel,ae={lightbox_type:"wide",lightbox_show_textpanel:!0,lightbox_textpanel_width:550,lightbox_hide_arrows_onvideoplay:!0,lightbox_arrows_position:"sides",lightbox_arrows_offset:10,lightbox_arrows_inside_offset:10,lightbox_arrows_inside_alwayson:!1,lightbox_overlay_color:null,lightbox_overlay_opacity:1,lightbox_top_panel_opacity:null,lightbox_show_numbers:!0,lightbox_numbers_size:null,lightbox_numbers_color:null,lightbox_numbers_padding_top:null,lightbox_numbers_padding_right:null,lightbox_compact_closebutton_offsetx:1,lightbox_compact_closebutton_offsety:1,lightbox_close_on_emptyspace:!0};this.events={LIGHTBOX_INIT:"lightbox_init"};var se={topPanelHeight:44,initTextPanelHeight:26,isOpened:!1,putSlider:!0,isCompact:!1,fadeDuration:300,positionFrom:null,textPanelTop:null,textPanelLeft:null,isArrowsInside:!1,isArrowsOnHoverMode:!1,lastMouseX:null,lastMouseY:null,originalOptions:null,isSliderChangedOnce:!1,isTopPanelEnabled:!0},le={lightbox_slider_controls_always_on:!0,lightbox_slider_enable_bullets:!1,lightbox_slider_enable_arrows:!1,lightbox_slider_enable_progress_indicator:!1,lightbox_slider_enable_play_button:!1,lightbox_slider_enable_fullscreen_button:!1,lightbox_slider_enable_zoom_panel:!1,lightbox_slider_enable_text_panel:!1,lightbox_slider_scale_mode_media:"down",lightbox_slider_scale_mode:"down",lightbox_slider_loader_type:3,lightbox_slider_loader_color:"black",lightbox_slider_transition:"fade",lightbox_slider_image_padding_top:se.topPanelHeight,lightbox_slider_image_padding_bottom:0,lightbox_slider_video_padding_top:0,lightbox_slider_video_padding_bottom:0,lightbox_textpanel_align:"middle",lightbox_textpanel_padding_top:5,lightbox_textpanel_padding_bottom:5,slider_video_constantsize:!1,lightbox_slider_image_border:!1,lightbox_textpanel_enable_title:!0,lightbox_textpanel_enable_description:!1,lightbox_textpanel_desc_style_as_title:!0,lightbox_textpanel_enable_bg:!1,video_enable_closebutton:!1,lightbox_slider_video_enable_closebutton:!1,video_youtube_showinfo:!1,lightbox_slider_enable_links:!1},ue={lightbox_overlay_opacity:.6,lightbox_slider_image_border:!0,lightbox_slider_image_shadow:!0,lightbox_slider_image_padding_top:30,lightbox_slider_image_padding_bottom:30,slider_video_constantsize:!0,lightbox_textpanel_align:"bottom",lightbox_textpanel_title_text_align:"left",lightbox_textpanel_desc_text_align:"left",lightbox_textpanel_padding_left:10,lightbox_textpanel_padding_right:10};this.destroy=function(){if(jQuery(document).unbind("mousemove"),X.off("touchstart"),X.off("touchend"),Z.off("click"),Y.off(ne.events.ITEM_CHANGE),ie){jQuery(ie).off(ie.events.TRANSITION_END),jQuery(ie).off(ie.events.CLICK),jQuery(ie).off(ie.events.START_DRAG),jQuery(ie).off(ie.events.TRANSITION_START),jQuery(ie).off(ie.events.AFTER_DRAG_CHANGE),jQuery(ie).off(ie.events.AFTER_RETURN);var e=ie.getVideoObject();jQuery(e).off(e.events.PLAY_START),jQuery(e).off(e.events.PLAY_STOP),jQuery(ie).on(ie.events.IMAGE_MOUSEENTER,D),jQuery(ie).on(ie.events.IMAGE_MOUSELEAVE,W),ie.destroy()}jQuery(window).unbind("resize"),Y.off(ne.events.GALLERY_KEYPRESS,R),q.off("mousewheel"),q.remove()},this.open=function(e){var t=ne.getItem(e);if(se.isOpened=!0,ie&&ie.setItem(t,"lightbox_open"),oe&&oe.setTextPlain(t.title,t.description),X.stop().fadeTo(0,0),q.show(),q.fadeTo(0,1),X.stop().fadeTo(se.fadeDuration,ae.lightbox_overlay_opacity),m(),1==se.isCompact){var n=ie.isPreloading();1==n?_():1==se.isArrowsInside&&(V.hide(),$.hide())}ie&&ie.startSlideAction()},this.close=function(e){se.isOpened=!1,1==se.isCompact&&g(),ie&&ie.stopSlideAction();var t=ie.getSlideType();"image"!=t?q.hide():q.fadeTo(se.fadeDuration,0,function(){q.hide()})},this.init=function(t,n){e(t,n)},this.putHtml=function(){var e=ne.isMobileMode();e&&1==se.isCompact&&U(),n()},this.run=function(){i(),ie&&ie.run(),B()}}function UGCarousel(){function e(e,t){g_objects=e.getObjects(),Q=e,z=jQuery(e),O=g_objects.g_objWrapper,H=g_objects.g_arrItems,Y=jQuery.extend(Y,t),B.setFixedMode(),B.setApproveClickFunction(L),B.init(e,Y),U=B.getObjThumbs(),Y=B.getOptions(),q.initTileWidth=Y.tile_width,q.initTileHeight=Y.tile_height,q.tileWidth=Y.tile_width}function t(e){if(!e)var e=O;var t="<div class='ug-carousel-wrapper'><div class='ug-carousel-inner'></div></div>";O.append(t),F=O.children(".ug-carousel-wrapper"),R=F.children(".ug-carousel-inner"),B.setHtml(R),U.getThumbs().fadeTo(0,1)}function n(e,t){if(!t)var t=q.initTileHeight/q.initTileWidth*e;q.tileWidth=e;var n={tile_width:e,tile_height:t};B.setOptions(n),Y.tile_width=e,Y.tile_height=t,B.resizeAllTiles(e),m(!0)}function i(){if(null===q.carouselMaxWidth)throw new Error("The carousel width not set");if(q.tileWidth<q.initTileWidth){var e=q.carouselMaxWidth-2*Y.carousel_padding;e>q.initTileWidth&&(e=q.initTileWidth),n(e);var t=G.getNumItemsInSpace(q.carouselMaxWidth,e,Y.carousel_space_between_tiles)}else{var t=G.getNumItemsInSpace(q.carouselMaxWidth,q.tileWidth,Y.carousel_space_between_tiles);if(0>=t){t=1;var e=q.carouselMaxWidth-2*Y.carousel_padding;n(e)}}var i=G.getSpaceByNumItems(t,q.tileWidth,Y.carousel_space_between_tiles);i+=2*Y.carousel_padding,F.width(i),1==q.isFirstTimeRun?(N(),B.run(),jQuery.each(H,function(e,t){t.objThumbWrapper.data("index",e),O.trigger(q.eventSizeChange,[t.objThumbWrapper,!0]),t.objTileOriginal=t.objThumbWrapper.clone(!0,!0)}),m(!0),1==Y.carousel_autoplay&&D.startAutoplay()):(1==Y.carousel_autoplay&&D.pauseAutoplay(),x(0,!1),1==Y.carousel_autoplay&&D.startAutoplay()),I(),q.isFirstTimeRun=!1}function r(){return G.getElementSize(R).left}function o(e){return G.getMousePosition(e).pageX}function a(){var e=R.children(".ug-thumb-wrapper");return e}function s(e){var t=G.getNumItemsInSpace(e,q.tileWidth,Y.carousel_space_between_tiles);return t}function l(){return a().length}function u(e){v(e);var t=a(),n=jQuery(t[e]);return n}function d(){return R.children(".ug-thumb-wrapper").first()}function c(){return R.children(".ug-thumb-wrapper").last()}function h(e,t,n){var i=e.data("index");if(void 0==i)throw new Error("every tile should have index!");for(var r=[],o=0;t>o;o++){if("prev"==n)var a=Q.getPrevItem(i,!0);else var a=Q.getNextItem(i,!0);if(!a)throw new Error("the item to add is empty");var s=a.objTileOriginal.clone(!0,!0);i=a.index,s.addClass("cloned"),r.push(s)}return r}function p(){var e=G.getElementSize(F),t=G.getElementSize(R),n=t.width-e.width+t.left,i=q.sideSpace-n;return i}function f(){var e=-r(),t=q.sideSpace-e;return t}function g(){var e=G.getElementSize(F);return e.width}function _(){var e=g(),t=s(e);return t}function m(e){if(!e)var e=!1;var t,n=a(),i=0,r=0;return jQuery.each(n,function(e,o){o=jQuery(o),G.placeElement(o,i,0);var a=G.getElementSize(o);i+=a.width+Y.carousel_space_between_tiles,r=Math.max(r,a.height),e==n.length-1&&(t=a.right)}),R.width(t),r+=2*Y.carousel_padding,e===!0&&(R.height(r),F.height(r)),x(q.numCurrent,!1),t}function v(e){if(e>a().length-1)throw new Error("Wrogn tile number: "+e)}function b(e,t){if("left"==t)var n=d();else var n=c();var i="left"==t?"prev":"next",r=h(n,e,i);jQuery.each(r,function(e,n){"left"==t?R.prepend(n):R.append(n),O.trigger(q.eventSizeChange,n),B.loadTileImage(n)})}function y(e,t){v(i);for(var n=a(),i=n.length,r=0;e>r;r++)"left"==t?jQuery(n[r]).remove():jQuery(n[i-1-r]).remove()}function w(e){var t={left:e+"px"};R.css(t)}function x(e,t,n){if(void 0===t){var t=!0;if(R.is(":animated"))return!0}var i=u(e),r=G.getElementSize(i),o=-r.left+Y.carousel_padding,a={left:o+"px"};if(t===!0){var s=Y.carousel_scroll_duration,l=Y.carousel_scroll_easing;n===!0&&(s=q.scrollShortDuration,l=q.scrollShortEasing),R.stop(!0).animate(a,{duration:s,easing:l,queue:!1,complete:function(){q.numCurrent=e,S(!0)}})}else q.numCurrent=e,R.css(a)}function E(){var e=-r(),t=s(e),n=G.getElementSize(u(t)).left,i=G.getElementSize(u(t+1)).left;return Math.abs(n-e)<Math.abs(i-e)?t:t+1}function T(){var e=E();x(e,!0,!0)}function S(){var e=f(),t=p(),n=0,i=0,r=0,o=0,a=l();if(e>q.spaceActionSize)n=s(e),b(n,"left"),q.numCurrent+=n;else if(e<-q.spaceActionSize){var r=s(Math.abs(e));y(r,"left"),q.numCurrent-=r}if(t>q.spaceActionSize?(i=s(t),b(i,"right")):t<-q.spaceActionSize&&(o=s(Math.abs(t)),y(o,"right")),o>a)throw new Error("Can't remove more then num tiles");var u=!1;return(n||i||r||o)&&(m(),u=!0),u}function I(e){G.placeElement(R,0,Y.carousel_padding),S()}function C(){"left"==Y.carousel_autoplay_direction?D.scrollRight(1):D.scrollLeft(1)}function P(e){return 1==q.touchActive?!0:(q.touchActive=!0,D.pauseAutoplay(),q.startTime=jQuery.now(),q.startMousePos=o(e),q.startInnerPos=r(),q.lastTime=q.startTime,q.lastMousePos=q.startMousePos,void G.storeEventData(e,q.storedEventID))}function j(e){if(0==q.touchActive)return!0;G.updateStoredEventData(e,q.storedEventID),e.preventDefault();var t=null;if(1==Y.carousel_vertical_scroll_ondrag&&(t=G.handleScrollTop(q.storedEventID)),"vert"===t)return!0;q.lastMousePos=o(e);var n=q.lastMousePos-q.startMousePos,i=q.startInnerPos+n,r=n>0?"prev":"next",a=G.getElementSize(R).width;i>0&&"prev"==r&&(i/=3),-a>i&&"next"==r&&(i=q.startInnerPos+n/3),w(i)}function A(e){return 0==q.touchActive?!0:(q.touchActive=!1,T(),void D.unpauseAutoplay())}function k(e){return 0==Y.carousel_autoplay_pause_onhover?!0:void(1==q.isPlayMode&&0==q.isPaused&&D.pauseAutoplay())}function M(e){return 0==Y.carousel_autoplay_pause_onhover?!0:void D.unpauseAutoplay()}function N(){B.initEvents(),F.bind("mousedown touchstart",P),jQuery("body").bind("mousemove touchmove",j),jQuery(window).add("body").bind("mouseup touchend",A),F.hover(k,M)}function L(){var e=q.lastTime-q.startTime,t=Math.abs(q.lastMousePos-q.startMousePos);return e>300?!1:t>30?!1:!0}var z,O,H,F,R,D=this,W=jQuery(this),Q=new UniteGalleryMain,G=new UGFunctions,B=new UGTileDesign,U=new UGThumbsGeneral,Y={carousel_padding:8,carousel_space_between_tiles:20,carousel_navigation_numtiles:3,carousel_scroll_duration:500,carousel_scroll_easing:"easeOutCubic",carousel_autoplay:!0,carousel_autoplay_timeout:3e3,carousel_autoplay_direction:"right",carousel_autoplay_pause_onhover:!0,carousel_vertical_scroll_ondrag:!1};this.events={START_PLAY:"carousel_start_play",PAUSE_PLAY:"carousel_pause_play",STOP_PLAY:"carousel_stop_play"};var q={eventSizeChange:"thumb_size_change",isFirstTimeRun:!0,carouselMaxWidth:null,tileWidth:0,initTileWidth:0,initTileHeight:0,sideSpace:1500,spaceActionSize:500,numCurrent:0,touchActive:!1,startInnerPos:0,lastTime:0,startTime:0,startMousePos:0,lastMousePos:0,scrollShortDuration:200,scrollShortEasing:"easeOutQuad",handle:null,isPlayMode:!1,isPaused:!1,storedEventID:"carousel"};this.startAutoplay=function(){q.isPlayMode=!0,q.isPaused=!1,W.trigger(D.events.START_PLAY),q.handle&&clearInterval(q.handle),q.handle=setInterval(C,Y.carousel_autoplay_timeout)},this.unpauseAutoplay=function(){return 0==q.isPlayMode?!0:0==q.isPaused?!0:void D.startAutoplay()},this.pauseAutoplay=function(){return 0==q.isPlayMode?!0:(q.isPaused=!0,q.handle&&clearInterval(q.handle),void W.trigger(D.events.PAUSE_PLAY))},this.stopAutoplay=function(){return 0==q.isPlayMode?!0:(q.isPaused=!1,q.isPlayMode=!1,q.handle&&clearInterval(q.handle),void W.trigger(D.events.STOP_PLAY))},this.destroy=function(){q.handle&&clearInterval(q.handle),W.off(D.events.START_PLAY),W.off(D.events.STOP_PLAY),F.unbind("mousedown"),F.unbind("touchstart"),jQuery("body").unbind("mousemove"),jQuery("body").unbind("touchmove"),jQuery(window).add("body").unbind("mouseup").unbind("touchend"),F.off("mouseenter").off("mouseleave"),B.destroy()},this.init=function(t,n,i){i&&this.setMaxWidth(i),e(t,n)},this.setMaxWidth=function(e){q.carouselMaxWidth=e},this.setHtml=function(e){t(e)},this.getElement=function(){return F},this.getObjTileDesign=function(){return B},this.getEstimatedHeight=function(){var e=Y.tile_height+2*Y.carousel_padding;return e},this.run=function(){i()},this.scrollRight=function(e){if(!e||"object"==typeof e)var e=Y.carousel_navigation_numtiles;var t=_();e>t&&(e=t);var n=q.numCurrent-e;0>=n&&(n=0),x(n)},this.scrollLeft=function(e){if(!e||"object"==typeof e)var e=Y.carousel_navigation_numtiles;var t=_();e>t&&(e=t);var n=l(),i=q.numCurrent+e;i>=n&&(i=n-1),x(i)},this.setScrollLeftButton=function(e){G.setButtonMobileReady(e),G.setButtonOnClick(e,D.scrollLeft)},this.setScrollRightButton=function(e){G.setButtonMobileReady(e),G.setButtonOnClick(e,D.scrollRight)},this.setPlayPauseButton=function(e){G.setButtonMobileReady(e),1==q.isPlayMode&&0==q.isPaused&&e.addClass("ug-pause-icon"),W.on(D.events.START_PLAY,function(){e.addClass("ug-pause-icon")}),W.on(D.events.STOP_PLAY,function(){e.removeClass("ug-pause-icon")}),G.setButtonOnClick(e,function(){0==q.isPlayMode||1==q.isPaused?D.startAutoplay():D.stopAutoplay()})}}function UGTabs(){function e(e,t){u=e,a=jQuery(u),d=jQuery.extend(d,t),"select"==d.tabs_type?l=jQuery(d.tabs_container):s=jQuery(d.tabs_container+" .ug-tab")}function t(){o()}function n(e){u.requestNewItems(e)}function i(){var e=d.tabs_class_selected,t=jQuery(this);if(t.hasClass(e))return!0;s.not(t).removeClass(e),t.addClass(e);var i=t.data("catid");return i?void n(i):!0}function r(){var e=jQuery(this),t=e.val();return t?void n(t):!0}function o(){"select"==d.tabs_type?l.change(r):s.click(i)}var a,s,l,u=(jQuery(this),new UniteGalleryMain),d=(new UGFunctions,{tabs_type:"tabs",tabs_container:"#ug_tabs",tabs_class_selected:"ug-tab-selected"});this.events={},this.destroy=function(){l&&l.off("change"),s&&s.off("click")},this.init=function(t,n){e(t,n)},this.run=function(){t()}}function UG_API(e){function t(e){var t={index:e.index,title:e.title,description:e.description,urlImage:e.urlImage,urlThumb:e.urlThumb},n=e.objThumbImage.data();for(var i in n){switch(i){case"image":case"description":continue}t[i]=n[i]}return t}var n,i=this,r=(jQuery(i),new UniteGalleryMain);r=e,n=jQuery(e),this.events={API_INIT_FUNCTIONS:"api_init",API_ON_EVENT:"api_on_event"},this.on=function(e,o){switch(e){case"item_change":n.on(r.events.ITEM_CHANGE,function(){var e=r.getSelectedItem(),n=t(e);o(n.index,n)});break;case"resize":n.on(r.events.SIZE_CHANGE,o);break;case"enter_fullscreen":n.on(r.events.ENTER_FULLSCREEN,o);break;case"exit_fullscreen":n.on(r.events.EXIT_FULLSCREEN,o);break;case"play":n.on(r.events.START_PLAY,o);break;case"stop":n.on(r.events.STOP_PLAY,o);break;case"pause":n.on(r.events.PAUSE_PLAYING,o);break;case"continue":n.on(r.events.CONTINUE_PLAYING,o);break;default:console&&console.log("wrong api event: "+e)}n.trigger(i.events.API_ON_EVENT,[e,o])},this.play=function(){r.startPlayMode()},this.stop=function(){r.stopPlayMode()},this.togglePlay=function(){r.togglePlayMode()},this.enterFullscreen=function(){r.toFullScreen()},this.exitFullscreen=function(){r.exitFullScreen()},this.toggleFullscreen=function(){r.toggleFullscreen()},this.resetZoom=function(){var e=r.getObjSlider();
return e?void e.zoomBack():!1},this.zoomIn=function(){var e=r.getObjSlider();return e?void e.zoomIn():!1},this.zoomOut=function(){var e=r.getObjSlider();return e?void e.zoomOut():!1},this.nextItem=function(){r.nextItem()},this.prevItem=function(){r.prevItem()},this.selectItem=function(e){r.selectItem(e)},this.resize=function(e,t){t?r.resize(e,t):r.resize(e)},this.getItem=function(e){var n=r.getItem(e),i=t(n);return i},this.getNumItems=function(){var e=r.getNumItems();return e},this.reloadGallery=function(e){if(!e)var e={};r.run(null,e)},this.destroy=function(){r.destroy()},n.trigger(i.events.API_INIT_FUNCTIONS,i)}function UGTheme_grid(){function e(e,n){switch(v=e,w=jQuery.extend(w,x),w=jQuery.extend(w,n),w.theme_panel_position){case"left":w=jQuery.extend(w,E);break;case"right":w=jQuery.extend(w,T);break;case"top":w=jQuery.extend(w,I);break;case"bottom":w=jQuery.extend(w,S)}w=jQuery.extend(w,n),t(),v.setOptions(w),1==w.theme_load_panel?(("top"==w.theme_panel_position||"bottom"==w.theme_panel_position)&&(C.isHorPos=!0),y.setOrientation(w.theme_panel_position),y.init(e,w)):y=null,1==w.theme_load_slider&&v.initSlider(w),g=e.getObjects(),f=jQuery(e),_=g.g_objWrapper,1==w.theme_load_slider&&(m=g.g_objSlider)}function t(){1==w.theme_load_panel&&"left"==w.theme_panel_position&&(w.gridpanel_handle_position="right")}function n(){y&&(o(),a()),m&&(m.run(),s())}function i(){r(),n(),p()}function r(){_.addClass("ug-theme-grid"),y&&y.setHtml(),m&&m.setHtml()}function o(){var e=v.getSize();1==C.isHorPos?y.setWidth(e.width):y.setHeight(e.height),y.run()}function a(){var e=y.getElement(),t=l(),n=y.isPanelClosed(),i=t||n,r=w.theme_panel_position;if(i){var o=y.getClosedPanelDest(),a=b.getElementRelativePos(e,w.theme_panel_position);y.setClosedState(a),r=o}else y.setOpenedState();1==C.isHorPos?b.placeElement(e,"left",r):b.placeElement(e,r,"top")}function s(){var e=b.getElementSize(_),t=e.width,n=e.height,i=0,r=0;if(y){var o=y.getSize();switch(w.theme_panel_position){case"left":r=o.right,t=e.width-o.right;break;case"right":t=o.left;break;case"top":n=e.height-o.bottom,i=o.bottom;break;case"bottom":n=o.top}}m.setSize(t,n),m.setPosition(r,i)}function l(){if(!w.theme_hide_panel_under_width)return!1;var e=jQuery(window).width(),t=w.theme_hide_panel_under_width;return t>=e?!0:!1}function u(){if(!w.theme_hide_panel_under_width)return!1;var e=l();1==e?(y.closePanel(!0),C.isMobileModeWasEnabled=!0):1==C.isMobileModeWasEnabled&&(y.openPanel(!0),C.isMobileModeWasEnabled=!1)}function d(){n(),y&&u()}function c(){s()}function h(){v.showDisabledOverlay()}function p(){f.on(v.events.SIZE_CHANGE,d),f.on(v.events.GALLERY_BEFORE_REQUEST_ITEMS,h),y&&jQuery(y).on(y.events.FINISH_MOVE,c)}var f,g,_,m,v=new UniteGalleryMain,b=new UGFunctions,y=new UGGridPanel,w={theme_load_slider:!0,theme_load_panel:!0,theme_panel_position:"right",theme_hide_panel_under_width:480},x={slider_controls_always_on:!0,slider_vertical_scroll_ondrag:!0},E={slider_zoompanel_align_hor:"right",slider_fullscreen_button_align_hor:"right",slider_play_button_align_hor:"right",slider_zoompanel_offset_vert:9,slider_zoompanel_offset_hor:11,slider_play_button_offset_hor:88,slider_play_button_offset_vert:8,slider_fullscreen_button_offset_hor:52,slider_fullscreen_button_offset_vert:9},T={slider_zoompanel_offset_vert:9,slider_zoompanel_offset_hor:11,slider_play_button_offset_hor:88,slider_play_button_offset_vert:8,slider_fullscreen_button_offset_hor:52,slider_fullscreen_button_offset_vert:9},S={slider_enable_text_panel:!1,slider_zoompanel_align_hor:"right",slider_zoompanel_offset_vert:10,slider_progress_indicator_align_hor:"left",slider_progress_indicator_offset_vert:36,slider_progress_indicator_offset_hor:16},I={slider_enable_text_panel:!1,slider_zoompanel_align_vert:"bottom",slider_zoompanel_offset_vert:10,slider_play_button_align_hor:"right",slider_play_button_align_vert:"bottom",slider_fullscreen_button_align_vert:"bottom",slider_fullscreen_button_align_hor:"right",slider_progress_indicator_align_vert:"bottom",slider_progress_indicator_offset_vert:40,gridpanel_padding_border_top:4,gridpanel_padding_border_bottom:10},C={isMobileModeWasEnabled:!1,isHorPos:!1};this.destroy=function(){f.off(v.events.SIZE_CHANGE,d),f.off(v.events.GALLERY_BEFORE_REQUEST_ITEMS),y&&jQuery(y).off(y.events.FINISH_MOVE),y.destroy(),m.destroy()},this.run=function(){i()},this.init=function(t,n){e(t,n)}}function showMap(){L.mapbox.accessToken="pk.eyJ1IjoieWVvbWFubmluamEiLCJhIjoiY2ltYmo2bzBnMDQ1NHR5a2ltOWZmeXI3aCJ9.jVpanoyAmB-eexrQsXpWdA",window.map_box_obj=L.mapbox.map("map","yeomanninja.phb28ak1",{}).setView([16.072,-1.494],2),placeMarkersOnMap()}function placeMarkersOnMap(){current_user_id=$("meta[name='current-user-id']").attr("content"),$.ajax({dataType:"text",url:"/users/"+current_user_id+"/trips.json",success:function(e){var t;t=$.parseJSON(e);var n=L.mapbox.featureLayer().addTo(map_box_obj);n.on("layeradd",function(e){var t=e.layer,n=t.feature;t.setIcon(L.icon(n.properties.icon));var i='<a class="popup" href="'+n.properties.url+'">'+n.properties.title+"</a><p>hihihi</p>";t.bindPopup(i,{closeButton:!1,minWidth:320}),$(".collection").on("click","a.trip-"+t.feature.properties.id,function(){map_box_obj.setView(t.getLatLng(),10),t.openPopup()})}),n.setGeoJSON(t)}})}!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function n(e){var t=!!e&&"length"in e&&e.length,n=pe.type(e);return"function"===n||pe.isWindow(e)?!1:"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e}function i(e,t,n){if(pe.isFunction(t))return pe.grep(e,function(e,i){return!!t.call(e,i,e)!==n});if(t.nodeType)return pe.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(Ee.test(t))return pe.filter(t,e,n);t=pe.filter(t,e)}return pe.grep(e,function(e){return pe.inArray(e,t)>-1!==n})}function r(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function o(e){var t={};return pe.each(e.match(je)||[],function(e,n){t[n]=!0}),t}function a(){ie.addEventListener?(ie.removeEventListener("DOMContentLoaded",s),e.removeEventListener("load",s)):(ie.detachEvent("onreadystatechange",s),e.detachEvent("onload",s))}function s(){(ie.addEventListener||"load"===e.event.type||"complete"===ie.readyState)&&(a(),pe.ready())}function l(e,t,n){if(void 0===n&&1===e.nodeType){var i="data-"+t.replace(Le,"-$1").toLowerCase();if(n=e.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:Ne.test(n)?pe.parseJSON(n):n}catch(r){}pe.data(e,t,n)}else n=void 0}return n}function u(e){var t;for(t in e)if(("data"!==t||!pe.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function d(e,t,n,i){if(Me(e)){var r,o,a=pe.expando,s=e.nodeType,l=s?pe.cache:e,u=s?e[a]:e[a]&&a;if(u&&l[u]&&(i||l[u].data)||void 0!==n||"string"!=typeof t)return u||(u=s?e[a]=ne.pop()||pe.guid++:a),l[u]||(l[u]=s?{}:{toJSON:pe.noop}),("object"==typeof t||"function"==typeof t)&&(i?l[u]=pe.extend(l[u],t):l[u].data=pe.extend(l[u].data,t)),o=l[u],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[pe.camelCase(t)]=n),"string"==typeof t?(r=o[t],null==r&&(r=o[pe.camelCase(t)])):r=o,r}}function c(e,t,n){if(Me(e)){var i,r,o=e.nodeType,a=o?pe.cache:e,s=o?e[pe.expando]:pe.expando;if(a[s]){if(t&&(i=n?a[s]:a[s].data)){pe.isArray(t)?t=t.concat(pe.map(t,pe.camelCase)):t in i?t=[t]:(t=pe.camelCase(t),t=t in i?[t]:t.split(" ")),r=t.length;for(;r--;)delete i[t[r]];if(n?!u(i):!pe.isEmptyObject(i))return}(n||(delete a[s].data,u(a[s])))&&(o?pe.cleanData([e],!0):ce.deleteExpando||a!=a.window?delete a[s]:a[s]=void 0)}}}function h(e,t,n,i){var r,o=1,a=20,s=i?function(){return i.cur()}:function(){return pe.css(e,t,"")},l=s(),u=n&&n[3]||(pe.cssNumber[t]?"":"px"),d=(pe.cssNumber[t]||"px"!==u&&+l)&&Oe.exec(pe.css(e,t));if(d&&d[3]!==u){u=u||d[3],n=n||[],d=+l||1;do o=o||".5",d/=o,pe.style(e,t,d+u);while(o!==(o=s()/l)&&1!==o&&--a)}return n&&(d=+d||+l||0,r=n[1]?d+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=d,i.end=r)),r}function p(e){var t=Be.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function f(e,t){var n,i,r=0,o="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):void 0;if(!o)for(o=[],n=e.childNodes||e;null!=(i=n[r]);r++)!t||pe.nodeName(i,t)?o.push(i):pe.merge(o,f(i,t));return void 0===t||t&&pe.nodeName(e,t)?pe.merge([e],o):o}function g(e,t){for(var n,i=0;null!=(n=e[i]);i++)pe._data(n,"globalEval",!t||pe._data(t[i],"globalEval"))}function _(e){De.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t,n,i,r){for(var o,a,s,l,u,d,c,h=e.length,m=p(t),v=[],b=0;h>b;b++)if(a=e[b],a||0===a)if("object"===pe.type(a))pe.merge(v,a.nodeType?[a]:a);else if(Ye.test(a)){for(l=l||m.appendChild(t.createElement("div")),u=(We.exec(a)||["",""])[1].toLowerCase(),c=Ue[u]||Ue._default,l.innerHTML=c[1]+pe.htmlPrefilter(a)+c[2],o=c[0];o--;)l=l.lastChild;if(!ce.leadingWhitespace&&Ge.test(a)&&v.push(t.createTextNode(Ge.exec(a)[0])),!ce.tbody)for(a="table"!==u||qe.test(a)?"<table>"!==c[1]||qe.test(a)?0:l:l.firstChild,o=a&&a.childNodes.length;o--;)pe.nodeName(d=a.childNodes[o],"tbody")&&!d.childNodes.length&&a.removeChild(d);for(pe.merge(v,l.childNodes),l.textContent="";l.firstChild;)l.removeChild(l.firstChild);l=m.lastChild}else v.push(t.createTextNode(a));for(l&&m.removeChild(l),ce.appendChecked||pe.grep(f(v,"input"),_),b=0;a=v[b++];)if(i&&pe.inArray(a,i)>-1)r&&r.push(a);else if(s=pe.contains(a.ownerDocument,a),l=f(m.appendChild(a),"script"),s&&g(l),n)for(o=0;a=l[o++];)Qe.test(a.type||"")&&n.push(a);return l=null,m}function v(){return!0}function b(){return!1}function y(){try{return ie.activeElement}catch(e){}}function w(e,t,n,i,r,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(i=i||n,n=void 0);for(s in t)w(e,s,n,i,t[s],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),r===!1)r=b;else if(!r)return e;return 1===o&&(a=r,r=function(e){return pe().off(e),a.apply(this,arguments)},r.guid=a.guid||(a.guid=pe.guid++)),e.each(function(){pe.event.add(this,t,r,i,n)})}function x(e,t){return pe.nodeName(e,"table")&&pe.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function E(e){return e.type=(null!==pe.find.attr(e,"type"))+"/"+e.type,e}function T(e){var t=rt.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function S(e,t){if(1===t.nodeType&&pe.hasData(e)){var n,i,r,o=pe._data(e),a=pe._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)pe.event.add(t,n,s[n][i])}a.data&&(a.data=pe.extend({},a.data))}}function I(e,t){var n,i,r;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!ce.noCloneEvent&&t[pe.expando]){r=pe._data(t);for(i in r.events)pe.removeEvent(t,i,r.handle);t.removeAttribute(pe.expando)}"script"===n&&t.text!==e.text?(E(t).text=e.text,T(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),ce.html5Clone&&e.innerHTML&&!pe.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&De.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function C(e,t,n,i){t=oe.apply([],t);var r,o,a,s,l,u,d=0,c=e.length,h=c-1,p=t[0],g=pe.isFunction(p);if(g||c>1&&"string"==typeof p&&!ce.checkClone&&it.test(p))return e.each(function(r){var o=e.eq(r);g&&(t[0]=p.call(this,r,o.html())),C(o,t,n,i)});if(c&&(u=m(t,e[0].ownerDocument,!1,e,i),r=u.firstChild,1===u.childNodes.length&&(u=r),r||i)){for(s=pe.map(f(u,"script"),E),a=s.length;c>d;d++)o=u,d!==h&&(o=pe.clone(o,!0,!0),a&&pe.merge(s,f(o,"script"))),n.call(e[d],o,d);if(a)for(l=s[s.length-1].ownerDocument,pe.map(s,T),d=0;a>d;d++)o=s[d],Qe.test(o.type||"")&&!pe._data(o,"globalEval")&&pe.contains(l,o)&&(o.src?pe._evalUrl&&pe._evalUrl(o.src):pe.globalEval((o.text||o.textContent||o.innerHTML||"").replace(ot,"")));u=r=null}return e}function P(e,t,n){for(var i,r=t?pe.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||pe.cleanData(f(i)),i.parentNode&&(n&&pe.contains(i.ownerDocument,i)&&g(f(i,"script")),i.parentNode.removeChild(i));return e}function j(e,t){var n=pe(t.createElement(e)).appendTo(t.body),i=pe.css(n[0],"display");return n.detach(),i}function A(e){var t=ie,n=ut[e];return n||(n=j(e,t),"none"!==n&&n||(lt=(lt||pe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=(lt[0].contentWindow||lt[0].contentDocument).document,t.write(),t.close(),n=j(e,t),lt.detach()),ut[e]=n),n}function k(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function M(e){if(e in Tt)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),n=Et.length;n--;)if(e=Et[n]+t,e in Tt)return e}function N(e,t){for(var n,i,r,o=[],a=0,s=e.length;s>a;a++)i=e[a],i.style&&(o[a]=pe._data(i,"olddisplay"),n=i.style.display,t?(o[a]||"none"!==n||(i.style.display=""),""===i.style.display&&Fe(i)&&(o[a]=pe._data(i,"olddisplay",A(i.nodeName)))):(r=Fe(i),(n&&"none"!==n||!r)&&pe._data(i,"olddisplay",r?n:pe.css(i,"display"))));for(a=0;s>a;a++)i=e[a],i.style&&(t&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=t?o[a]||"":"none"));return e}function L(e,t,n){var i=yt.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function z(e,t,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===t?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=pe.css(e,n+He[o],!0,r)),i?("content"===n&&(a-=pe.css(e,"padding"+He[o],!0,r)),"margin"!==n&&(a-=pe.css(e,"border"+He[o]+"Width",!0,r))):(a+=pe.css(e,"padding"+He[o],!0,r),"padding"!==n&&(a+=pe.css(e,"border"+He[o]+"Width",!0,r)));return a}function O(t,n,i){var r=!0,o="width"===n?t.offsetWidth:t.offsetHeight,a=ft(t),s=ce.boxSizing&&"border-box"===pe.css(t,"boxSizing",!1,a);if(ie.msFullscreenElement&&e.top!==e&&t.getClientRects().length&&(o=Math.round(100*t.getBoundingClientRect()[n])),0>=o||null==o){if(o=gt(t,n,a),(0>o||null==o)&&(o=t.style[n]),ct.test(o))return o;r=s&&(ce.boxSizingReliable()||o===t.style[n]),o=parseFloat(o)||0}return o+z(t,n,i||(s?"border":"content"),r,a)+"px"}function H(e,t,n,i,r){return new H.prototype.init(e,t,n,i,r)}function F(){return e.setTimeout(function(){St=void 0}),St=pe.now()}function R(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=He[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function D(e,t,n){for(var i,r=(G.tweeners[t]||[]).concat(G.tweeners["*"]),o=0,a=r.length;a>o;o++)if(i=r[o].call(n,t,e))return i}function W(e,t,n){var i,r,o,a,s,l,u,d,c=this,h={},p=e.style,f=e.nodeType&&Fe(e),g=pe._data(e,"fxshow");n.queue||(s=pe._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,pe.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],u=pe.css(e,"display"),d="none"===u?pe._data(e,"olddisplay")||A(e.nodeName):u,"inline"===d&&"none"===pe.css(e,"float")&&(ce.inlineBlockNeedsLayout&&"inline"!==A(e.nodeName)?p.zoom=1:p.display="inline-block")),n.overflow&&(p.overflow="hidden",ce.shrinkWrapBlocks()||c.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(i in t)if(r=t[i],Ct.exec(r)){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;f=!0}h[i]=g&&g[i]||pe.style(e,i)}else u=void 0;if(pe.isEmptyObject(h))"inline"===("none"===u?A(e.nodeName):u)&&(p.display=u);else{g?"hidden"in g&&(f=g.hidden):g=pe._data(e,"fxshow",{}),o&&(g.hidden=!f),f?pe(e).show():c.done(function(){pe(e).hide()}),c.done(function(){var t;pe._removeData(e,"fxshow");for(t in h)pe.style(e,t,h[t])});for(i in h)a=D(f?g[i]:0,i,c),i in g||(g[i]=a.start,f&&(a.end=a.start,a.start="width"===i||"height"===i?1:0))}}function Q(e,t){var n,i,r,o,a;for(n in e)if(i=pe.camelCase(n),r=t[i],o=e[n],pe.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=pe.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function G(e,t,n){var i,r,o=0,a=G.prefilters.length,s=pe.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=St||F(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,o=1-i,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(e,[u,o,n]),1>o&&l?n:(s.resolveWith(e,[u]),!1)},u=s.promise({elem:e,props:pe.extend({},t),opts:pe.extend(!0,{specialEasing:{},easing:pe.easing._default},n),originalProperties:t,originalOptions:n,startTime:St||F(),duration:n.duration,tweens:[],createTween:function(t,n){var i=pe.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){var n=0,i=t?u.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)u.tweens[n].run(1);return t?(s.notifyWith(e,[u,1,0]),s.resolveWith(e,[u,t])):s.rejectWith(e,[u,t]),this}}),d=u.props;for(Q(d,u.opts.specialEasing);a>o;o++)if(i=G.prefilters[o].call(u,e,d,u.opts))return pe.isFunction(i.stop)&&(pe._queueHooks(u.elem,u.opts.queue).stop=pe.proxy(i.stop,i)),i;return pe.map(d,D,u),pe.isFunction(u.opts.start)&&u.opts.start.call(e,u),pe.fx.timer(pe.extend(l,{elem:e,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function B(e){return pe.attr(e,"class")||""}function U(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(je)||[];if(pe.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Y(e,t,n,i){function r(s){var l;return o[s]=!0,pe.each(e[s]||[],function(e,s){var u=s(t,n,i);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(t.dataTypes.unshift(u),r(u),!1)}),l}var o={},a=e===Zt;return r(t.dataTypes[0])||!o["*"]&&r("*")}function q(e,t){var n,i,r=pe.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((r[i]?e:n||(n={}))[i]=t[i]);return n&&pe.extend(!0,e,n),e}function X(e,t,n){for(var i,r,o,a,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(a in s)if(s[a]&&s[a].test(r)){l.unshift(a);break}if(l[0]in n)o=l[0];else{for(a in n){if(!l[0]||e.converters[a+" "+l[0]]){o=a;break}i||(i=a)}o=o||i}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function V(e,t,n,i){var r,o,a,s,l,u={},d=e.dataTypes.slice();if(d[1])for(a in e.converters)u[a.toLowerCase()]=e.converters[a];for(o=d.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=d.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(r in u)if(s=r.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[r]:u[r]!==!0&&(o=s[0],d.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(c){return{state:"parsererror",error:a?c:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function $(e){return e.style&&e.style.display||pe.css(e,"display")}function Z(e){for(;e&&1===e.nodeType;){if("none"===$(e)||"hidden"===e.type)return!0;e=e.parentNode}return!1}function K(e,t,n,i){var r;if(pe.isArray(t))pe.each(t,function(t,r){n||nn.test(e)?i(e,r):K(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==pe.type(t))i(e,t);else for(r in t)K(e+"["+r+"]",t[r],n,i)}function J(){try{return new e.XMLHttpRequest}catch(t){}}function ee(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function te(e){return pe.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var ne=[],ie=e.document,re=ne.slice,oe=ne.concat,ae=ne.push,se=ne.indexOf,le={},ue=le.toString,de=le.hasOwnProperty,ce={},he="1.12.1",pe=function(e,t){return new pe.fn.init(e,t)},fe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ge=/^-ms-/,_e=/-([\da-z])/gi,me=function(e,t){return t.toUpperCase()};pe.fn=pe.prototype={jquery:he,constructor:pe,selector:"",length:0,toArray:function(){return re.call(this)},get:function(e){return null!=e?0>e?this[e+this.length]:this[e]:re.call(this)},pushStack:function(e){var t=pe.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return pe.each(this,e)},map:function(e){return this.pushStack(pe.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(re.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ae,sort:ne.sort,splice:ne.splice},pe.extend=pe.fn.extend=function(){var e,t,n,i,r,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||pe.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(r=arguments[s]))for(i in r)e=a[i],n=r[i],a!==n&&(u&&n&&(pe.isPlainObject(n)||(t=pe.isArray(n)))?(t?(t=!1,o=e&&pe.isArray(e)?e:[]):o=e&&pe.isPlainObject(e)?e:{},a[i]=pe.extend(u,o,n)):void 0!==n&&(a[i]=n));return a},pe.extend({expando:"jQuery"+(he+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===pe.type(e)},isArray:Array.isArray||function(e){return"array"===pe.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){var t=e&&e.toString();return!pe.isArray(e)&&t-parseFloat(t)+1>=0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},isPlainObject:function(e){var t;if(!e||"object"!==pe.type(e)||e.nodeType||pe.isWindow(e))return!1;try{if(e.constructor&&!de.call(e,"constructor")&&!de.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(!ce.ownFirst)for(t in e)return de.call(e,t);for(t in e);return void 0===t||de.call(e,t)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?le[ue.call(e)]||"object":typeof e},globalEval:function(t){t&&pe.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ge,"ms-").replace(_e,me)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var i,r=0;if(n(e))for(i=e.length;i>r&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(fe,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(n(Object(e))?pe.merge(i,"string"==typeof e?[e]:e):ae.call(i,e)),i},inArray:function(e,t,n){var i;if(t){if(se)return se.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;n>i;)e[r++]=t[i++];if(n!==n)for(;void 0!==t[i];)e[r++]=t[i++];return e.length=r,e},grep:function(e,t,n){for(var i,r=[],o=0,a=e.length,s=!n;a>o;o++)i=!t(e[o],o),i!==s&&r.push(e[o]);return r},map:function(e,t,i){var r,o,a=0,s=[];if(n(e))for(r=e.length;r>a;a++)o=t(e[a],a,i),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,i),null!=o&&s.push(o);return oe.apply([],s)},guid:1,proxy:function(e,t){var n,i,r;return"string"==typeof t&&(r=e[t],t=e,e=r),pe.isFunction(e)?(n=re.call(arguments,2),i=function(){return e.apply(t||this,n.concat(re.call(arguments)))},i.guid=e.guid=e.guid||pe.guid++,i):void 0},now:function(){return+new Date},support:ce}),"function"==typeof Symbol&&(pe.fn[Symbol.iterator]=ne[Symbol.iterator]),pe.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){le["[object "+t+"]"]=t.toLowerCase()});var ve=/*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
function(e){function t(e,t,n,i){var r,o,a,s,l,u,c,p,f=t&&t.ownerDocument,g=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==g&&9!==g&&11!==g)return n;if(!i&&((t?t.ownerDocument||t:D)!==M&&k(t),t=t||M,L)){if(11!==g&&(u=me.exec(e)))if(r=u[1]){if(9===g){if(!(a=t.getElementById(r)))return n;if(a.id===r)return n.push(a),n}else if(f&&(a=f.getElementById(r))&&F(t,a)&&a.id===r)return n.push(a),n}else{if(u[2])return K.apply(n,t.getElementsByTagName(e)),n;if((r=u[3])&&w.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(r)),n}if(w.qsa&&!U[e+" "]&&(!z||!z.test(e))){if(1!==g)f=t,p=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(be,"\\$&"):t.setAttribute("id",s=R),c=S(e),o=c.length,l=he.test(s)?"#"+s:"[id='"+s+"']";o--;)c[o]=l+" "+h(c[o]);p=c.join(","),f=ve.test(e)&&d(t.parentNode)||t}if(p)try{return K.apply(n,f.querySelectorAll(p)),n}catch(_){}finally{s===R&&t.removeAttribute("id")}}}return C(e.replace(se,"$1"),t,n,i)}function n(){function e(n,i){return t.push(n+" ")>x.cacheLength&&delete e[t.shift()],e[n+" "]=i}var t=[];return e}function i(e){return e[R]=!0,e}function r(e){var t=M.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),i=n.length;i--;)x.attrHandle[n[i]]=t}function a(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||q)-(~e.sourceIndex||q);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function l(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return i(function(t){return t=+t,i(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function d(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function c(){}function h(e){for(var t=0,n=e.length,i="";n>t;t++)i+=e[t].value;return i}function p(e,t,n){var i=t.dir,r=n&&"parentNode"===i,o=Q++;return t.first?function(t,n,o){for(;t=t[i];)if(1===t.nodeType||r)return e(t,n,o)}:function(t,n,a){var s,l,u,d=[W,o];if(a){for(;t=t[i];)if((1===t.nodeType||r)&&e(t,n,a))return!0}else for(;t=t[i];)if(1===t.nodeType||r){if(u=t[R]||(t[R]={}),l=u[t.uniqueID]||(u[t.uniqueID]={}),(s=l[i])&&s[0]===W&&s[1]===o)return d[2]=s[2];if(l[i]=d,d[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function g(e,n,i){for(var r=0,o=n.length;o>r;r++)t(e,n[r],i);return i}function _(e,t,n,i,r){for(var o,a=[],s=0,l=e.length,u=null!=t;l>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),u&&t.push(s));return a}function m(e,t,n,r,o,a){return r&&!r[R]&&(r=m(r)),o&&!o[R]&&(o=m(o,a)),i(function(i,a,s,l){var u,d,c,h=[],p=[],f=a.length,m=i||g(t||"*",s.nodeType?[s]:s,[]),v=!e||!i&&t?m:_(m,h,e,s,l),b=n?o||(i?e:f||r)?[]:a:v;if(n&&n(v,b,s,l),r)for(u=_(b,p),r(u,[],s,l),d=u.length;d--;)(c=u[d])&&(b[p[d]]=!(v[p[d]]=c));if(i){if(o||e){if(o){for(u=[],d=b.length;d--;)(c=b[d])&&u.push(v[d]=c);o(null,b=[],u,l)}for(d=b.length;d--;)(c=b[d])&&(u=o?ee(i,c):h[d])>-1&&(i[u]=!(a[u]=c))}}else b=_(b===a?b.splice(f,b.length):b),o?o(null,a,b,l):K.apply(a,b)})}function v(e){for(var t,n,i,r=e.length,o=x.relative[e[0].type],a=o||x.relative[" "],s=o?1:0,l=p(function(e){return e===t},a,!0),u=p(function(e){return ee(t,e)>-1},a,!0),d=[function(e,n,i){var r=!o&&(i||n!==P)||((t=n).nodeType?l(e,n,i):u(e,n,i));return t=null,r}];r>s;s++)if(n=x.relative[e[s].type])d=[p(f(d),n)];else{if(n=x.filter[e[s].type].apply(null,e[s].matches),n[R]){for(i=++s;r>i&&!x.relative[e[i].type];i++);return m(s>1&&f(d),s>1&&h(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,i>s&&v(e.slice(s,i)),r>i&&v(e=e.slice(i)),r>i&&h(e))}d.push(n)}return f(d)}function b(e,n){var r=n.length>0,o=e.length>0,a=function(i,a,s,l,u){var d,c,h,p=0,f="0",g=i&&[],m=[],v=P,b=i||o&&x.find.TAG("*",u),y=W+=null==v?1:Math.random()||.1,w=b.length;for(u&&(P=a===M||a||u);f!==w&&null!=(d=b[f]);f++){if(o&&d){for(c=0,a||d.ownerDocument===M||(k(d),s=!L);h=e[c++];)if(h(d,a||M,s)){l.push(d);break}u&&(W=y)}r&&((d=!h&&d)&&p--,i&&g.push(d))}if(p+=f,r&&f!==p){for(c=0;h=n[c++];)h(g,m,a,s);if(i){if(p>0)for(;f--;)g[f]||m[f]||(m[f]=$.call(l));m=_(m)}K.apply(l,m),u&&!i&&m.length>0&&p+n.length>1&&t.uniqueSort(l)}return u&&(W=y,P=v),g};return r?i(a):a}var y,w,x,E,T,S,I,C,P,j,A,k,M,N,L,z,O,H,F,R="sizzle"+1*new Date,D=e.document,W=0,Q=0,G=n(),B=n(),U=n(),Y=function(e,t){return e===t&&(A=!0),0},q=1<<31,X={}.hasOwnProperty,V=[],$=V.pop,Z=V.push,K=V.push,J=V.slice,ee=function(e,t){for(var n=0,i=e.length;i>n;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re="\\["+ne+"*("+ie+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+ne+"*\\]",oe=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+re+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),le=new RegExp("^"+ne+"*,"+ne+"*"),ue=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),de=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),ce=new RegExp(oe),he=new RegExp("^"+ie+"$"),pe={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+re),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},fe=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,_e=/^[^{]+\{\s*\[native \w/,me=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ve=/[+~]/,be=/'|\\/g,ye=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),we=function(e,t,n){var i="0x"+t-65536;return i!==i||n?t:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},xe=function(){k()};try{K.apply(V=J.call(D.childNodes),D.childNodes),V[D.childNodes.length].nodeType}catch(Ee){K={apply:V.length?function(e,t){Z.apply(e,J.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}w=t.support={},T=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},k=t.setDocument=function(e){var t,n,i=e?e.ownerDocument||e:D;return i!==M&&9===i.nodeType&&i.documentElement?(M=i,N=M.documentElement,L=!T(M),(n=M.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",xe,!1):n.attachEvent&&n.attachEvent("onunload",xe)),w.attributes=r(function(e){return e.className="i",!e.getAttribute("className")}),w.getElementsByTagName=r(function(e){return e.appendChild(M.createComment("")),!e.getElementsByTagName("*").length}),w.getElementsByClassName=_e.test(M.getElementsByClassName),w.getById=r(function(e){return N.appendChild(e).id=R,!M.getElementsByName||!M.getElementsByName(R).length}),w.getById?(x.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&L){var n=t.getElementById(e);return n?[n]:[]}},x.filter.ID=function(e){var t=e.replace(ye,we);return function(e){return e.getAttribute("id")===t}}):(delete x.find.ID,x.filter.ID=function(e){var t=e.replace(ye,we);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),x.find.TAG=w.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):w.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},x.find.CLASS=w.getElementsByClassName&&function(e,t){return"undefined"!=typeof t.getElementsByClassName&&L?t.getElementsByClassName(e):void 0},O=[],z=[],(w.qsa=_e.test(M.querySelectorAll))&&(r(function(e){N.appendChild(e).innerHTML="<a id='"+R+"'></a><select id='"+R+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&z.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||z.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+R+"-]").length||z.push("~="),e.querySelectorAll(":checked").length||z.push(":checked"),e.querySelectorAll("a#"+R+"+*").length||z.push(".#.+[+~]")}),r(function(e){var t=M.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&z.push("name"+ne+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||z.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),z.push(",.*:")})),(w.matchesSelector=_e.test(H=N.matches||N.webkitMatchesSelector||N.mozMatchesSelector||N.oMatchesSelector||N.msMatchesSelector))&&r(function(e){w.disconnectedMatch=H.call(e,"div"),H.call(e,"[s!='']:x"),O.push("!=",oe)}),z=z.length&&new RegExp(z.join("|")),O=O.length&&new RegExp(O.join("|")),t=_e.test(N.compareDocumentPosition),F=t||_e.test(N.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=t?function(e,t){if(e===t)return A=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!w.sortDetached&&t.compareDocumentPosition(e)===n?e===M||e.ownerDocument===D&&F(D,e)?-1:t===M||t.ownerDocument===D&&F(D,t)?1:j?ee(j,e)-ee(j,t):0:4&n?-1:1)}:function(e,t){if(e===t)return A=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],l=[t];if(!r||!o)return e===M?-1:t===M?1:r?-1:o?1:j?ee(j,e)-ee(j,t):0;if(r===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[i]===l[i];)i++;return i?a(s[i],l[i]):s[i]===D?-1:l[i]===D?1:0},M):M},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==M&&k(e),n=n.replace(de,"='$1']"),w.matchesSelector&&L&&!U[n+" "]&&(!O||!O.test(n))&&(!z||!z.test(n)))try{var i=H.call(e,n);if(i||w.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(r){}return t(n,M,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==M&&k(e),F(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==M&&k(e);var n=x.attrHandle[t.toLowerCase()],i=n&&X.call(x.attrHandle,t.toLowerCase())?n(e,t,!L):void 0;return void 0!==i?i:w.attributes||!L?e.getAttribute(t):(i=e.getAttributeNode(t))&&i.specified?i.value:null},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],i=0,r=0;if(A=!w.detectDuplicates,j=!w.sortStable&&e.slice(0),e.sort(Y),A){for(;t=e[r++];)t===e[r]&&(i=n.push(r));for(;i--;)e.splice(n[i],1)}return j=null,e},E=t.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i++];)n+=E(t);return n},x=t.selectors={cacheLength:50,createPseudo:i,match:pe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ye,we),e[3]=(e[3]||e[4]||e[5]||"").replace(ye,we),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return pe.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&ce.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ye,we).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=G[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&G(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(r){var o=t.attr(r,e);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var u,d,c,h,p,f,g=o!==a?"nextSibling":"previousSibling",_=t.parentNode,m=s&&t.nodeName.toLowerCase(),v=!l&&!s,b=!1;if(_){if(o){for(;g;){for(h=t;h=h[g];)if(s?h.nodeName.toLowerCase()===m:1===h.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[a?_.firstChild:_.lastChild],a&&v){for(h=_,c=h[R]||(h[R]={}),d=c[h.uniqueID]||(c[h.uniqueID]={}),u=d[e]||[],p=u[0]===W&&u[1],b=p&&u[2],h=p&&_.childNodes[p];h=++p&&h&&h[g]||(b=p=0)||f.pop();)if(1===h.nodeType&&++b&&h===t){d[e]=[W,p,b];break}}else if(v&&(h=t,c=h[R]||(h[R]={}),d=c[h.uniqueID]||(c[h.uniqueID]={}),u=d[e]||[],p=u[0]===W&&u[1],b=p),b===!1)for(;(h=++p&&h&&h[g]||(b=p=0)||f.pop())&&((s?h.nodeName.toLowerCase()!==m:1!==h.nodeType)||!++b||(v&&(c=h[R]||(h[R]={}),d=c[h.uniqueID]||(c[h.uniqueID]={}),d[e]=[W,b]),h!==t)););return b-=r,b===i||b%i===0&&b/i>=0}}},PSEUDO:function(e,n){var r,o=x.pseudos[e]||x.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[R]?o(n):o.length>1?(r=[e,e,"",n],x.setFilters.hasOwnProperty(e.toLowerCase())?i(function(e,t){for(var i,r=o(e,n),a=r.length;a--;)i=ee(e,r[a]),e[i]=!(t[i]=r[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:i(function(e){var t=[],n=[],r=I(e.replace(se,"$1"));return r[R]?i(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:i(function(e){return function(n){return t(e,n).length>0}}),contains:i(function(e){return e=e.replace(ye,we),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:i(function(e){return he.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(ye,we).toLowerCase(),function(t){var n;do if(n=L?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===N},focus:function(e){return e===M.activeElement&&(!M.hasFocus||M.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!x.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return fe.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[0>n?n+t:n]}),even:u(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:u(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},x.pseudos.nth=x.pseudos.eq;for(y in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})x.pseudos[y]=s(y);for(y in{submit:!0,reset:!0})x.pseudos[y]=l(y);return c.prototype=x.filters=x.pseudos,x.setFilters=new c,S=t.tokenize=function(e,n){var i,r,o,a,s,l,u,d=B[e+" "];if(d)return n?0:d.slice(0);for(s=e,l=[],u=x.preFilter;s;){(!i||(r=le.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),l.push(o=[])),i=!1,(r=ue.exec(s))&&(i=r.shift(),o.push({value:i,type:r[0].replace(se," ")}),s=s.slice(i.length));for(a in x.filter)!(r=pe[a].exec(s))||u[a]&&!(r=u[a](r))||(i=r.shift(),o.push({value:i,type:a,matches:r}),s=s.slice(i.length));if(!i)break}return n?s.length:s?t.error(e):B(e,l).slice(0)},I=t.compile=function(e,t){var n,i=[],r=[],o=U[e+" "];if(!o){for(t||(t=S(e)),n=t.length;n--;)o=v(t[n]),o[R]?i.push(o):r.push(o);o=U(e,b(r,i)),o.selector=e}return o},C=t.select=function(e,t,n,i){var r,o,a,s,l,u="function"==typeof e&&e,c=!i&&S(e=u.selector||e);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&w.getById&&9===t.nodeType&&L&&x.relative[o[1].type]){if(t=(x.find.ID(a.matches[0].replace(ye,we),t)||[])[0],!t)return n;u&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(r=pe.needsContext.test(e)?0:o.length;r--&&(a=o[r],!x.relative[s=a.type]);)if((l=x.find[s])&&(i=l(a.matches[0].replace(ye,we),ve.test(o[0].type)&&d(t.parentNode)||t))){if(o.splice(r,1),e=i.length&&h(o),!e)return K.apply(n,i),n;break}}return(u||I(e,c))(i,t,!L,n,!t||ve.test(e)&&d(t.parentNode)||t),n},w.sortStable=R.split("").sort(Y).join("")===R,w.detectDuplicates=!!A,k(),w.sortDetached=r(function(e){return 1&e.compareDocumentPosition(M.createElement("div"))}),r(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){return n?void 0:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),w.attributes&&r(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){return n||"input"!==e.nodeName.toLowerCase()?void 0:e.defaultValue}),r(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var i;return n?void 0:e[t]===!0?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),t}(e);pe.find=ve,pe.expr=ve.selectors,pe.expr[":"]=pe.expr.pseudos,pe.uniqueSort=pe.unique=ve.uniqueSort,pe.text=ve.getText,pe.isXMLDoc=ve.isXML,pe.contains=ve.contains;var be=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&pe(e).is(n))break;i.push(e)}return i},ye=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},we=pe.expr.match.needsContext,xe=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ee=/^.[^:#\[\.,]*$/;pe.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?pe.find.matchesSelector(i,e)?[i]:[]:pe.find.matches(e,pe.grep(t,function(e){return 1===e.nodeType}))},pe.fn.extend({find:function(e){var t,n=[],i=this,r=i.length;if("string"!=typeof e)return this.pushStack(pe(e).filter(function(){for(t=0;r>t;t++)if(pe.contains(i[t],this))return!0}));for(t=0;r>t;t++)pe.find(e,i[t],n);return n=this.pushStack(r>1?pe.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(i(this,e||[],!1))},not:function(e){return this.pushStack(i(this,e||[],!0))},is:function(e){return!!i(this,"string"==typeof e&&we.test(e)?pe(e):e||[],!1).length}});var Te,Se=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,Ie=pe.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||Te,"string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Se.exec(e),!i||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof pe?t[0]:t,pe.merge(this,pe.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:ie,!0)),xe.test(i[1])&&pe.isPlainObject(t))for(i in t)pe.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}if(r=ie.getElementById(i[2]),r&&r.parentNode){if(r.id!==i[2])return Te.find(e);this.length=1,this[0]=r}return this.context=ie,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):pe.isFunction(e)?"undefined"!=typeof n.ready?n.ready(e):e(pe):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),pe.makeArray(e,this))};Ie.prototype=pe.fn,Te=pe(ie);var Ce=/^(?:parents|prev(?:Until|All))/,Pe={children:!0,contents:!0,next:!0,prev:!0};pe.fn.extend({has:function(e){var t,n=pe(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(pe.contains(this,n[t]))return!0})},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=we.test(e)||"string"!=typeof e?pe(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&pe.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?pe.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?pe.inArray(this[0],pe(e)):pe.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(pe.uniqueSort(pe.merge(this.get(),pe(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),pe.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return be(e,"parentNode")},parentsUntil:function(e,t,n){return be(e,"parentNode",n)},next:function(e){return r(e,"nextSibling")},prev:function(e){return r(e,"previousSibling")},nextAll:function(e){return be(e,"nextSibling")},prevAll:function(e){return be(e,"previousSibling")},nextUntil:function(e,t,n){return be(e,"nextSibling",n)},prevUntil:function(e,t,n){return be(e,"previousSibling",n)},siblings:function(e){return ye((e.parentNode||{}).firstChild,e)},children:function(e){return ye(e.firstChild)},contents:function(e){return pe.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:pe.merge([],e.childNodes)}},function(e,t){pe.fn[e]=function(n,i){var r=pe.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=pe.filter(i,r)),this.length>1&&(Pe[e]||(r=pe.uniqueSort(r)),Ce.test(e)&&(r=r.reverse())),this.pushStack(r)}});var je=/\S+/g;pe.Callbacks=function(e){e="string"==typeof e?o(e):pe.extend({},e);var t,n,i,r,a=[],s=[],l=-1,u=function(){for(r=e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,r&&(a=n?[]:"")},d={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function i(t){pe.each(t,function(t,n){pe.isFunction(n)?e.unique&&d.has(n)||a.push(n):n&&n.length&&"string"!==pe.type(n)&&i(n)})}(arguments),n&&!t&&u()),this},remove:function(){return pe.each(arguments,function(e,t){for(var n;(n=pe.inArray(t,a,n))>-1;)a.splice(n,1),l>=n&&l--}),this},has:function(e){return e?pe.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return r=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return r=!0,n||d.disable(),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||u()),this},fire:function(){return d.fireWith(this,arguments),this},fired:function(){return!!i}};return d},pe.extend({Deferred:function(e){var t=[["resolve","done",pe.Callbacks("once memory"),"resolved"],["reject","fail",pe.Callbacks("once memory"),"rejected"],["notify","progress",pe.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return pe.Deferred(function(n){pe.each(t,function(t,o){var a=pe.isFunction(e[t])&&e[t];r[o[1]](function(){var e=a&&a.apply(this,arguments);e&&pe.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===i?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?pe.extend(e,i):i}},r={};return i.pipe=i.then,pe.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=re.call(arguments),a=o.length,s=1!==a||e&&pe.isFunction(e.promise)?a:0,l=1===s?e:pe.Deferred(),u=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?re.call(arguments):r,i===t?l.notifyWith(n,i):--s||l.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&pe.isFunction(o[r].promise)?o[r].promise().progress(u(r,n,t)).done(u(r,i,o)).fail(l.reject):--s;return s||l.resolveWith(i,o),l.promise()}});var Ae;pe.fn.ready=function(e){return pe.ready.promise().done(e),this},pe.extend({isReady:!1,readyWait:1,holdReady:function(e){e?pe.readyWait++:pe.ready(!0)},ready:function(e){(e===!0?--pe.readyWait:pe.isReady)||(pe.isReady=!0,e!==!0&&--pe.readyWait>0||(Ae.resolveWith(ie,[pe]),pe.fn.triggerHandler&&(pe(ie).triggerHandler("ready"),pe(ie).off("ready"))))}}),pe.ready.promise=function(t){if(!Ae)if(Ae=pe.Deferred(),"complete"===ie.readyState||"loading"!==ie.readyState&&!ie.documentElement.doScroll)e.setTimeout(pe.ready);else if(ie.addEventListener)ie.addEventListener("DOMContentLoaded",s),e.addEventListener("load",s);else{ie.attachEvent("onreadystatechange",s),e.attachEvent("onload",s);var n=!1;try{n=null==e.frameElement&&ie.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!pe.isReady){try{n.doScroll("left")}catch(t){return e.setTimeout(r,50)}a(),pe.ready()}}()}return Ae.promise(t)},pe.ready.promise();var ke;for(ke in pe(ce))break;ce.ownFirst="0"===ke,ce.inlineBlockNeedsLayout=!1,pe(function(){var e,t,n,i;n=ie.getElementsByTagName("body")[0],n&&n.style&&(t=ie.createElement("div"),i=ie.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",ce.inlineBlockNeedsLayout=e=3===t.offsetWidth,e&&(n.style.zoom=1)),n.removeChild(i))}),function(){var e=ie.createElement("div");ce.deleteExpando=!0;try{delete e.test}catch(t){ce.deleteExpando=!1}e=null}();var Me=function(e){var t=pe.noData[(e.nodeName+" ").toLowerCase()],n=+e.nodeType||1;return 1!==n&&9!==n?!1:!t||t!==!0&&e.getAttribute("classid")===t},Ne=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Le=/([A-Z])/g;pe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?pe.cache[e[pe.expando]]:e[pe.expando],!!e&&!u(e)},data:function(e,t,n){return d(e,t,n)},removeData:function(e,t){return c(e,t)},_data:function(e,t,n){return d(e,t,n,!0)},_removeData:function(e,t){return c(e,t,!0)}}),pe.fn.extend({data:function(e,t){var n,i,r,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(r=pe.data(o),1===o.nodeType&&!pe._data(o,"parsedAttrs"))){for(n=a.length;n--;)a[n]&&(i=a[n].name,0===i.indexOf("data-")&&(i=pe.camelCase(i.slice(5)),l(o,i,r[i])));pe._data(o,"parsedAttrs",!0)}return r}return"object"==typeof e?this.each(function(){pe.data(this,e)}):arguments.length>1?this.each(function(){pe.data(this,e,t)}):o?l(o,e,pe.data(o,e)):void 0},removeData:function(e){return this.each(function(){pe.removeData(this,e)})}}),pe.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=pe._data(e,t),n&&(!i||pe.isArray(n)?i=pe._data(e,t,pe.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=pe.queue(e,t),i=n.length,r=n.shift(),o=pe._queueHooks(e,t),a=function(){pe.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return pe._data(e,n)||pe._data(e,n,{empty:pe.Callbacks("once memory").add(function(){pe._removeData(e,t+"queue"),pe._removeData(e,n)})})}}),pe.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?pe.queue(this[0],e):void 0===t?this:this.each(function(){var n=pe.queue(this,e,t);pe._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&pe.dequeue(this,e)})},dequeue:function(e){return this.each(function(){pe.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=pe.Deferred(),o=this,a=this.length,s=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=pe._data(o[a],e+"queueHooks"),n&&n.empty&&(i++,n.empty.add(s));return s(),r.promise(t)}}),function(){var e;ce.shrinkWrapBlocks=function(){if(null!=e)return e;e=!1;var t,n,i;return n=ie.getElementsByTagName("body")[0],n&&n.style?(t=ie.createElement("div"),i=ie.createElement("div"),i.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",n.appendChild(i).appendChild(t),"undefined"!=typeof t.style.zoom&&(t.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",t.appendChild(ie.createElement("div")).style.width="5px",e=3!==t.offsetWidth),n.removeChild(i),e):void 0}}();var ze=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Oe=new RegExp("^(?:([+-])=|)("+ze+")([a-z%]*)$","i"),He=["Top","Right","Bottom","Left"],Fe=function(e,t){return e=t||e,"none"===pe.css(e,"display")||!pe.contains(e.ownerDocument,e)},Re=function(e,t,n,i,r,o,a){var s=0,l=e.length,u=null==n;if("object"===pe.type(n)){r=!0;for(s in n)Re(e,t,s,n[s],!0,o,a)}else if(void 0!==i&&(r=!0,pe.isFunction(i)||(a=!0),u&&(a?(t.call(e,i),t=null):(u=t,t=function(e,t,n){return u.call(pe(e),n)})),t))for(;l>s;s++)t(e[s],n,a?i:i.call(e[s],s,t(e[s],n)));return r?e:u?t.call(e):l?t(e[0],n):o},De=/^(?:checkbox|radio)$/i,We=/<([\w:-]+)/,Qe=/^$|\/(?:java|ecma)script/i,Ge=/^\s+/,Be="abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";!function(){var e=ie.createElement("div"),t=ie.createDocumentFragment(),n=ie.createElement("input");e.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",ce.leadingWhitespace=3===e.firstChild.nodeType,ce.tbody=!e.getElementsByTagName("tbody").length,ce.htmlSerialize=!!e.getElementsByTagName("link").length,ce.html5Clone="<:nav></:nav>"!==ie.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),ce.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",ce.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),n=ie.createElement("input"),n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),ce.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.noCloneEvent=!!e.addEventListener,e[pe.expando]=1,ce.attributes=!e.getAttribute(pe.expando)}();var Ue={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ce.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]};Ue.optgroup=Ue.option,Ue.tbody=Ue.tfoot=Ue.colgroup=Ue.caption=Ue.thead,Ue.th=Ue.td;var Ye=/<|&#?\w+;/,qe=/<tbody/i;!function(){var t,n,i=ie.createElement("div");for(t in{submit:!0,change:!0,focusin:!0})n="on"+t,(ce[t]=n in e)||(i.setAttribute(n,"t"),ce[t]=i.attributes[n].expando===!1);i=null}();var Xe=/^(?:input|select|textarea)$/i,Ve=/^key/,$e=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ze=/^(?:focusinfocus|focusoutblur)$/,Ke=/^([^.]*)(?:\.(.+)|)/;pe.event={global:{},add:function(e,t,n,i,r){var o,a,s,l,u,d,c,h,p,f,g,_=pe._data(e);if(_){for(n.handler&&(l=n,n=l.handler,r=l.selector),n.guid||(n.guid=pe.guid++),(a=_.events)||(a=_.events={}),(d=_.handle)||(d=_.handle=function(e){return"undefined"==typeof pe||e&&pe.event.triggered===e.type?void 0:pe.event.dispatch.apply(d.elem,arguments)},d.elem=e),t=(t||"").match(je)||[""],s=t.length;s--;)o=Ke.exec(t[s])||[],p=g=o[1],f=(o[2]||"").split(".").sort(),p&&(u=pe.event.special[p]||{},p=(r?u.delegateType:u.bindType)||p,u=pe.event.special[p]||{},c=pe.extend({type:p,origType:g,data:i,handler:n,guid:n.guid,
selector:r,needsContext:r&&pe.expr.match.needsContext.test(r),namespace:f.join(".")},l),(h=a[p])||(h=a[p]=[],h.delegateCount=0,u.setup&&u.setup.call(e,i,f,d)!==!1||(e.addEventListener?e.addEventListener(p,d,!1):e.attachEvent&&e.attachEvent("on"+p,d))),u.add&&(u.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,c):h.push(c),pe.event.global[p]=!0);e=null}},remove:function(e,t,n,i,r){var o,a,s,l,u,d,c,h,p,f,g,_=pe.hasData(e)&&pe._data(e);if(_&&(d=_.events)){for(t=(t||"").match(je)||[""],u=t.length;u--;)if(s=Ke.exec(t[u])||[],p=g=s[1],f=(s[2]||"").split(".").sort(),p){for(c=pe.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,h=d[p]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=h.length;o--;)a=h[o],!r&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||i&&i!==a.selector&&("**"!==i||!a.selector)||(h.splice(o,1),a.selector&&h.delegateCount--,c.remove&&c.remove.call(e,a));l&&!h.length&&(c.teardown&&c.teardown.call(e,f,_.handle)!==!1||pe.removeEvent(e,p,_.handle),delete d[p])}else for(p in d)pe.event.remove(e,p+t[u],n,i,!0);pe.isEmptyObject(d)&&(delete _.handle,pe._removeData(e,"events"))}},trigger:function(t,n,i,r){var o,a,s,l,u,d,c,h=[i||ie],p=de.call(t,"type")?t.type:t,f=de.call(t,"namespace")?t.namespace.split("."):[];if(s=d=i=i||ie,3!==i.nodeType&&8!==i.nodeType&&!Ze.test(p+pe.event.triggered)&&(p.indexOf(".")>-1&&(f=p.split("."),p=f.shift(),f.sort()),a=p.indexOf(":")<0&&"on"+p,t=t[pe.expando]?t:new pe.Event(p,"object"==typeof t&&t),t.isTrigger=r?2:3,t.namespace=f.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:pe.makeArray(n,[t]),u=pe.event.special[p]||{},r||!u.trigger||u.trigger.apply(i,n)!==!1)){if(!r&&!u.noBubble&&!pe.isWindow(i)){for(l=u.delegateType||p,Ze.test(l+p)||(s=s.parentNode);s;s=s.parentNode)h.push(s),d=s;d===(i.ownerDocument||ie)&&h.push(d.defaultView||d.parentWindow||e)}for(c=0;(s=h[c++])&&!t.isPropagationStopped();)t.type=c>1?l:u.bindType||p,o=(pe._data(s,"events")||{})[t.type]&&pe._data(s,"handle"),o&&o.apply(s,n),o=a&&s[a],o&&o.apply&&Me(s)&&(t.result=o.apply(s,n),t.result===!1&&t.preventDefault());if(t.type=p,!r&&!t.isDefaultPrevented()&&(!u._default||u._default.apply(h.pop(),n)===!1)&&Me(i)&&a&&i[p]&&!pe.isWindow(i)){d=i[a],d&&(i[a]=null),pe.event.triggered=p;try{i[p]()}catch(g){}pe.event.triggered=void 0,d&&(i[a]=d)}return t.result}},dispatch:function(e){e=pe.event.fix(e);var t,n,i,r,o,a=[],s=re.call(arguments),l=(pe._data(this,"events")||{})[e.type]||[],u=pe.event.special[e.type]||{};if(s[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=pe.event.handlers.call(this,e,l),t=0;(r=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!e.isImmediatePropagationStopped();)(!e.rnamespace||e.rnamespace.test(o.namespace))&&(e.handleObj=o,e.data=o.data,i=((pe.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,s),void 0!==i&&(e.result=i)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,i,r,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(i=[],n=0;s>n;n++)o=t[n],r=o.selector+" ",void 0===i[r]&&(i[r]=o.needsContext?pe(r,this).index(l)>-1:pe.find(r,this,null,[l]).length),i[r]&&i.push(o);i.length&&a.push({elem:l,handlers:i})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},fix:function(e){if(e[pe.expando])return e;var t,n,i,r=e.type,o=e,a=this.fixHooks[r];for(a||(this.fixHooks[r]=a=$e.test(r)?this.mouseHooks:Ve.test(r)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new pe.Event(o),t=i.length;t--;)n=i[t],e[n]=o[n];return e.target||(e.target=o.srcElement||ie),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,a.filter?a.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,r,o=t.button,a=t.fromElement;return null==e.pageX&&null!=t.clientX&&(i=e.target.ownerDocument||ie,r=i.documentElement,n=i.body,e.pageX=t.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?t.toElement:a),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==y()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===y()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return pe.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return pe.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n){var i=pe.extend(new pe.Event,n,{type:e,isSimulated:!0});pe.event.trigger(i,null,t),i.isDefaultPrevented()&&n.preventDefault()}},pe.removeEvent=ie.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},pe.Event=function(e,t){return this instanceof pe.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?v:b):this.type=e,t&&pe.extend(this,t),this.timeStamp=e&&e.timeStamp||pe.now(),void(this[pe.expando]=!0)):new pe.Event(e,t)},pe.Event.prototype={constructor:pe.Event,isDefaultPrevented:b,isPropagationStopped:b,isImmediatePropagationStopped:b,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=v,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=v,e&&!this.isSimulated&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=v,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},pe.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){pe.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return(!r||r!==i&&!pe.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),ce.submit||(pe.event.special.submit={setup:function(){return pe.nodeName(this,"form")?!1:void pe.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,n=pe.nodeName(t,"input")||pe.nodeName(t,"button")?pe.prop(t,"form"):void 0;n&&!pe._data(n,"submit")&&(pe.event.add(n,"submit._submit",function(e){e._submitBubble=!0}),pe._data(n,"submit",!0))})},postDispatch:function(e){e._submitBubble&&(delete e._submitBubble,this.parentNode&&!e.isTrigger&&pe.event.simulate("submit",this.parentNode,e))},teardown:function(){return pe.nodeName(this,"form")?!1:void pe.event.remove(this,"._submit")}}),ce.change||(pe.event.special.change={setup:function(){return Xe.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(pe.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._justChanged=!0)}),pe.event.add(this,"click._change",function(e){this._justChanged&&!e.isTrigger&&(this._justChanged=!1),pe.event.simulate("change",this,e)})),!1):void pe.event.add(this,"beforeactivate._change",function(e){var t=e.target;Xe.test(t.nodeName)&&!pe._data(t,"change")&&(pe.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||pe.event.simulate("change",this.parentNode,e)}),pe._data(t,"change",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return pe.event.remove(this,"._change"),!Xe.test(this.nodeName)}}),ce.focusin||pe.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){pe.event.simulate(t,e.target,pe.event.fix(e))};pe.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=pe._data(i,t);r||i.addEventListener(e,n,!0),pe._data(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=pe._data(i,t)-1;r?pe._data(i,t,r):(i.removeEventListener(e,n,!0),pe._removeData(i,t))}}}),pe.fn.extend({on:function(e,t,n,i){return w(this,e,t,n,i)},one:function(e,t,n,i){return w(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,pe(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return(t===!1||"function"==typeof t)&&(n=t,t=void 0),n===!1&&(n=b),this.each(function(){pe.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){pe.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];return n?pe.event.trigger(e,t,n,!0):void 0}});var Je=/ jQuery\d+="(?:null|\d+)"/g,et=new RegExp("<(?:"+Be+")[\\s/>]","i"),tt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,nt=/<script|<style|<link/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,rt=/^true\/(.*)/,ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,at=p(ie),st=at.appendChild(ie.createElement("div"));pe.extend({htmlPrefilter:function(e){return e.replace(tt,"<$1></$2>")},clone:function(e,t,n){var i,r,o,a,s,l=pe.contains(e.ownerDocument,e);if(ce.html5Clone||pe.isXMLDoc(e)||!et.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(st.innerHTML=e.outerHTML,st.removeChild(o=st.firstChild)),!(ce.noCloneEvent&&ce.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||pe.isXMLDoc(e)))for(i=f(o),s=f(e),a=0;null!=(r=s[a]);++a)i[a]&&I(r,i[a]);if(t)if(n)for(s=s||f(e),i=i||f(o),a=0;null!=(r=s[a]);a++)S(r,i[a]);else S(e,o);return i=f(o,"script"),i.length>0&&g(i,!l&&f(e,"script")),i=s=r=null,o},cleanData:function(e,t){for(var n,i,r,o,a=0,s=pe.expando,l=pe.cache,u=ce.attributes,d=pe.event.special;null!=(n=e[a]);a++)if((t||Me(n))&&(r=n[s],o=r&&l[r])){if(o.events)for(i in o.events)d[i]?pe.event.remove(n,i):pe.removeEvent(n,i,o.handle);l[r]&&(delete l[r],u||"undefined"==typeof n.removeAttribute?n[s]=void 0:n.removeAttribute(s),ne.push(r))}}}),pe.fn.extend({domManip:C,detach:function(e){return P(this,e,!0)},remove:function(e){return P(this,e)},text:function(e){return Re(this,function(e){return void 0===e?pe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ie).createTextNode(e))},null,e,arguments.length)},append:function(){return C(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=x(this,e);t.appendChild(e)}})},prepend:function(){return C(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=x(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return C(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return C(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&pe.cleanData(f(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&pe.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return pe.clone(this,e,t)})},html:function(e){return Re(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e)return 1===t.nodeType?t.innerHTML.replace(Je,""):void 0;if("string"==typeof e&&!nt.test(e)&&(ce.htmlSerialize||!et.test(e))&&(ce.leadingWhitespace||!Ge.test(e))&&!Ue[(We.exec(e)||["",""])[1].toLowerCase()]){e=pe.htmlPrefilter(e);try{for(;i>n;n++)t=this[n]||{},1===t.nodeType&&(pe.cleanData(f(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return C(this,arguments,function(t){var n=this.parentNode;pe.inArray(this,e)<0&&(pe.cleanData(f(this)),n&&n.replaceChild(t,this))},e)}}),pe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){pe.fn[e]=function(e){for(var n,i=0,r=[],o=pe(e),a=o.length-1;a>=i;i++)n=i===a?this:this.clone(!0),pe(o[i])[t](n),ae.apply(r,n.get());return this.pushStack(r)}});var lt,ut={HTML:"block",BODY:"block"},dt=/^margin/,ct=new RegExp("^("+ze+")(?!px)[a-z%]+$","i"),ht=function(e,t,n,i){var r,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];r=n.apply(e,i||[]);for(o in t)e.style[o]=a[o];return r},pt=ie.documentElement;!function(){function t(){var t,d,c=ie.documentElement;c.appendChild(l),u.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",n=r=s=!1,i=a=!0,e.getComputedStyle&&(d=e.getComputedStyle(u),n="1%"!==(d||{}).top,s="2px"===(d||{}).marginLeft,r="4px"===(d||{width:"4px"}).width,u.style.marginRight="50%",i="4px"===(d||{marginRight:"4px"}).marginRight,t=u.appendChild(ie.createElement("div")),t.style.cssText=u.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",u.style.width="1px",a=!parseFloat((e.getComputedStyle(t)||{}).marginRight),u.removeChild(t)),u.style.display="none",o=0===u.getClientRects().length,o&&(u.style.display="",u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",t=u.getElementsByTagName("td"),t[0].style.cssText="margin:0;border:0;padding:0;display:none",o=0===t[0].offsetHeight,o&&(t[0].style.display="",t[1].style.display="none",o=0===t[0].offsetHeight)),c.removeChild(l)}var n,i,r,o,a,s,l=ie.createElement("div"),u=ie.createElement("div");u.style&&(u.style.cssText="float:left;opacity:.5",ce.opacity="0.5"===u.style.opacity,ce.cssFloat=!!u.style.cssFloat,u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",ce.clearCloneStyle="content-box"===u.style.backgroundClip,l=ie.createElement("div"),l.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",u.innerHTML="",l.appendChild(u),ce.boxSizing=""===u.style.boxSizing||""===u.style.MozBoxSizing||""===u.style.WebkitBoxSizing,pe.extend(ce,{reliableHiddenOffsets:function(){return null==n&&t(),o},boxSizingReliable:function(){return null==n&&t(),r},pixelMarginRight:function(){return null==n&&t(),i},pixelPosition:function(){return null==n&&t(),n},reliableMarginRight:function(){return null==n&&t(),a},reliableMarginLeft:function(){return null==n&&t(),s}}))}();var ft,gt,_t=/^(top|right|bottom|left)$/;e.getComputedStyle?(ft=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},gt=function(e,t,n){var i,r,o,a,s=e.style;return n=n||ft(e),a=n?n.getPropertyValue(t)||n[t]:void 0,""!==a&&void 0!==a||pe.contains(e.ownerDocument,e)||(a=pe.style(e,t)),n&&!ce.pixelMarginRight()&&ct.test(a)&&dt.test(t)&&(i=s.width,r=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=i,s.minWidth=r,s.maxWidth=o),void 0===a?a:a+""}):pt.currentStyle&&(ft=function(e){return e.currentStyle},gt=function(e,t,n){var i,r,o,a,s=e.style;return n=n||ft(e),a=n?n[t]:void 0,null==a&&s&&s[t]&&(a=s[t]),ct.test(a)&&!_t.test(t)&&(i=s.left,r=e.runtimeStyle,o=r&&r.left,o&&(r.left=e.currentStyle.left),s.left="fontSize"===t?"1em":a,a=s.pixelLeft+"px",s.left=i,o&&(r.left=o)),void 0===a?a:a+""||"auto"});var mt=/alpha\([^)]*\)/i,vt=/opacity\s*=\s*([^)]*)/i,bt=/^(none|table(?!-c[ea]).+)/,yt=new RegExp("^("+ze+")(.*)$","i"),wt={position:"absolute",visibility:"hidden",display:"block"},xt={letterSpacing:"0",fontWeight:"400"},Et=["Webkit","O","Moz","ms"],Tt=ie.createElement("div").style;pe.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=gt(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ce.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,a,s=pe.camelCase(t),l=e.style;if(t=pe.cssProps[s]||(pe.cssProps[s]=M(s)||s),a=pe.cssHooks[t]||pe.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(r=a.get(e,!1,i))?r:l[t];if(o=typeof n,"string"===o&&(r=Oe.exec(n))&&r[1]&&(n=h(e,t,r),o="number"),null!=n&&n===n&&("number"===o&&(n+=r&&r[3]||(pe.cssNumber[s]?"":"px")),ce.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),!(a&&"set"in a&&void 0===(n=a.set(e,n,i)))))try{l[t]=n}catch(u){}}},css:function(e,t,n,i){var r,o,a,s=pe.camelCase(t);return t=pe.cssProps[s]||(pe.cssProps[s]=M(s)||s),a=pe.cssHooks[t]||pe.cssHooks[s],a&&"get"in a&&(o=a.get(e,!0,n)),void 0===o&&(o=gt(e,t,i)),"normal"===o&&t in xt&&(o=xt[t]),""===n||n?(r=parseFloat(o),n===!0||isFinite(r)?r||0:o):o}}),pe.each(["height","width"],function(e,t){pe.cssHooks[t]={get:function(e,n,i){return n?bt.test(pe.css(e,"display"))&&0===e.offsetWidth?ht(e,wt,function(){return O(e,t,i)}):O(e,t,i):void 0},set:function(e,n,i){var r=i&&ft(e);return L(e,n,i?z(e,t,i,ce.boxSizing&&"border-box"===pe.css(e,"boxSizing",!1,r),r):0)}}}),ce.opacity||(pe.cssHooks.opacity={get:function(e,t){return vt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=pe.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===pe.trim(o.replace(mt,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||i&&!i.filter)||(n.filter=mt.test(o)?o.replace(mt,r):o+" "+r)}}),pe.cssHooks.marginRight=k(ce.reliableMarginRight,function(e,t){return t?ht(e,{display:"inline-block"},gt,[e,"marginRight"]):void 0}),pe.cssHooks.marginLeft=k(ce.reliableMarginLeft,function(e,t){return t?(parseFloat(gt(e,"marginLeft"))||(pe.contains(e.ownerDocument,e)?e.getBoundingClientRect().left-ht(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}):0))+"px":void 0}),pe.each({margin:"",padding:"",border:"Width"},function(e,t){pe.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[e+He[i]+t]=o[i]||o[i-2]||o[0];return r}},dt.test(e)||(pe.cssHooks[e+t].set=L)}),pe.fn.extend({css:function(e,t){return Re(this,function(e,t,n){var i,r,o={},a=0;if(pe.isArray(t)){for(i=ft(e),r=t.length;r>a;a++)o[t[a]]=pe.css(e,t[a],!1,i);return o}return void 0!==n?pe.style(e,t,n):pe.css(e,t)},e,t,arguments.length>1)},show:function(){return N(this,!0)},hide:function(){return N(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Fe(this)?pe(this).show():pe(this).hide()})}}),pe.Tween=H,H.prototype={constructor:H,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||pe.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(pe.cssNumber[n]?"":"px")},cur:function(){var e=H.propHooks[this.prop];return e&&e.get?e.get(this):H.propHooks._default.get(this)},run:function(e){var t,n=H.propHooks[this.prop];return this.options.duration?this.pos=t=pe.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):H.propHooks._default.set(this),this}},H.prototype.init.prototype=H.prototype,H.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=pe.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){pe.fx.step[e.prop]?pe.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[pe.cssProps[e.prop]]&&!pe.cssHooks[e.prop]?e.elem[e.prop]=e.now:pe.style(e.elem,e.prop,e.now+e.unit)}}},H.propHooks.scrollTop=H.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},pe.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},pe.fx=H.prototype.init,pe.fx.step={};var St,It,Ct=/^(?:toggle|show|hide)$/,Pt=/queueHooks$/;pe.Animation=pe.extend(G,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return h(n.elem,e,Oe.exec(t),n),n}]},tweener:function(e,t){pe.isFunction(e)?(t=e,e=["*"]):e=e.match(je);for(var n,i=0,r=e.length;r>i;i++)n=e[i],G.tweeners[n]=G.tweeners[n]||[],G.tweeners[n].unshift(t)},prefilters:[W],prefilter:function(e,t){t?G.prefilters.unshift(e):G.prefilters.push(e)}}),pe.speed=function(e,t,n){var i=e&&"object"==typeof e?pe.extend({},e):{complete:n||!n&&t||pe.isFunction(e)&&e,duration:e,easing:n&&t||t&&!pe.isFunction(t)&&t};return i.duration=pe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in pe.fx.speeds?pe.fx.speeds[i.duration]:pe.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){pe.isFunction(i.old)&&i.old.call(this),i.queue&&pe.dequeue(this,i.queue)},i},pe.fn.extend({fadeTo:function(e,t,n,i){return this.filter(Fe).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=pe.isEmptyObject(e),o=pe.speed(t,n,i),a=function(){var t=G(this,pe.extend({},e),o);(r||pe._data(this,"finish"))&&t.stop(!0)};return a.finish=a,r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=pe.timers,a=pe._data(this);if(r)a[r]&&a[r].stop&&i(a[r]);else for(r in a)a[r]&&a[r].stop&&Pt.test(r)&&i(a[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));(t||!n)&&pe.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=pe._data(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=pe.timers,a=i?i.length:0;for(n.finish=!0,pe.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),pe.each(["toggle","show","hide"],function(e,t){var n=pe.fn[t];pe.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(R(t,!0),e,i,r)}}),pe.each({slideDown:R("show"),slideUp:R("hide"),slideToggle:R("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){pe.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),pe.timers=[],pe.fx.tick=function(){var e,t=pe.timers,n=0;for(St=pe.now();n<t.length;n++)e=t[n],e()||t[n]!==e||t.splice(n--,1);t.length||pe.fx.stop(),St=void 0},pe.fx.timer=function(e){pe.timers.push(e),e()?pe.fx.start():pe.timers.pop()},pe.fx.interval=13,pe.fx.start=function(){It||(It=e.setInterval(pe.fx.tick,pe.fx.interval))},pe.fx.stop=function(){e.clearInterval(It),It=null},pe.fx.speeds={slow:600,fast:200,_default:400},pe.fn.delay=function(t,n){return t=pe.fx?pe.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,i){var r=e.setTimeout(n,t);i.stop=function(){e.clearTimeout(r)}})},function(){var e,t=ie.createElement("input"),n=ie.createElement("div"),i=ie.createElement("select"),r=i.appendChild(ie.createElement("option"));n=ie.createElement("div"),n.setAttribute("className","t"),n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=n.getElementsByTagName("a")[0],t.setAttribute("type","checkbox"),n.appendChild(t),e=n.getElementsByTagName("a")[0],e.style.cssText="top:1px",ce.getSetAttribute="t"!==n.className,ce.style=/top/.test(e.getAttribute("style")),ce.hrefNormalized="/a"===e.getAttribute("href"),ce.checkOn=!!t.value,ce.optSelected=r.selected,ce.enctype=!!ie.createElement("form").enctype,i.disabled=!0,ce.optDisabled=!r.disabled,t=ie.createElement("input"),t.setAttribute("value",""),ce.input=""===t.getAttribute("value"),t.value="t",t.setAttribute("type","radio"),ce.radioValue="t"===t.value}();var jt=/\r/g;pe.fn.extend({val:function(e){var t,n,i,r=this[0];{if(arguments.length)return i=pe.isFunction(e),this.each(function(n){var r;1===this.nodeType&&(r=i?e.call(this,n,pe(this).val()):e,null==r?r="":"number"==typeof r?r+="":pe.isArray(r)&&(r=pe.map(r,function(e){return null==e?"":e+""})),t=pe.valHooks[this.type]||pe.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))});if(r)return t=pe.valHooks[r.type]||pe.valHooks[r.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(jt,""):null==n?"":n)}}}),pe.extend({valHooks:{option:{get:function(e){var t=pe.find.attr(e,"value");return null!=t?t:pe.trim(pe.text(e))}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,l=0>r?s:o?r:0;s>l;l++)if(n=i[l],(n.selected||l===r)&&(ce.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!pe.nodeName(n.parentNode,"optgroup"))){if(t=pe(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=pe.makeArray(t),a=r.length;a--;)if(i=r[a],pe.inArray(pe.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(s){i.scrollHeight}else i.selected=!1;return n||(e.selectedIndex=-1),r}}}}),pe.each(["radio","checkbox"],function(){pe.valHooks[this]={set:function(e,t){return pe.isArray(t)?e.checked=pe.inArray(pe(e).val(),t)>-1:void 0}},ce.checkOn||(pe.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var At,kt,Mt=pe.expr.attrHandle,Nt=/^(?:checked|selected)$/i,Lt=ce.getSetAttribute,zt=ce.input;pe.fn.extend({attr:function(e,t){return Re(this,pe.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){pe.removeAttr(this,e)})}}),pe.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?pe.prop(e,t,n):(1===o&&pe.isXMLDoc(e)||(t=t.toLowerCase(),r=pe.attrHooks[t]||(pe.expr.match.bool.test(t)?kt:At)),void 0!==n?null===n?void pe.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:(i=pe.find.attr(e,t),null==i?void 0:i))},attrHooks:{type:{set:function(e,t){if(!ce.radioValue&&"radio"===t&&pe.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i,r=0,o=t&&t.match(je);if(o&&1===e.nodeType)for(;n=o[r++];)i=pe.propFix[n]||n,pe.expr.match.bool.test(n)?zt&&Lt||!Nt.test(n)?e[i]=!1:e[pe.camelCase("default-"+n)]=e[i]=!1:pe.attr(e,n,""),e.removeAttribute(Lt?n:i)}}),kt={set:function(e,t,n){return t===!1?pe.removeAttr(e,n):zt&&Lt||!Nt.test(n)?e.setAttribute(!Lt&&pe.propFix[n]||n,n):e[pe.camelCase("default-"+n)]=e[n]=!0,n}},pe.each(pe.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Mt[t]||pe.find.attr;zt&&Lt||!Nt.test(t)?Mt[t]=function(e,t,i){var r,o;return i||(o=Mt[t],Mt[t]=r,r=null!=n(e,t,i)?t.toLowerCase():null,Mt[t]=o),r}:Mt[t]=function(e,t,n){return n?void 0:e[pe.camelCase("default-"+t)]?t.toLowerCase():null}}),zt&&Lt||(pe.attrHooks.value={set:function(e,t,n){return pe.nodeName(e,"input")?void(e.defaultValue=t):At&&At.set(e,t,n)}}),Lt||(At={set:function(e,t,n){var i=e.getAttributeNode(n);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(n)),i.value=t+="","value"===n||t===e.getAttribute(n)?t:void 0}},Mt.id=Mt.name=Mt.coords=function(e,t,n){var i;return n?void 0:(i=e.getAttributeNode(t))&&""!==i.value?i.value:null},pe.valHooks.button={get:function(e,t){var n=e.getAttributeNode(t);return n&&n.specified?n.value:void 0},set:At.set},pe.attrHooks.contenteditable={set:function(e,t,n){At.set(e,""===t?!1:t,n)}},pe.each(["width","height"],function(e,t){pe.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),ce.style||(pe.attrHooks.style={get:function(e){return e.style.cssText||void 0},set:function(e,t){return e.style.cssText=t+""}});var Ot=/^(?:input|select|textarea|button|object)$/i,Ht=/^(?:a|area)$/i;pe.fn.extend({prop:function(e,t){return Re(this,pe.prop,e,t,arguments.length>1)},removeProp:function(e){return e=pe.propFix[e]||e,this.each(function(){try{this[e]=void 0,delete this[e]}catch(t){}})}}),pe.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&pe.isXMLDoc(e)||(t=pe.propFix[t]||t,r=pe.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=pe.find.attr(e,"tabindex");return t?parseInt(t,10):Ot.test(e.nodeName)||Ht.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ce.hrefNormalized||pe.each(["href","src"],function(e,t){pe.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ce.optSelected||(pe.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),pe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){pe.propFix[this.toLowerCase()]=this}),ce.enctype||(pe.propFix.enctype="encoding");var Ft=/[\t\r\n\f]/g;pe.fn.extend({addClass:function(e){var t,n,i,r,o,a,s,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).addClass(e.call(this,t,B(this)))});if("string"==typeof e&&e)for(t=e.match(je)||[];n=this[l++];)if(r=B(n),i=1===n.nodeType&&(" "+r+" ").replace(Ft," ")){for(a=0;o=t[a++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s=pe.trim(i),r!==s&&pe.attr(n,"class",s)}return this},removeClass:function(e){var t,n,i,r,o,a,s,l=0;if(pe.isFunction(e))return this.each(function(t){pe(this).removeClass(e.call(this,t,B(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(je)||[];n=this[l++];)if(r=B(n),i=1===n.nodeType&&(" "+r+" ").replace(Ft," ")){for(a=0;o=t[a++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");s=pe.trim(i),r!==s&&pe.attr(n,"class",s)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):pe.isFunction(e)?this.each(function(n){pe(this).toggleClass(e.call(this,n,B(this),t),t)}):this.each(function(){var t,i,r,o;if("string"===n)for(i=0,r=pe(this),o=e.match(je)||[];t=o[i++];)r.hasClass(t)?r.removeClass(t):r.addClass(t);else(void 0===e||"boolean"===n)&&(t=B(this),t&&pe._data(this,"__className__",t),pe.attr(this,"class",t||e===!1?"":pe._data(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+B(n)+" ").replace(Ft," ").indexOf(t)>-1)return!0;return!1}}),pe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){pe.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),pe.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}});var Rt=e.location,Dt=pe.now(),Wt=/\?/,Qt=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;pe.parseJSON=function(t){if(e.JSON&&e.JSON.parse)return e.JSON.parse(t+"");var n,i=null,r=pe.trim(t+"");return r&&!pe.trim(r.replace(Qt,function(e,t,r,o){return n&&t&&(i=0),0===i?e:(n=r||t,i+=!o-!r,"")}))?Function("return "+r)():pe.error("Invalid JSON: "+t)},pe.parseXML=function(t){var n,i;if(!t||"string"!=typeof t)return null;try{e.DOMParser?(i=new e.DOMParser,n=i.parseFromString(t,"text/xml")):(n=new e.ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(t))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||pe.error("Invalid XML: "+t),n};var Gt=/#.*$/,Bt=/([?&])_=[^&]*/,Ut=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Yt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qt=/^(?:GET|HEAD)$/,Xt=/^\/\//,Vt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,$t={},Zt={},Kt="*/".concat("*"),Jt=Rt.href,en=Vt.exec(Jt.toLowerCase())||[];
pe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Jt,type:"GET",isLocal:Yt.test(en[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Kt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":pe.parseJSON,"text xml":pe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?q(q(e,pe.ajaxSettings),t):q(pe.ajaxSettings,e)},ajaxPrefilter:U($t),ajaxTransport:U(Zt),ajax:function(t,n){function i(t,n,i,r){var o,c,v,b,w,E=n;2!==y&&(y=2,l&&e.clearTimeout(l),d=void 0,s=r||"",x.readyState=t>0?4:0,o=t>=200&&300>t||304===t,i&&(b=X(h,x,i)),b=V(h,b,x,o),o?(h.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(pe.lastModified[a]=w),w=x.getResponseHeader("etag"),w&&(pe.etag[a]=w)),204===t||"HEAD"===h.type?E="nocontent":304===t?E="notmodified":(E=b.state,c=b.data,v=b.error,o=!v)):(v=E,(t||!E)&&(E="error",0>t&&(t=0))),x.status=t,x.statusText=(n||E)+"",o?g.resolveWith(p,[c,E,x]):g.rejectWith(p,[x,E,v]),x.statusCode(m),m=void 0,u&&f.trigger(o?"ajaxSuccess":"ajaxError",[x,h,o?c:v]),_.fireWith(p,[x,E]),u&&(f.trigger("ajaxComplete",[x,h]),--pe.active||pe.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var r,o,a,s,l,u,d,c,h=pe.ajaxSetup({},n),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?pe(p):pe.event,g=pe.Deferred(),_=pe.Callbacks("once memory"),m=h.statusCode||{},v={},b={},y=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===y){if(!c)for(c={};t=Ut.exec(s);)c[t[1].toLowerCase()]=t[2];t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===y?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=b[n]=b[n]||e,v[e]=t),this},overrideMimeType:function(e){return y||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>y)for(t in e)m[t]=[m[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||w;return d&&d.abort(t),i(0,t),this}};if(g.promise(x).complete=_.add,x.success=x.done,x.error=x.fail,h.url=((t||h.url||Jt)+"").replace(Gt,"").replace(Xt,en[1]+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=pe.trim(h.dataType||"*").toLowerCase().match(je)||[""],null==h.crossDomain&&(r=Vt.exec(h.url.toLowerCase()),h.crossDomain=!(!r||r[1]===en[1]&&r[2]===en[2]&&(r[3]||("http:"===r[1]?"80":"443"))===(en[3]||("http:"===en[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=pe.param(h.data,h.traditional)),Y($t,h,n,x),2===y)return x;u=pe.event&&h.global,u&&0===pe.active++&&pe.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!qt.test(h.type),a=h.url,h.hasContent||(h.data&&(a=h.url+=(Wt.test(a)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Bt.test(a)?a.replace(Bt,"$1_="+Dt++):a+(Wt.test(a)?"&":"?")+"_="+Dt++)),h.ifModified&&(pe.lastModified[a]&&x.setRequestHeader("If-Modified-Since",pe.lastModified[a]),pe.etag[a]&&x.setRequestHeader("If-None-Match",pe.etag[a])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Kt+"; q=0.01":""):h.accepts["*"]);for(o in h.headers)x.setRequestHeader(o,h.headers[o]);if(h.beforeSend&&(h.beforeSend.call(p,x,h)===!1||2===y))return x.abort();w="abort";for(o in{success:1,error:1,complete:1})x[o](h[o]);if(d=Y(Zt,h,n,x)){if(x.readyState=1,u&&f.trigger("ajaxSend",[x,h]),2===y)return x;h.async&&h.timeout>0&&(l=e.setTimeout(function(){x.abort("timeout")},h.timeout));try{y=1,d.send(v,i)}catch(E){if(!(2>y))throw E;i(-1,E)}}else i(-1,"No Transport");return x},getJSON:function(e,t,n){return pe.get(e,t,n,"json")},getScript:function(e,t){return pe.get(e,void 0,t,"script")}}),pe.each(["get","post"],function(e,t){pe[t]=function(e,n,i,r){return pe.isFunction(n)&&(r=r||i,i=n,n=void 0),pe.ajax(pe.extend({url:e,type:t,dataType:r,data:n,success:i},pe.isPlainObject(e)&&e))}}),pe._evalUrl=function(e){return pe.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},pe.fn.extend({wrapAll:function(e){if(pe.isFunction(e))return this.each(function(t){pe(this).wrapAll(e.call(this,t))});if(this[0]){var t=pe(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return pe.isFunction(e)?this.each(function(t){pe(this).wrapInner(e.call(this,t))}):this.each(function(){var t=pe(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=pe.isFunction(e);return this.each(function(n){pe(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){pe.nodeName(this,"body")||pe(this).replaceWith(this.childNodes)}).end()}}),pe.expr.filters.hidden=function(e){return ce.reliableHiddenOffsets()?e.offsetWidth<=0&&e.offsetHeight<=0&&!e.getClientRects().length:Z(e)},pe.expr.filters.visible=function(e){return!pe.expr.filters.hidden(e)};var tn=/%20/g,nn=/\[\]$/,rn=/\r?\n/g,on=/^(?:submit|button|image|reset|file)$/i,an=/^(?:input|select|textarea|keygen)/i;pe.param=function(e,t){var n,i=[],r=function(e,t){t=pe.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=pe.ajaxSettings&&pe.ajaxSettings.traditional),pe.isArray(e)||e.jquery&&!pe.isPlainObject(e))pe.each(e,function(){r(this.name,this.value)});else for(n in e)K(n,e[n],t,r);return i.join("&").replace(tn,"+")},pe.fn.extend({serialize:function(){return pe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=pe.prop(this,"elements");return e?pe.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!pe(this).is(":disabled")&&an.test(this.nodeName)&&!on.test(e)&&(this.checked||!De.test(e))}).map(function(e,t){var n=pe(this).val();return null==n?null:pe.isArray(n)?pe.map(n,function(e){return{name:t.name,value:e.replace(rn,"\r\n")}}):{name:t.name,value:n.replace(rn,"\r\n")}}).get()}}),pe.ajaxSettings.xhr=void 0!==e.ActiveXObject?function(){return this.isLocal?ee():ie.documentMode>8?J():/^(get|post|head|put|delete|options)$/i.test(this.type)&&J()||ee()}:J;var sn=0,ln={},un=pe.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in ln)ln[e](void 0,!0)}),ce.cors=!!un&&"withCredentials"in un,un=ce.ajax=!!un,un&&pe.ajaxTransport(function(t){if(!t.crossDomain||ce.cors){var n;return{send:function(i,r){var o,a=t.xhr(),s=++sn;if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(o in t.xhrFields)a[o]=t.xhrFields[o];t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(o in i)void 0!==i[o]&&a.setRequestHeader(o,i[o]+"");a.send(t.hasContent&&t.data||null),n=function(e,i){var o,l,u;if(n&&(i||4===a.readyState))if(delete ln[s],n=void 0,a.onreadystatechange=pe.noop,i)4!==a.readyState&&a.abort();else{u={},o=a.status,"string"==typeof a.responseText&&(u.text=a.responseText);try{l=a.statusText}catch(d){l=""}o||!t.isLocal||t.crossDomain?1223===o&&(o=204):o=u.text?200:404}u&&r(o,l,u,a.getAllResponseHeaders())},t.async?4===a.readyState?e.setTimeout(n):a.onreadystatechange=ln[s]=n:n()},abort:function(){n&&n(void 0,!0)}}}}),pe.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),pe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return pe.globalEval(e),e}}}),pe.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),pe.ajaxTransport("script",function(e){if(e.crossDomain){var t,n=ie.head||pe("head")[0]||ie.documentElement;return{send:function(i,r){t=ie.createElement("script"),t.async=!0,e.scriptCharset&&(t.charset=e.scriptCharset),t.src=e.url,t.onload=t.onreadystatechange=function(e,n){(n||!t.readyState||/loaded|complete/.test(t.readyState))&&(t.onload=t.onreadystatechange=null,t.parentNode&&t.parentNode.removeChild(t),t=null,n||r(200,"success"))},n.insertBefore(t,n.firstChild)},abort:function(){t&&t.onload(void 0,!0)}}}});var dn=[],cn=/(=)\?(?=&|$)|\?\?/;pe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=dn.pop()||pe.expando+"_"+Dt++;return this[e]=!0,e}}),pe.ajaxPrefilter("json jsonp",function(t,n,i){var r,o,a,s=t.jsonp!==!1&&(cn.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&cn.test(t.data)&&"data");return s||"jsonp"===t.dataTypes[0]?(r=t.jsonpCallback=pe.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(cn,"$1"+r):t.jsonp!==!1&&(t.url+=(Wt.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return a||pe.error(r+" was not called"),a[0]},t.dataTypes[0]="json",o=e[r],e[r]=function(){a=arguments},i.always(function(){void 0===o?pe(e).removeProp(r):e[r]=o,t[r]&&(t.jsonpCallback=n.jsonpCallback,dn.push(r)),a&&pe.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),ce.createHTMLDocument=function(){if(!ie.implementation.createHTMLDocument)return!1;var e=ie.implementation.createHTMLDocument("");return e.body.innerHTML="<form></form><form></form>",2===e.body.childNodes.length}(),pe.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||(ce.createHTMLDocument?ie.implementation.createHTMLDocument(""):ie);var i=xe.exec(e),r=!n&&[];return i?[t.createElement(i[1])]:(i=m([e],t,r),r&&r.length&&pe(r).remove(),pe.merge([],i.childNodes))};var hn=pe.fn.load;pe.fn.load=function(e,t,n){if("string"!=typeof e&&hn)return hn.apply(this,arguments);var i,r,o,a=this,s=e.indexOf(" ");return s>-1&&(i=pe.trim(e.slice(s,e.length)),e=e.slice(0,s)),pe.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),a.length>0&&pe.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(i?pe("<div>").append(pe.parseHTML(e)).find(i):e)}).always(n&&function(e,t){a.each(function(){n.apply(a,o||[e.responseText,t,e])})}),this},pe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){pe.fn[t]=function(e){return this.on(t,e)}}),pe.expr.filters.animated=function(e){return pe.grep(pe.timers,function(t){return e===t.elem}).length},pe.offset={setOffset:function(e,t,n){var i,r,o,a,s,l,u,d=pe.css(e,"position"),c=pe(e),h={};"static"===d&&(e.style.position="relative"),s=c.offset(),o=pe.css(e,"top"),l=pe.css(e,"left"),u=("absolute"===d||"fixed"===d)&&pe.inArray("auto",[o,l])>-1,u?(i=c.position(),a=i.top,r=i.left):(a=parseFloat(o)||0,r=parseFloat(l)||0),pe.isFunction(t)&&(t=t.call(e,n,pe.extend({},s))),null!=t.top&&(h.top=t.top-s.top+a),null!=t.left&&(h.left=t.left-s.left+r),"using"in t?t.using.call(e,h):c.css(h)}},pe.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){pe.offset.setOffset(this,e,t)});var t,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return t=o.documentElement,pe.contains(t,r)?("undefined"!=typeof r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=te(o),{top:i.top+(n.pageYOffset||t.scrollTop)-(t.clientTop||0),left:i.left+(n.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}):i},position:function(){if(this[0]){var e,t,n={top:0,left:0},i=this[0];return"fixed"===pe.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),pe.nodeName(e[0],"html")||(n=e.offset()),n.top+=pe.css(e[0],"borderTopWidth",!0),n.left+=pe.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-pe.css(i,"marginTop",!0),left:t.left-n.left-pe.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&!pe.nodeName(e,"html")&&"static"===pe.css(e,"position");)e=e.offsetParent;return e||pt})}}),pe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n=/Y/.test(t);pe.fn[e]=function(i){return Re(this,function(e,i,r){var o=te(e);return void 0===r?o?t in o?o[t]:o.document.documentElement[i]:e[i]:void(o?o.scrollTo(n?pe(o).scrollLeft():r,n?r:pe(o).scrollTop()):e[i]=r)},e,i,arguments.length,null)}}),pe.each(["top","left"],function(e,t){pe.cssHooks[t]=k(ce.pixelPosition,function(e,n){return n?(n=gt(e,t),ct.test(n)?pe(e).position()[t]+"px":n):void 0})}),pe.each({Height:"height",Width:"width"},function(e,t){pe.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){pe.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),a=n||(i===!0||r===!0?"margin":"border");return Re(this,function(t,n,i){var r;return pe.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(r=t.documentElement,Math.max(t.body["scroll"+e],r["scroll"+e],t.body["offset"+e],r["offset"+e],r["client"+e])):void 0===i?pe.css(t,n,a):pe.style(t,n,i,a)},t,o?i:void 0,o,null)}})}),pe.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),pe.fn.size=function(){return this.length},pe.fn.andSelf=pe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return pe});var pn=e.jQuery,fn=e.$;return pe.noConflict=function(t){return e.$===pe&&(e.$=fn),t&&e.jQuery===pe&&(e.jQuery=pn),pe},t||(e.jQuery=e.$=pe),pe}),function(e,t){"use strict";e.rails!==t&&e.error("jquery-ujs has already been loaded!");var n,i=e(document);e.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",buttonClickSelector:"button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",disableSelector:"input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",requiredInputSelector:"input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]:not([disabled])",linkDisableSelector:"a[data-disable-with], a[data-disable]",buttonDisableSelector:"button[data-remote][data-disable-with], button[data-remote][data-disable]",csrfToken:function(){return e("meta[name=csrf-token]").attr("content")},csrfParam:function(){return e("meta[name=csrf-param]").attr("content")},CSRFProtection:function(e){var t=n.csrfToken();t&&e.setRequestHeader("X-CSRF-Token",t)},refreshCSRFTokens:function(){e('form input[name="'+n.csrfParam()+'"]').val(n.csrfToken())},fire:function(t,n,i){var r=e.Event(n);return t.trigger(r,i),r.result!==!1},confirm:function(e){return confirm(e)},ajax:function(t){return e.ajax(t)},href:function(e){return e[0].href},isRemote:function(e){return e.data("remote")!==t&&e.data("remote")!==!1},handleRemote:function(i){var r,o,a,s,l,u;if(n.fire(i,"ajax:before")){if(s=i.data("with-credentials")||null,l=i.data("type")||e.ajaxSettings&&e.ajaxSettings.dataType,i.is("form")){r=i.data("ujs:submit-button-formmethod")||i.attr("method"),o=i.data("ujs:submit-button-formaction")||i.attr("action"),a=e(i[0]).serializeArray();var d=i.data("ujs:submit-button");d&&(a.push(d),i.data("ujs:submit-button",null)),i.data("ujs:submit-button-formmethod",null),i.data("ujs:submit-button-formaction",null)}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),a=i.serialize(),i.data("params")&&(a=a+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),a=i.data("params")||null);return u={type:r||"GET",data:a,dataType:l,beforeSend:function(e,r){return r.dataType===t&&e.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[e,r])?void i.trigger("ajax:send",e):!1},success:function(e,t,n){i.trigger("ajax:success",[e,t,n])},complete:function(e,t){i.trigger("ajax:complete",[e,t])},error:function(e,t,n){i.trigger("ajax:error",[e,t,n])},crossDomain:n.isCrossDomain(o)},s&&(u.xhrFields={withCredentials:s}),o&&(u.url=o),n.ajax(u)}return!1},isCrossDomain:function(e){var t=document.createElement("a");t.href=location.href;var n=document.createElement("a");try{return n.href=e,n.href=n.href,!((!n.protocol||":"===n.protocol)&&!n.host||t.protocol+"//"+t.host==n.protocol+"//"+n.host)}catch(i){return!0}},handleMethod:function(i){var r=n.href(i),o=i.data("method"),a=i.attr("target"),s=n.csrfToken(),l=n.csrfParam(),u=e('<form method="post" action="'+r+'"></form>'),d='<input name="_method" value="'+o+'" type="hidden" />';l===t||s===t||n.isCrossDomain(r)||(d+='<input name="'+l+'" value="'+s+'" type="hidden" />'),a&&u.attr("target",a),u.hide().append(d).appendTo("body"),u.submit()},formElements:function(t,n){return t.is("form")?e(t[0].elements).filter(n):t.find(n)},disableFormElements:function(t){n.formElements(t,n.disableSelector).each(function(){n.disableFormElement(e(this))})},disableFormElement:function(e){var n,i;n=e.is("button")?"html":"val",i=e.data("disable-with"),i!==t&&(e.data("ujs:enable-with",e[n]()),e[n](i)),e.prop("disabled",!0),e.data("ujs:disabled",!0)},enableFormElements:function(t){n.formElements(t,n.enableSelector).each(function(){n.enableFormElement(e(this))})},enableFormElement:function(e){var n=e.is("button")?"html":"val";e.data("ujs:enable-with")!==t&&(e[n](e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.prop("disabled",!1),e.removeData("ujs:disabled")},allowAction:function(e){var t,i=e.data("confirm"),r=!1;if(!i)return!0;if(n.fire(e,"confirm")){try{r=n.confirm(i)}catch(o){(console.error||console.log).call(console,o.stack||o)}t=n.fire(e,"confirm:complete",[r])}return r&&t},blankInputs:function(t,n,i){var r,o,a,s,l=e(),u=n||"input,textarea",d=t.find(u),c={};return d.each(function(){r=e(this),r.is("input[type=radio]")?(s=r.attr("name"),c[s]||(0===t.find('input[type=radio]:checked[name="'+s+'"]').length&&(a=t.find('input[type=radio][name="'+s+'"]'),l=l.add(a)),c[s]=s)):(o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):!!r.val(),o===i&&(l=l.add(r)))}),l.length?l:!1},nonBlankInputs:function(e,t){return n.blankInputs(e,t,!0)},stopEverything:function(t){return e(t.target).trigger("ujs:everythingStopped"),t.stopImmediatePropagation(),!1},disableElement:function(e){var i=e.data("disable-with");i!==t&&(e.data("ujs:enable-with",e.html()),e.html(i)),e.bind("click.railsDisable",function(e){return n.stopEverything(e)}),e.data("ujs:disabled",!0)},enableElement:function(e){e.data("ujs:enable-with")!==t&&(e.html(e.data("ujs:enable-with")),e.removeData("ujs:enable-with")),e.unbind("click.railsDisable"),e.removeData("ujs:disabled")}},n.fire(i,"rails:attachBindings")&&(e.ajaxPrefilter(function(e,t,i){e.crossDomain||n.CSRFProtection(i)}),e(window).on("pageshow.rails",function(){e(e.rails.enableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableFormElement(t)}),e(e.rails.linkDisableSelector).each(function(){var t=e(this);t.data("ujs:disabled")&&e.rails.enableElement(t)})}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(e(this))}),i.delegate(n.buttonDisableSelector,"ajax:complete",function(){n.enableFormElement(e(this))}),i.delegate(n.linkClickSelector,"click.rails",function(t){var i=e(this),r=i.data("method"),o=i.data("params"),a=t.metaKey||t.ctrlKey;if(!n.allowAction(i))return n.stopEverything(t);if(!a&&i.is(n.linkDisableSelector)&&n.disableElement(i),n.isRemote(i)){if(a&&(!r||"GET"===r)&&!o)return!0;var s=n.handleRemote(i);return s===!1?n.enableElement(i):s.fail(function(){n.enableElement(i)}),!1}return r?(n.handleMethod(i),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i)||!n.isRemote(i))return n.stopEverything(t);i.is(n.buttonDisableSelector)&&n.disableFormElement(i);var r=n.handleRemote(i);return r===!1?n.enableFormElement(i):r.fail(function(){n.enableFormElement(i)}),!1}),i.delegate(n.inputChangeSelector,"change.rails",function(t){var i=e(this);return n.allowAction(i)&&n.isRemote(i)?(n.handleRemote(i),!1):n.stopEverything(t)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r,o,a=e(this),s=n.isRemote(a);if(!n.allowAction(a))return n.stopEverything(i);if(a.attr("novalidate")===t)if(a.data("ujs:formnovalidate-button")===t){if(r=n.blankInputs(a,n.requiredInputSelector,!1),r&&n.fire(a,"ajax:aborted:required",[r]))return n.stopEverything(i)}else a.data("ujs:formnovalidate-button",t);if(s){if(o=n.nonBlankInputs(a,n.fileInputSelector)){setTimeout(function(){n.disableFormElements(a)},13);var l=n.fire(a,"ajax:aborted:file",[o]);return l||setTimeout(function(){n.enableFormElements(a)},13),l}return n.handleRemote(a),!1}setTimeout(function(){n.disableFormElements(a)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(t){var i=e(this);if(!n.allowAction(i))return n.stopEverything(t);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null,a=i.closest("form");0===a.length&&(a=e("#"+i.attr("form"))),a.data("ujs:submit-button",o),a.data("ujs:formnovalidate-button",i.attr("formnovalidate")),a.data("ujs:submit-button-formaction",i.attr("formaction")),a.data("ujs:submit-button-formmethod",i.attr("formmethod"))}),i.delegate(n.formSubmitSelector,"ajax:send.rails",function(t){this===t.target&&n.disableFormElements(e(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(t){this===t.target&&n.enableFormElements(e(this))}),e(function(){n.refreshCSRFTokens()}))}(jQuery),/*!
 * jQuery UI Effects 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/effects-core/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){var t="ui-effects-",n=e;/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
return e.effects={effect:{}},function(e,t){function n(e,t,n){var i=c[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function i(t){var n=u(),i=n._rgba=[];return t=t.toLowerCase(),f(l,function(e,r){var o,a=r.re.exec(t),s=a&&r.parse(a),l=r.space||"rgba";return s?(o=n[l](s),n[d[l].cache]=o[d[l].cache],i=n._rgba=o._rgba,!1):void 0}),i.length?("0,0,0,0"===i.join()&&e.extend(i,o.transparent),n):o[t]}function r(e,t,n){return n=(n+1)%1,1>6*n?e+(t-e)*n*6:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=u.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(d,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),u.fn=e.extend(u.prototype,{parse:function(r,a,s,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(a),a=t);var c=this,h=e.type(r),p=this._rgba=[];return a!==t&&(r=[r,a,s,l],h="array"),"string"===h?this.parse(i(r)||o._default):"array"===h?(f(d.rgba.props,function(e,t){p[t.idx]=n(r[t.idx],t)}),this):"object"===h?(r instanceof u?f(d,function(e,t){r[t.cache]&&(c[t.cache]=r[t.cache].slice())}):f(d,function(t,i){var o=i.cache;f(i.props,function(e,t){if(!c[o]&&i.to){if("alpha"===e||null==r[e])return;c[o]=i.to(c._rgba)}c[o][t.idx]=n(r[e],t,!0)}),c[o]&&e.inArray(null,c[o].slice(0,3))<0&&(c[o][3]=1,i.from&&(c._rgba=i.from(c[o])))}),this):void 0},is:function(e){var t=u(e),n=!0,i=this;return f(d,function(e,r){var o,a=t[r.cache];return a&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],f(r.props,function(e,t){return null!=a[t.idx]?n=a[t.idx]===o[t.idx]:void 0})),n}),n},_space:function(){var e=[],t=this;return f(d,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var i=u(e),r=i._space(),o=d[r],a=0===this.alpha()?u("transparent"):this,s=a[o.cache]||o.to(a._rgba),l=s.slice();return i=i[o.cache],f(o.props,function(e,r){var o=r.idx,a=s[o],u=i[o],d=c[r.type]||{};null!==u&&(null===a?l[o]=u:(d.mod&&(u-a>d.mod/2?a+=d.mod:a-u>d.mod/2&&(a-=d.mod)),l[o]=n((u-a)*t+a,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=u(t)._rgba;return u(e.map(n,function(e,t){return(1-i)*r[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(i,r,o),l=Math.min(i,r,o),u=s-l,d=s+l,c=.5*d;return t=l===s?0:i===s?60*(r-o)/u+360:r===s?60*(o-i)/u+120:60*(i-r)/u+240,n=0===u?0:.5>=c?u/d:u/(2-d),[Math.round(t)%360,n,c,null==a?1:a]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],o=e[3],a=.5>=i?i*(1+n):i+n-i*n,s=2*i-a;return[Math.round(255*r(s,a,t+1/3)),Math.round(255*r(s,a,t)),Math.round(255*r(s,a,t-1/3)),o]},f(d,function(i,r){var o=r.props,a=r.cache,l=r.to,d=r.from;u.fn[i]=function(i){if(l&&!this[a]&&(this[a]=l(this._rgba)),i===t)return this[a].slice();var r,s=e.type(i),c="array"===s||"object"===s?i:arguments,h=this[a].slice();return f(o,function(e,t){var i=c["object"===s?e:t.idx];null==i&&(i=h[t.idx]),h[t.idx]=n(i,t)}),d?(r=u(d(h)),r[a]=h,r):u(h)},f(o,function(t,n){u.fn[t]||(u.fn[t]=function(r){var o,a=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":i,u=this[l](),d=u[n.idx];return"undefined"===a?d:("function"===a&&(r=r.call(this,d),a=e.type(r)),null==r&&n.empty?this:("string"===a&&(o=s.exec(r),o&&(r=d+parseFloat(o[2])*("+"===o[1]?1:-1))),u[n.idx]=r,this[l](u)))})})}),u.hook=function(t){var n=t.split(" ");f(n,function(t,n){e.cssHooks[n]={set:function(t,r){var o,a,s="";if("transparent"!==r&&("string"!==e.type(r)||(o=i(r)))){if(r=u(o||r),!h.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(l){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(l){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=u(t.elem,n),t.end=u(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},u.hook(a),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(n),function(){function t(t){var n,i,r=t.ownerDocument.defaultView?t.ownerDocument.defaultView.getComputedStyle(t,null):t.currentStyle,o={};if(r&&r.length&&r[0]&&r[r[0]])for(i=r.length;i--;)n=r[i],"string"==typeof r[n]&&(o[e.camelCase(n)]=r[n]);else for(n in r)"string"==typeof r[n]&&(o[n]=r[n]);return o}function i(t,n){var i,r,a={};for(i in n)r=n[i],t[i]!==r&&(o[i]||(e.fx.step[i]||!isNaN(parseFloat(r)))&&(a[i]=r));return a}var r=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,i){e.fx.step[i]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(n.style(e.elem,i,e.end),e.setAttr=!0)}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e.effects.animateClass=function(n,o,a,s){var l=e.speed(o,a,s);return this.queue(function(){var o,a=e(this),s=a.attr("class")||"",u=l.children?a.find("*").addBack():a;u=u.map(function(){var n=e(this);return{el:n,start:t(this)}}),o=function(){e.each(r,function(e,t){n[t]&&a[t+"Class"](n[t])})},o(),u=u.map(function(){return this.end=t(this.el[0]),this.diff=i(this.start,this.end),this}),a.attr("class",s),u=u.map(function(){var t=this,n=e.Deferred(),i=e.extend({},l,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,i),n.promise()}),e.when.apply(e,u.get()).done(function(){o(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),l.complete.call(a[0])})})},e.fn.extend({addClass:function(t){return function(n,i,r,o){return i?e.effects.animateClass.call(this,{add:n},i,r,o):t.apply(this,arguments)}}(e.fn.addClass),removeClass:function(t){return function(n,i,r,o){return arguments.length>1?e.effects.animateClass.call(this,{remove:n},i,r,o):t.apply(this,arguments)}}(e.fn.removeClass),toggleClass:function(t){return function(n,i,r,o,a){return"boolean"==typeof i||void 0===i?r?e.effects.animateClass.call(this,i?{add:n}:{remove:n},r,o,a):t.apply(this,arguments):e.effects.animateClass.call(this,{toggle:n},i,r,o)}}(e.fn.toggleClass),switchClass:function(t,n,i,r,o){return e.effects.animateClass.call(this,{add:n,remove:t},i,r,o)}})}(),function(){function n(t,n,i,r){return e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},null==n&&(n={}),e.isFunction(n)&&(r=n,i=null,n={}),("number"==typeof n||e.fx.speeds[n])&&(r=i,i=n,n={}),e.isFunction(i)&&(r=i,i=null),n&&e.extend(t,n),i=i||n.duration,t.duration=e.fx.off?0:"number"==typeof i?i:i in e.fx.speeds?e.fx.speeds[i]:e.fx.speeds._default,t.complete=r||n.complete,t}function i(t){return!t||"number"==typeof t||e.fx.speeds[t]?!0:"string"!=typeof t||e.effects.effect[t]?e.isFunction(t)?!0:"object"!=typeof t||t.effect?!1:!0:!0}e.extend(e.effects,{version:"1.11.4",save:function(e,n){for(var i=0;i<n.length;i++)null!==n[i]&&e.data(t+n[i],e[0].style[n[i]])},restore:function(e,n){var i,r;for(r=0;r<n.length;r++)null!==n[r]&&(i=e.data(t+n[r]),void 0===i&&(i=""),e.css(n[r],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,i;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":i=0;break;case"center":i=.5;break;case"right":i=1;break;default:i=e[1]/t.width}return{x:i,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},i=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r={width:t.width(),height:t.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return t.wrap(i),(t[0]===o||e.contains(t[0],o))&&e(o).focus(),i=t.parent(),"static"===t.css("position")?(i.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,i){n[i]=t.css(i),isNaN(parseInt(n[i],10))&&(n[i]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(r),i.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,i,r){return r=r||{},e.each(n,function(e,n){var o=t.cssUnit(n);o[0]>0&&(r[n]=o[0]*i+o[1])}),r}}),e.fn.extend({effect:function(){function t(t){function n(){e.isFunction(o)&&o.call(r[0]),e.isFunction(t)&&t()}var r=e(this),o=i.complete,s=i.mode;(r.is(":hidden")?"hide"===s:"show"===s)?(r[s](),n()):a.call(r[0],i,n)}var i=n.apply(this,arguments),r=i.mode,o=i.queue,a=e.effects.effect[i.effect];return e.fx.off||!a?r?this[r](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):o===!1?this.each(t):this.queue(o||"fx",t)},show:function(e){return function(t){if(i(t))return e.apply(this,arguments);var r=n.apply(this,arguments);return r.mode="show",this.effect.call(this,r)}}(e.fn.show),hide:function(e){return function(t){if(i(t))return e.apply(this,arguments);var r=n.apply(this,arguments);return r.mode="hide",this.effect.call(this,r)}}(e.fn.hide),toggle:function(e){return function(t){if(i(t)||"boolean"==typeof t)return e.apply(this,arguments);var r=n.apply(this,arguments);return r.mode="toggle",this.effect.call(this,r)}}(e.fn.toggle),cssUnit:function(t){var n=this.css(t),i=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(i=[parseFloat(n),t])}),i}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,n=4;e<((t=Math.pow(2,--n))-1)/11;);return 1/Math.pow(4,3-n)-7.5625*Math.pow((3*t-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return.5>e?n(2*e)/2:1-n(-2*e+2)/2}})}(),e.effects}),/*!
 * jQuery UI Effects Slide 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/slide-effect/
 */
function(e){"function"==typeof define&&define.amd?define(["jquery","./effect"],e):e(jQuery)}(function(e){return e.effects.effect.slide=function(t,n){var i,r=e(this),o=["position","top","bottom","left","right","width","height"],a=e.effects.setMode(r,t.mode||"show"),s="show"===a,l=t.direction||"left",u="up"===l||"down"===l?"top":"left",d="up"===l||"left"===l,c={};e.effects.save(r,o),r.show(),i=t.distance||r["top"===u?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),s&&r.css(u,d?isNaN(i)?"-"+i:-i:i),c[u]=(s?d?"+=":"-=":d?"-=":"+=")+i,r.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){"hide"===a&&r.hide(),e.effects.restore(r,o),e.effects.removeWrapper(r),n()}})}});var g_ugFunctions=new UGFunctions;!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?module.exports=e:e(jQuery)}(function(e){function t(t){var a=t||window.event,s=l.call(arguments,1),u=0,d=0,c=0,h=0;if(t=e.event.fix(a),t.type="mousewheel","detail"in a&&(c=-1*a.detail),"wheelDelta"in a&&(c=a.wheelDelta),"wheelDeltaY"in a&&(c=a.wheelDeltaY),"wheelDeltaX"in a&&(d=-1*a.wheelDeltaX),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(d=-1*c,c=0),u=0===c?d:c,"deltaY"in a&&(c=-1*a.deltaY,u=c),"deltaX"in a&&(d=a.deltaX,0===c&&(u=-1*d)),0!==c||0!==d){if(1===a.deltaMode){var p=e.data(this,"mousewheel-line-height");u*=p,c*=p,d*=p}else if(2===a.deltaMode){var f=e.data(this,"mousewheel-page-height");u*=f,c*=f,d*=f}return h=Math.max(Math.abs(c),Math.abs(d)),(!o||o>h)&&(o=h,i(a,h)&&(o/=40)),i(a,h)&&(u/=40,d/=40,c/=40),u=Math[u>=1?"floor":"ceil"](u/o),d=Math[d>=1?"floor":"ceil"](d/o),c=Math[c>=1?"floor":"ceil"](c/o),t.deltaX=d,t.deltaY=c,t.deltaFactor=o,t.deltaMode=0,s.unshift(t,u,d,c),r&&clearTimeout(r),r=setTimeout(n,200),(e.event.dispatch||e.event.handle).apply(this,s)}}function n(){o=null}function i(e,t){return d.settings.adjustOldDeltas&&"mousewheel"===e.type&&t%120===0}var r,o,a=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],s="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],l=Array.prototype.slice;if(e.event.fixHooks)for(var u=a.length;u;)e.event.fixHooks[a[--u]]=e.event.mouseHooks;var d=e.event.special.mousewheel={version:"3.1.9",setup:function(){if(this.addEventListener)for(var n=s.length;n;)this.addEventListener(s[--n],t,!1);else this.onmousewheel=t;e.data(this,"mousewheel-line-height",d.getLineHeight(this)),e.data(this,"mousewheel-page-height",d.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=s.length;e;)this.removeEventListener(s[--e],t,!1);else this.onmousewheel=null},getLineHeight:function(t){return parseInt(e(t)["offsetParent"in e.fn?"offsetParent":"parent"]().css("fontSize"),10)},getPageHeight:function(t){return e(t).height()},settings:{adjustOldDeltas:!0}};e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,n,i,r){return jQuery.easing[jQuery.easing.def](e,t,n,i,r)},easeInQuad:function(e,t,n,i,r){return i*(t/=r)*t+n},easeOutQuad:function(e,t,n,i,r){return-i*(t/=r)*(t-2)+n},easeInOutQuad:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t+n:-i/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,i,r){return i*(t/=r)*t*t+n},easeOutCubic:function(e,t,n,i,r){return i*((t=t/r-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t*t+n:i/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,i,r){return i*(t/=r)*t*t*t+n},easeOutQuart:function(e,t,n,i,r){return-i*((t=t/r-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t*t*t+n:-i/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,i,r){return i*(t/=r)*t*t*t*t+n},easeOutQuint:function(e,t,n,i,r){return i*((t=t/r-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,i,r){return(t/=r/2)<1?i/2*t*t*t*t*t+n:i/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,i,r){return-i*Math.cos(t/r*(Math.PI/2))+i+n},easeOutSine:function(e,t,n,i,r){return i*Math.sin(t/r*(Math.PI/2))+n},easeInOutSine:function(e,t,n,i,r){return-i/2*(Math.cos(Math.PI*t/r)-1)+n},easeInExpo:function(e,t,n,i,r){return 0==t?n:i*Math.pow(2,10*(t/r-1))+n},easeOutExpo:function(e,t,n,i,r){return t==r?n+i:i*(-Math.pow(2,-10*t/r)+1)+n},easeInOutExpo:function(e,t,n,i,r){return 0==t?n:t==r?n+i:(t/=r/2)<1?i/2*Math.pow(2,10*(t-1))+n:i/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,i,r){return-i*(Math.sqrt(1-(t/=r)*t)-1)+n},easeOutCirc:function(e,t,n,i,r){return i*Math.sqrt(1-(t=t/r-1)*t)+n},easeInOutCirc:function(e,t,n,i,r){return(t/=r/2)<1?-i/2*(Math.sqrt(1-t*t)-1)+n:i/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,i,r){var o=1.70158,a=0,s=i;if(0==t)return n;if(1==(t/=r))return n+i;if(a||(a=.3*r),s<Math.abs(i)){s=i;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(i/s);return-(s*Math.pow(2,10*(t-=1))*Math.sin(2*(t*r-o)*Math.PI/a))+n},easeOutElastic:function(e,t,n,i,r){var o=1.70158,a=0,s=i;if(0==t)return n;if(1==(t/=r))return n+i;if(a||(a=.3*r),s<Math.abs(i)){s=i;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(i/s);return s*Math.pow(2,-10*t)*Math.sin(2*(t*r-o)*Math.PI/a)+i+n},easeInOutElastic:function(e,t,n,i,r){var o=1.70158,a=0,s=i;if(0==t)return n;if(2==(t/=r/2))return n+i;if(a||(a=.3*r*1.5),s<Math.abs(i)){s=i;var o=a/4}else var o=a/(2*Math.PI)*Math.asin(i/s);return 1>t?-.5*s*Math.pow(2,10*(t-=1))*Math.sin(2*(t*r-o)*Math.PI/a)+n:s*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*r-o)*Math.PI/a)*.5+i+n},easeInBack:function(e,t,n,i,r,o){return void 0==o&&(o=1.70158),i*(t/=r)*t*((o+1)*t-o)+n},easeOutBack:function(e,t,n,i,r,o){return void 0==o&&(o=1.70158),i*((t=t/r-1)*t*((o+1)*t+o)+1)+n},easeInOutBack:function(e,t,n,i,r,o){return void 0==o&&(o=1.70158),(t/=r/2)<1?i/2*t*t*(((o*=1.525)+1)*t-o)+n:i/2*((t-=2)*t*(((o*=1.525)+1)*t+o)+2)+n},easeInBounce:function(e,t,n,i,r){return i-jQuery.easing.easeOutBounce(e,r-t,0,i,r)+n},easeOutBounce:function(e,t,n,i,r){return(t/=r)<1/2.75?7.5625*i*t*t+n:2/2.75>t?i*(7.5625*(t-=1.5/2.75)*t+.75)+n:2.5/2.75>t?i*(7.5625*(t-=2.25/2.75)*t+.9375)+n:i*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(e,t,n,i,r){return r/2>t?.5*jQuery.easing.easeInBounce(e,2*t,0,i,r)+n:.5*jQuery.easing.easeOutBounce(e,2*t-r,0,i,r)+.5*i+n}}),!function(e,t){function n(e,t,n){var i=c[t.type]||{};return null==e?n||!t.def?null:t.def:(e=i.floor?~~e:parseFloat(e),isNaN(e)?t.def:i.mod?(e+i.mod)%i.mod:0>e?0:i.max<e?i.max:e)}function i(t){var n=u(),i=n._rgba=[];return t=t.toLowerCase(),f(l,function(e,r){var o,a=r.re.exec(t),s=a&&r.parse(a),l=r.space||"rgba";return s?(o=n[l](s),n[d[l].cache]=o[d[l].cache],i=n._rgba=o._rgba,!1):void 0}),i.length?("0,0,0,0"===i.join()&&e.extend(i,o.transparent),n):o[t]}function r(e,t,n){return n=(n+1)%1,1>6*n?e+(t-e)*n*6:1>2*n?t:2>3*n?e+(t-e)*(2/3-n)*6:e}if("undefined"==typeof e.cssHooks)return!1;var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",s=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],u=e.Color=function(t,n,i,r){return new e.Color.fn.parse(t,n,i,r)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},c={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},h=u.support={},p=e("<p>")[0],f=e.each;p.style.cssText="background-color:rgba(1,1,1,.5)",h.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(d,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),u.fn=e.extend(u.prototype,{parse:function(r,a,s,l){if(r===t)return this._rgba=[null,null,null,null],this;(r.jquery||r.nodeType)&&(r=e(r).css(a),a=t);var c=this,h=e.type(r),p=this._rgba=[];return a!==t&&(r=[r,a,s,l],h="array"),"string"===h?this.parse(i(r)||o._default):"array"===h?(f(d.rgba.props,function(e,t){p[t.idx]=n(r[t.idx],t)}),this):"object"===h?(r instanceof u?f(d,function(e,t){r[t.cache]&&(c[t.cache]=r[t.cache].slice())}):f(d,function(t,i){var o=i.cache;f(i.props,function(e,t){if(!c[o]&&i.to){if("alpha"===e||null==r[e])return;c[o]=i.to(c._rgba)}c[o][t.idx]=n(r[e],t,!0)}),c[o]&&e.inArray(null,c[o].slice(0,3))<0&&(c[o][3]=1,i.from&&(c._rgba=i.from(c[o])))}),this):void 0},is:function(e){var t=u(e),n=!0,i=this;return f(d,function(e,r){var o,a=t[r.cache];return a&&(o=i[r.cache]||r.to&&r.to(i._rgba)||[],f(r.props,function(e,t){return null!=a[t.idx]?n=a[t.idx]===o[t.idx]:void 0})),n}),n},_space:function(){var e=[],t=this;return f(d,function(n,i){t[i.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var i=u(e),r=i._space(),o=d[r],a=0===this.alpha()?u("transparent"):this,s=a[o.cache]||o.to(a._rgba),l=s.slice();return i=i[o.cache],f(o.props,function(e,r){var o=r.idx,a=s[o],u=i[o],d=c[r.type]||{};null!==u&&(null===a?l[o]=u:(d.mod&&(u-a>d.mod/2?a+=d.mod:a-u>d.mod/2&&(a-=d.mod)),l[o]=n((u-a)*t+a,r)))}),this[r](l)},blend:function(t){if(1===this._rgba[3])return this;var n=this._rgba.slice(),i=n.pop(),r=u(t)._rgba;return u(e.map(n,function(e,t){return(1-i)*r[t]+i*e}))},toRgbaString:function(){var t="rgba(",n=e.map(this._rgba,function(e,t){return null==e?t>2?1:0:e});return 1===n[3]&&(n.pop(),t="rgb("),t+n.join()+")"},toHslaString:function(){var t="hsla(",n=e.map(this.hsla(),function(e,t){return null==e&&(e=t>2?1:0),t&&3>t&&(e=Math.round(100*e)+"%"),e});return 1===n[3]&&(n.pop(),t="hsl("),t+n.join()+")"},toHexString:function(t){var n=this._rgba.slice(),i=n.pop();return t&&n.push(~~(255*i)),"#"+e.map(n,function(e){return e=(e||0).toString(16),1===e.length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),u.fn.parse.prototype=u.fn,d.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=e[3],s=Math.max(i,r,o),l=Math.min(i,r,o),u=s-l,d=s+l,c=.5*d;return t=l===s?0:i===s?60*(r-o)/u+360:r===s?60*(o-i)/u+120:60*(i-r)/u+240,n=0===u?0:.5>=c?u/d:u/(2-d),[Math.round(t)%360,n,c,null==a?1:a]},d.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,n=e[1],i=e[2],o=e[3],a=.5>=i?i*(1+n):i+n-i*n,s=2*i-a;return[Math.round(255*r(s,a,t+1/3)),Math.round(255*r(s,a,t)),Math.round(255*r(s,a,t-1/3)),o]},f(d,function(i,r){var o=r.props,a=r.cache,l=r.to,d=r.from;u.fn[i]=function(i){if(l&&!this[a]&&(this[a]=l(this._rgba)),i===t)return this[a].slice();var r,s=e.type(i),c="array"===s||"object"===s?i:arguments,h=this[a].slice();return f(o,function(e,t){var i=c["object"===s?e:t.idx];null==i&&(i=h[t.idx]),h[t.idx]=n(i,t)}),d?(r=u(d(h)),r[a]=h,r):u(h)},f(o,function(t,n){u.fn[t]||(u.fn[t]=function(r){var o,a=e.type(r),l="alpha"===t?this._hsla?"hsla":"rgba":i,u=this[l](),d=u[n.idx];return"undefined"===a?d:("function"===a&&(r=r.call(this,d),a=e.type(r)),null==r&&n.empty?this:("string"===a&&(o=s.exec(r),o&&(r=d+parseFloat(o[2])*("+"===o[1]?1:-1))),u[n.idx]=r,this[l](u)))})})}),u.hook=function(t){var n=t.split(" ");f(n,function(t,n){e.cssHooks[n]={set:function(t,r){var o,a,s="";if("transparent"!==r&&("string"!==e.type(r)||(o=i(r)))){if(r=u(o||r),!h.rgba&&1!==r._rgba[3]){for(a="backgroundColor"===n?t.parentNode:t;(""===s||"transparent"===s)&&a&&a.style;)try{s=e.css(a,"backgroundColor"),a=a.parentNode}catch(l){}r=r.blend(s&&"transparent"!==s?s:"_default")}r=r.toRgbaString()}try{t.style[n]=r}catch(l){}}},e.fx.step[n]=function(t){t.colorInit||(t.start=u(t.elem,n),t.end=u(t.end),t.colorInit=!0),e.cssHooks[n].set(t.elem,t.start.transition(t.end,t.pos))}})},u.hook(a),e.cssHooks.borderColor={expand:function(e){var t={};return f(["Top","Right","Bottom","Left"],function(n,i){t["border"+i+"Color"]=e}),t}},o=e.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),!function(e){function t(){var n=this===document?e(this):e(this).contents();n.mousemove(function(t){e.mlp={x:t.pageX,y:t.pageY}}),n.find("iframe").load(t)}e.mlp={x:0,y:0},e(t),e.fn.ismouseover=function(){var t=!1;return this.eq(0).each(function(){var n=e(this).is("iframe")?e(this).contents().find("body"):e(this),i=n.offset();t=i.left<=e.mlp.x&&i.left+n.outerWidth()>e.mlp.x&&i.top<=e.mlp.y&&i.top+n.outerHeight()>e.mlp.y}),t}}(jQuery);var g_ugYoutubeAPI=new UGYoutubeAPI,g_ugVimeoAPI=new UGVimeoAPI,g_ugHtml5MediaAPI=new UGHtml5MediaAPI,g_ugSoundCloudAPI=new UGSoundCloudAPI,g_ugWistiaAPI=new UGWistiaAPI;jQuery.fn.unitegallery=function(e){var t=jQuery(this),n="#"+t.attr("id");if(!e)var e={};var i=new UniteGalleryMain;i.run(n,e);var r=new UG_API(i);return r},"undefined"!=typeof g_ugFunctions?g_ugFunctions.registerTheme("grid"):jQuery(document).ready(function(){g_ugFunctions.registerTheme("grid")}),/*
 *
 * More info at [www.dropzonejs.com](http://www.dropzonejs.com)
 *
 * Copyright (c) 2012, Matias Meno
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 *
 */
function(){var e,t,n,i,r,o,a,s,l=[].slice,u={}.hasOwnProperty,d=function(e,t){function n(){this.constructor=e}for(var i in t)u.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};a=function(){},t=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,n,i,r,o;if(i=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],this._callbacks=this._callbacks||{},n=this._callbacks[i])for(r=0,o=n.length;o>r;r++)t=n[r],t.apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var n,i,r,o,a;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(i=this._callbacks[e],!i)return this;if(1===arguments.length)return delete this._callbacks[e],this;for(r=o=0,a=i.length;a>o;r=++o)if(n=i[r],n===t){i.splice(r,1);break}return this},e}(),e=function(e){function n(e,t){var r,o,a;if(this.element=e,this.version=n.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(n.instances.push(this),this.element.dropzone=this,r=null!=(a=n.optionsForElement(this.element))?a:{},this.options=i({},this.defaultOptions,r,null!=t?t:{}),this.options.forceFallback||!n.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(o=this.getExistingFallback())&&o.parentNode&&o.parentNode.removeChild(o),this.options.previewsContainer!==!1&&(this.options.previewsContainer?this.previewsContainer=n.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(this.options.clickable===!0?this.clickableElements=[this.element]:this.clickableElements=n.getElements(this.options.clickable,"clickable")),this.init()}var i,r;return d(n,e),n.prototype.Emitter=t,n.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],n.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,hiddenInputContainer:"body",capture:null,renameFilename:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return a},forceFallback:!1,fallback:function(){var e,t,i,r,o,a;for(this.element.className=""+this.element.className+" dz-browser-not-supported",a=this.element.getElementsByTagName("div"),r=0,o=a.length;o>r;r++)e=a[r],/(^| )dz-message($| )/.test(e.className)&&(t=e,e.className="dz-message");return t||(t=n.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),i=t.getElementsByTagName("span")[0],i&&(null!=i.textContent?i.textContent=this.options.dictFallbackMessage:null!=i.innerText&&(i.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,n,i;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},n=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=n*t.optHeight:null==t.optHeight&&(t.optHeight=1/n*t.optWidth),i=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n>i?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*i):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/i),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:a,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:a,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(e){var t,i,r,o,a,s,l,u,d,c,h,p,f;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(e.previewElement=n.createElement(this.options.previewTemplate.trim()),e.previewTemplate=e.previewElement,this.previewsContainer.appendChild(e.previewElement),c=e.previewElement.querySelectorAll("[data-dz-name]"),o=0,l=c.length;l>o;o++)t=c[o],t.textContent=this._renameFilename(e.name);for(h=e.previewElement.querySelectorAll("[data-dz-size]"),a=0,u=h.length;u>a;a++)t=h[a],t.innerHTML=this.filesize(e.size);for(this.options.addRemoveLinks&&(e._removeLink=n.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),e.previewElement.appendChild(e._removeLink)),i=function(t){return function(i){return i.preventDefault(),i.stopPropagation(),e.status===n.UPLOADING?n.confirm(t.options.dictCancelUploadConfirmation,function(){return t.removeFile(e)}):t.options.dictRemoveFileConfirmation?n.confirm(t.options.dictRemoveFileConfirmation,function(){return t.removeFile(e)}):t.removeFile(e)}}(this),p=e.previewElement.querySelectorAll("[data-dz-remove]"),f=[],s=0,d=p.length;d>s;s++)r=p[s],f.push(r.addEventListener("click",i));return f}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var n,i,r,o;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),o=e.previewElement.querySelectorAll("[data-dz-thumbnail]"),i=0,r=o.length;r>i;i++)n=o[i],n.alt=e.name,n.src=t;return setTimeout(function(t){return function(){return e.previewElement.classList.add("dz-image-preview")}}(this),1)}},error:function(e,t){var n,i,r,o,a;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),o=e.previewElement.querySelectorAll("[data-dz-errormessage]"),a=[],i=0,r=o.length;r>i;i++)n=o[i],a.push(n.textContent=t);return a}},errormultiple:a,processing:function(e){return e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink)?e._removeLink.textContent=this.options.dictCancelUpload:void 0},processingmultiple:a,uploadprogress:function(e,t,n){var i,r,o,a,s;if(e.previewElement){for(a=e.previewElement.querySelectorAll("[data-dz-uploadprogress]"),s=[],r=0,o=a.length;o>r;r++)i=a[r],"PROGRESS"===i.nodeName?s.push(i.value=t):s.push(i.style.width=""+t+"%");return s}},totaluploadprogress:a,sending:a,sendingmultiple:a,success:function(e){return e.previewElement?e.previewElement.classList.add("dz-success"):void 0},successmultiple:a,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:a,complete:function(e){return e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement?e.previewElement.classList.add("dz-complete"):void 0},completemultiple:a,maxfilesexceeded:a,maxfilesreached:a,queuecomplete:a,addedfiles:a,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},i=function(){var e,t,n,i,r,o,a;for(i=arguments[0],n=2<=arguments.length?l.call(arguments,1):[],o=0,a=n.length;a>o;o++){t=n[o];for(e in t)r=t[e],i[e]=r}return i},n.prototype.getAcceptedFiles=function(){var e,t,n,i,r;for(i=this.files,r=[],t=0,n=i.length;n>t;t++)e=i[t],e.accepted&&r.push(e);return r},n.prototype.getRejectedFiles=function(){var e,t,n,i,r;for(i=this.files,r=[],t=0,n=i.length;n>t;t++)e=i[t],e.accepted||r.push(e);return r},n.prototype.getFilesWithStatus=function(e){var t,n,i,r,o;for(r=this.files,o=[],n=0,i=r.length;i>n;n++)t=r[n],t.status===e&&o.push(t);return o},n.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(n.QUEUED)},n.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(n.UPLOADING)},n.prototype.getAddedFiles=function(){return this.getFilesWithStatus(n.ADDED)},n.prototype.getActiveFiles=function(){var e,t,i,r,o;for(r=this.files,o=[],t=0,i=r.length;i>t;t++)e=r[t],(e.status===n.UPLOADING||e.status===n.QUEUED)&&o.push(e);return o},n.prototype.init=function(){var e,t,i,r,o,a,s;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(n.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(i=function(e){return function(){return e.hiddenFileInput&&e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput),e.hiddenFileInput=document.createElement("input"),e.hiddenFileInput.setAttribute("type","file"),(null==e.options.maxFiles||e.options.maxFiles>1)&&e.hiddenFileInput.setAttribute("multiple","multiple"),e.hiddenFileInput.className="dz-hidden-input",null!=e.options.acceptedFiles&&e.hiddenFileInput.setAttribute("accept",e.options.acceptedFiles),null!=e.options.capture&&e.hiddenFileInput.setAttribute("capture",e.options.capture),e.hiddenFileInput.style.visibility="hidden",e.hiddenFileInput.style.position="absolute",e.hiddenFileInput.style.top="0",e.hiddenFileInput.style.left="0",e.hiddenFileInput.style.height="0",e.hiddenFileInput.style.width="0",document.querySelector(e.options.hiddenInputContainer).appendChild(e.hiddenFileInput),e.hiddenFileInput.addEventListener("change",function(){var t,n,r,o;if(n=e.hiddenFileInput.files,n.length)for(r=0,o=n.length;o>r;r++)t=n[r],e.addFile(t);return e.emit("addedfiles",n),i()})}}(this))(),this.URL=null!=(a=window.URL)?a:window.webkitURL,s=this.events,r=0,o=s.length;o>r;r++)e=s[r],this.on(e,this.options[e]);return this.on("uploadprogress",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("removedfile",function(e){return function(){return e.updateTotalUploadProgress()}}(this)),this.on("canceled",function(e){return function(t){return e.emit("complete",t)}}(this)),this.on("complete",function(e){return function(t){return 0===e.getAddedFiles().length&&0===e.getUploadingFiles().length&&0===e.getQueuedFiles().length?setTimeout(function(){return e.emit("queuecomplete")},0):void 0}}(this)),t=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:function(e){return function(t){return e.emit("dragstart",t)}}(this),dragenter:function(e){return function(n){return t(n),e.emit("dragenter",n)}}(this),dragover:function(e){return function(n){var i;try{i=n.dataTransfer.effectAllowed}catch(r){}return n.dataTransfer.dropEffect="move"===i||"linkMove"===i?"move":"copy",t(n),e.emit("dragover",n)}}(this),dragleave:function(e){return function(t){return e.emit("dragleave",t)}}(this),drop:function(e){return function(n){return t(n),e.drop(n)}}(this),dragend:function(e){return function(t){return e.emit("dragend",t)}}(this)}}],this.clickableElements.forEach(function(e){return function(t){return e.listeners.push({element:t,events:{click:function(i){return(t!==e.element||i.target===e.element||n.elementInside(i.target,e.element.querySelector(".dz-message")))&&e.hiddenFileInput.click(),!0}}})}}(this)),this.enable(),this.options.init.call(this)},n.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,n.instances.splice(n.instances.indexOf(this),1)},n.prototype.updateTotalUploadProgress=function(){var e,t,n,i,r,o,a,s;if(i=0,n=0,e=this.getActiveFiles(),e.length){for(s=this.getActiveFiles(),o=0,a=s.length;a>o;o++)t=s[o],i+=t.upload.bytesSent,n+=t.upload.total;r=100*i/n}else r=100;return this.emit("totaluploadprogress",r,n,i)},n.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):""+this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},n.prototype._renameFilename=function(e){return"function"!=typeof this.options.renameFilename?e:this.options.renameFilename(e)},n.prototype.getFallbackForm=function(){var e,t,i,r;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=n.createElement(i),"FORM"!==this.element.tagName?(r=n.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>'),r.appendChild(t)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=r?r:t)},n.prototype.getExistingFallback=function(){var e,t,n,i,r,o;for(t=function(e){var t,n,i;for(n=0,i=e.length;i>n;n++)if(t=e[n],/(^| )fallback($| )/.test(t.className))return t},o=["div","form"],i=0,r=o.length;r>i;i++)if(n=o[i],e=t(this.element.getElementsByTagName(n)))return e},n.prototype.setupEventListeners=function(){var e,t,n,i,r,o,a;for(o=this.listeners,a=[],i=0,r=o.length;r>i;i++)e=o[i],a.push(function(){var i,r;i=e.events,r=[];for(t in i)n=i[t],r.push(e.element.addEventListener(t,n,!1));return r}());return a},n.prototype.removeEventListeners=function(){var e,t,n,i,r,o,a;for(o=this.listeners,a=[],i=0,r=o.length;r>i;i++)e=o[i],a.push(function(){var i,r;i=e.events,r=[];for(t in i)n=i[t],r.push(e.element.removeEventListener(t,n,!1));return r}());return a},n.prototype.disable=function(){var e,t,n,i,r;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),i=this.files,r=[],t=0,n=i.length;n>t;t++)e=i[t],r.push(this.cancelUpload(e));return r},n.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},n.prototype.filesize=function(e){var t,n,i,r,o,a,s,l;if(i=0,r="b",e>0){for(a=["TB","GB","MB","KB","b"],n=s=0,l=a.length;l>s;n=++s)if(o=a[n],t=Math.pow(this.options.filesizeBase,4-n)/10,e>=t){i=e/Math.pow(this.options.filesizeBase,4-n),r=o;break}i=Math.round(10*i)/10}return"<strong>"+i+"</strong> "+r},n.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},n.prototype.drop=function(e){var t,n;e.dataTransfer&&(this.emit("drop",e),t=e.dataTransfer.files,this.emit("addedfiles",t),t.length&&(n=e.dataTransfer.items,n&&n.length&&null!=n[0].webkitGetAsEntry?this._addFilesFromItems(n):this.handleFiles(t)))},n.prototype.paste=function(e){var t,n;if(null!=(null!=e&&null!=(n=e.clipboardData)?n.items:void 0))return this.emit("paste",e),t=e.clipboardData.items,t.length?this._addFilesFromItems(t):void 0},n.prototype.handleFiles=function(e){var t,n,i,r;for(r=[],n=0,i=e.length;i>n;n++)t=e[n],r.push(this.addFile(t));return r},n.prototype._addFilesFromItems=function(e){var t,n,i,r,o;for(o=[],i=0,r=e.length;r>i;i++)n=e[i],null!=n.webkitGetAsEntry&&(t=n.webkitGetAsEntry())?t.isFile?o.push(this.addFile(n.getAsFile())):t.isDirectory?o.push(this._addFilesFromDirectory(t,t.name)):o.push(void 0):null!=n.getAsFile&&(null==n.kind||"file"===n.kind)?o.push(this.addFile(n.getAsFile())):o.push(void 0);return o},n.prototype._addFilesFromDirectory=function(e,t){var n,i,r;return n=e.createReader(),i=function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0},(r=function(e){return function(){return n.readEntries(function(n){var i,o,a;if(n.length>0){for(o=0,a=n.length;a>o;o++)i=n[o],i.isFile?i.file(function(n){return e.options.ignoreHiddenFiles&&"."===n.name.substring(0,1)?void 0:(n.fullPath=""+t+"/"+n.name,e.addFile(n))}):i.isDirectory&&e._addFilesFromDirectory(i,""+t+"/"+i.name);r()}return null},i)}}(this))()},n.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):n.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},n.prototype.addFile=function(e){return e.upload={progress:0,total:e.size,bytesSent:0},this.files.push(e),e.status=n.ADDED,this.emit("addedfile",e),this._enqueueThumbnail(e),this.accept(e,function(t){return function(n){return n?(e.accepted=!1,t._errorProcessing([e],n)):(e.accepted=!0,t.options.autoQueue&&t.enqueueFile(e)),t._updateMaxFilesReachedClass()}}(this))},n.prototype.enqueueFiles=function(e){var t,n,i;for(n=0,i=e.length;i>n;n++)t=e[n],this.enqueueFile(t);return null},n.prototype.enqueueFile=function(e){if(e.status!==n.ADDED||e.accepted!==!0)throw new Error("This file can't be queued because it has already been processed or was rejected.");return e.status=n.QUEUED,this.options.autoProcessQueue?setTimeout(function(e){return function(){return e.processQueue()}}(this),0):void 0},n.prototype._thumbnailQueue=[],n.prototype._processingThumbnail=!1,n.prototype._enqueueThumbnail=function(e){return this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024?(this._thumbnailQueue.push(e),setTimeout(function(e){return function(){return e._processThumbnailQueue()}}(this),0)):void 0},n.prototype._processThumbnailQueue=function(){return this._processingThumbnail||0===this._thumbnailQueue.length?void 0:(this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),function(e){return function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}}(this)))},n.prototype.removeFile=function(e){return e.status===n.UPLOADING&&this.cancelUpload(e),this.files=s(this.files,e),this.emit("removedfile",e),0===this.files.length?this.emit("reset"):void 0},n.prototype.removeAllFiles=function(e){var t,i,r,o;for(null==e&&(e=!1),o=this.files.slice(),i=0,r=o.length;r>i;i++)t=o[i],(t.status!==n.UPLOADING||e)&&this.removeFile(t);return null},n.prototype.createThumbnail=function(e,t){var n;return n=new FileReader,n.onload=function(i){return function(){return"image/svg+xml"===e.type?(i.emit("thumbnail",e,n.result),void(null!=t&&t())):i.createThumbnailFromUrl(e,n.result,t)}}(this),n.readAsDataURL(e)},n.prototype.createThumbnailFromUrl=function(e,t,n,i){var r;return r=document.createElement("img"),i&&(r.crossOrigin=i),r.onload=function(t){return function(){var i,a,s,l,u,d,c,h;return e.width=r.width,e.height=r.height,s=t.options.resize.call(t,e),null==s.trgWidth&&(s.trgWidth=s.optWidth),null==s.trgHeight&&(s.trgHeight=s.optHeight),i=document.createElement("canvas"),a=i.getContext("2d"),i.width=s.trgWidth,i.height=s.trgHeight,o(a,r,null!=(u=s.srcX)?u:0,null!=(d=s.srcY)?d:0,s.srcWidth,s.srcHeight,null!=(c=s.trgX)?c:0,null!=(h=s.trgY)?h:0,s.trgWidth,s.trgHeight),l=i.toDataURL("image/png"),t.emit("thumbnail",e,l),null!=n?n():void 0}}(this),null!=n&&(r.onerror=n),r.src=t},n.prototype.processQueue=function(){var e,t,n,i;if(t=this.options.parallelUploads,n=this.getUploadingFiles().length,e=n,!(n>=t)&&(i=this.getQueuedFiles(),i.length>0)){if(this.options.uploadMultiple)return this.processFiles(i.slice(0,t-n));for(;t>e;){if(!i.length)return;this.processFile(i.shift()),e++}}},n.prototype.processFile=function(e){return this.processFiles([e])},n.prototype.processFiles=function(e){var t,i,r;for(i=0,r=e.length;r>i;i++)t=e[i],t.processing=!0,t.status=n.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},n.prototype._getFilesWithXhr=function(e){var t,n;return n=function(){var n,i,r,o;for(r=this.files,o=[],n=0,i=r.length;i>n;n++)t=r[n],t.xhr===e&&o.push(t);return o}.call(this)},n.prototype.cancelUpload=function(e){var t,i,r,o,a,s,l;if(e.status===n.UPLOADING){for(i=this._getFilesWithXhr(e.xhr),r=0,a=i.length;a>r;r++)t=i[r],t.status=n.CANCELED;for(e.xhr.abort(),o=0,s=i.length;s>o;o++)t=i[o],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else((l=e.status)===n.ADDED||l===n.QUEUED)&&(e.status=n.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));return this.options.autoProcessQueue?this.processQueue():void 0},r=function(){var e,t;return t=arguments[0],e=2<=arguments.length?l.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},n.prototype.uploadFile=function(e){return this.uploadFiles([e])},n.prototype.uploadFiles=function(e){var t,o,a,s,l,u,d,c,h,p,f,g,_,m,v,b,y,w,x,E,T,S,I,C,P,j,A,k,M,N,L,z,O,H;for(x=new XMLHttpRequest,E=0,C=e.length;C>E;E++)t=e[E],t.xhr=x;g=r(this.options.method,e),y=r(this.options.url,e),x.open(g,y,!0),x.withCredentials=!!this.options.withCredentials,v=null,a=function(n){return function(){var i,r,o;for(o=[],i=0,r=e.length;r>i;i++)t=e[i],o.push(n._errorProcessing(e,v||n.options.dictResponseError.replace("{{statusCode}}",x.status),x));return o}}(this),b=function(n){return function(i){var r,o,a,s,l,u,d,c,h;if(null!=i)for(o=100*i.loaded/i.total,a=0,u=e.length;u>a;a++)t=e[a],t.upload={progress:o,total:i.total,bytesSent:i.loaded};else{for(r=!0,o=100,s=0,d=e.length;d>s;s++)t=e[s],(100!==t.upload.progress||t.upload.bytesSent!==t.upload.total)&&(r=!1),t.upload.progress=o,t.upload.bytesSent=t.upload.total;if(r)return}for(h=[],l=0,c=e.length;c>l;l++)t=e[l],h.push(n.emit("uploadprogress",t,o,t.upload.bytesSent));return h}}(this),x.onload=function(t){return function(i){var r;if(e[0].status!==n.CANCELED&&4===x.readyState){if(v=x.responseText,x.getResponseHeader("content-type")&&~x.getResponseHeader("content-type").indexOf("application/json"))try{v=JSON.parse(v)}catch(o){i=o,v="Invalid JSON response from server."}return b(),200<=(r=x.status)&&300>r?t._finished(e,v,i):a()}}}(this),x.onerror=function(t){return function(){return e[0].status!==n.CANCELED?a():void 0}}(this),m=null!=(M=x.upload)?M:x,m.onprogress=b,u={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&i(u,this.options.headers);for(s in u)l=u[s],l&&x.setRequestHeader(s,l);if(o=new FormData,this.options.params){N=this.options.params;for(f in N)w=N[f],o.append(f,w)}for(T=0,P=e.length;P>T;T++)t=e[T],this.emit("sending",t,x,o);if(this.options.uploadMultiple&&this.emit("sendingmultiple",e,x,o),"FORM"===this.element.tagName)for(L=this.element.querySelectorAll("input, textarea, select, button"),S=0,j=L.length;j>S;S++)if(c=L[S],h=c.getAttribute("name"),p=c.getAttribute("type"),"SELECT"===c.tagName&&c.hasAttribute("multiple"))for(z=c.options,I=0,A=z.length;A>I;I++)_=z[I],_.selected&&o.append(h,_.value);else(!p||"checkbox"!==(O=p.toLowerCase())&&"radio"!==O||c.checked)&&o.append(h,c.value);for(d=k=0,H=e.length-1;H>=0?H>=k:k>=H;d=H>=0?++k:--k)o.append(this._getParamName(d),e[d],this._renameFilename(e[d].name));return this.submitRequest(x,o,e)},n.prototype.submitRequest=function(e,t,n){return e.send(t)},n.prototype._finished=function(e,t,i){var r,o,a;for(o=0,a=e.length;a>o;o++)r=e[o],r.status=n.SUCCESS,this.emit("success",r,t,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},n.prototype._errorProcessing=function(e,t,i){var r,o,a;for(o=0,a=e.length;a>o;o++)r=e[o],r.status=n.ERROR,this.emit("error",r,t,i),this.emit("complete",r);return this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue?this.processQueue():void 0},n}(t),e.version="4.3.0",e.options={},e.optionsForElement=function(t){return t.getAttribute("id")?e.options[n(t.getAttribute("id"))]:void 0},e.instances=[],e.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},e.autoDiscover=!0,e.discover=function(){var t,n,i,r,o,a;for(document.querySelectorAll?i=document.querySelectorAll(".dropzone"):(i=[],t=function(e){var t,n,r,o;for(o=[],n=0,r=e.length;r>n;n++)t=e[n],/(^| )dropzone($| )/.test(t.className)?o.push(i.push(t)):o.push(void 0);return o},t(document.getElementsByTagName("div")),t(document.getElementsByTagName("form"))),a=[],r=0,o=i.length;o>r;r++)n=i[r],e.optionsForElement(n)!==!1?a.push(new e(n)):a.push(void 0);return a},e.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],e.isBrowserSupported=function(){var t,n,i,r,o;if(t=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(o=e.blacklistedBrowsers,i=0,r=o.length;r>i;i++)n=o[i],n.test(navigator.userAgent)&&(t=!1);else t=!1;else t=!1;return t},s=function(e,t){var n,i,r,o;for(o=[],i=0,r=e.length;r>i;i++)n=e[i],n!==t&&o.push(n);return o},n=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},e.createElement=function(e){var t;return t=document.createElement("div"),t.innerHTML=e,t.childNodes[0]},e.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},e.getElement=function(e,t){var n;if("string"==typeof e?n=document.querySelector(e):null!=e.nodeType&&(n=e),null==n)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return n},e.getElements=function(e,t){var n,i,r,o,a,s,l,u;if(e instanceof Array){r=[];try{for(o=0,s=e.length;s>o;o++)i=e[o],r.push(this.getElement(i,t))}catch(d){n=d,r=null}}else if("string"==typeof e)for(r=[],u=document.querySelectorAll(e),a=0,l=u.length;l>a;a++)i=u[a],r.push(i);else null!=e.nodeType&&(r=[e]);if(null==r||!r.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return r},e.confirm=function(e,t,n){return window.confirm(e)?t():null!=n?n():void 0},e.isValidFile=function(e,t){var n,i,r,o,a;if(!t)return!0;for(t=t.split(","),i=e.type,n=i.replace(/\/.*$/,""),o=0,a=t.length;a>o;o++)if(r=t[o],r=r.trim(),"."===r.charAt(0)){if(-1!==e.name.toLowerCase().indexOf(r.toLowerCase(),e.name.length-r.length))return!0}else if(/\/\*$/.test(r)){if(n===r.replace(/\/.*$/,""))return!0}else if(i===r)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(t){return this.each(function(){return new e(this,t)})}),"undefined"!=typeof module&&null!==module?module.exports=e:window.Dropzone=e,e.ADDED="added",e.QUEUED="queued",e.ACCEPTED=e.QUEUED,e.UPLOADING="uploading",e.PROCESSING=e.UPLOADING,e.CANCELED="canceled",e.ERROR="error",e.SUCCESS="success",r=function(e){var t,n,i,r,o,a,s,l,u,d;for(s=e.naturalWidth,a=e.naturalHeight,n=document.createElement("canvas"),n.width=1,n.height=a,i=n.getContext("2d"),i.drawImage(e,0,0),r=i.getImageData(0,0,1,a).data,d=0,o=a,l=a;l>d;)t=r[4*(l-1)+3],0===t?o=l:d=l,l=o+d>>1;
return u=l/a,0===u?1:u},o=function(e,t,n,i,o,a,s,l,u,d){var c;return c=r(t),e.drawImage(t,n,i,o,a,s,l,u,d/c)},i=function(e,t){var n,i,r,o,a,s,l,u,d;if(r=!1,d=!0,i=e.document,u=i.documentElement,n=i.addEventListener?"addEventListener":"attachEvent",l=i.addEventListener?"removeEventListener":"detachEvent",s=i.addEventListener?"":"on",o=function(n){return"readystatechange"!==n.type||"complete"===i.readyState?(("load"===n.type?e:i)[l](s+n.type,o,!1),!r&&(r=!0)?t.call(e,n.type||n):void 0):void 0},a=function(){var e;try{u.doScroll("left")}catch(t){return e=t,void setTimeout(a,50)}return o("poll")},"complete"!==i.readyState){if(i.createEventObject&&u.doScroll){try{d=!e.frameElement}catch(c){}d&&a()}return i[n](s+"DOMContentLoaded",o,!1),i[n](s+"readystatechange",o,!1),e[n](s+"load",o,!1)}},e._autoDiscoverFunction=function(){return e.autoDiscover?e.discover():void 0},i(window,e._autoDiscoverFunction)}.call(this),function(){var e,t,n,i,r,o,a,s,l,u,d,c,h,p,f,g,_,m,v,b,y,w,x,E,T,S,I,C,P,j,A,k,M,N,L,z,O,H,F,R,D,W,Q,G,B,U,Y,q,X,V,$,Z,K,J,ee,te,ne=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1},ie=function(e,t){function n(){this.constructor=e}for(var i in t)re.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e},re={}.hasOwnProperty,oe=[].slice,ae=function(e,t){return function(){return e.apply(t,arguments)}};N={},h=10,Z=!1,F=null,v=null,k=null,W=null,te=null,i={BEFORE_CHANGE:"page:before-change",FETCH:"page:fetch",RECEIVE:"page:receive",CHANGE:"page:change",UPDATE:"page:update",LOAD:"page:load",RESTORE:"page:restore",BEFORE_UNLOAD:"page:before-unload",EXPIRE:"page:expire"},E=function(e){var t;return e=new n(e),Y(),c(),null!=F&&F.start(),Z&&(t=K(e.absolute))?(T(t),S(e,null,!1)):S(e,V)},K=function(e){var t;return t=N[e],t&&!t.transitionCacheDisabled?t:void 0},y=function(e){return null==e&&(e=!0),Z=e},b=function(e){return null==e&&(e=!0),u?e?null!=F?F:F=new o("html"):(null!=F&&F.uninstall(),F=null):void 0},S=function(e,t,n){return null==n&&(n=!0),J(i.FETCH,{url:e.absolute}),null!=te&&te.abort(),te=new XMLHttpRequest,te.open("GET",e.withoutHashForIE10compatibility(),!0),te.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),te.setRequestHeader("X-XHR-Referer",W),te.onload=function(){var n;return J(i.RECEIVE,{url:e.absolute}),(n=H())?(Q(e),G(),p.apply(null,x(n)),M(),"function"==typeof t&&t(),J(i.LOAD)):document.location.href=m()||e.absolute},F&&n&&(te.onprogress=function(e){return function(e){var t;return t=e.lengthComputable?e.loaded/e.total*100:F.value+(100-F.value)/10,F.advanceTo(t)}}(this)),te.onloadend=function(){return te=null},te.onerror=function(){return document.location.href=e.absolute},te.send()},T=function(e){return null!=te&&te.abort(),p(e.title,e.body),R(e),J(i.RESTORE)},c=function(){var e;return e=new n(v.url),N[e.absolute]={url:e.relative,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},g(h)},z=function(e){return null==e&&(e=h),/^[\d]+$/.test(e)?h=parseInt(e):void 0},g=function(e){var t,n,r,o,a,s;for(a=Object.keys(N),t=a.map(function(e){return N[e].cachedAt}).sort(function(e,t){return t-e}),s=[],n=0,o=a.length;o>n;n++)r=a[n],N[r].cachedAt<=t[e]&&(J(i.EXPIRE,N[r]),s.push(delete N[r]));return s},p=function(t,n,r,o){return J(i.BEFORE_UNLOAD),document.title=t,document.documentElement.replaceChild(n,document.body),null!=r&&e.update(r),$(),o&&w(),v=window.history.state,null!=F&&F.done(),J(i.CHANGE),J(i.UPDATE)},w=function(){var e,t,n,i,r,o,a,s,l,u,d,c;for(c=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),n=0,r=c.length;r>n;n++)if(d=c[n],""===(l=d.type)||"text/javascript"===l){for(t=document.createElement("script"),u=d.attributes,i=0,o=u.length;o>i;i++)e=u[i],t.setAttribute(e.name,e.value);d.hasAttribute("async")||(t.async=!1),t.appendChild(document.createTextNode(d.innerHTML)),s=d.parentNode,a=d.nextSibling,s.removeChild(d),s.insertBefore(t,a)}},q=function(e){return e.innerHTML=e.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),e},$=function(){var e,t;return e=(t=document.querySelectorAll("input[autofocus], textarea[autofocus]"))[t.length-1],e&&document.activeElement!==e?e.focus():void 0},Q=function(e){return(e=new n(e)).absolute!==W?window.history.pushState({turbolinks:!0,url:e.absolute},"",e.absolute):void 0},G=function(){var e,t;return(e=te.getResponseHeader("X-XHR-Redirected-To"))?(e=new n(e),t=e.hasNoHash()?document.location.hash:"",window.history.replaceState(window.history.state,"",e.href+t)):void 0},m=function(){var e;return null!=(e=te.getResponseHeader("Location"))&&new n(e).crossOrigin()?e:void 0},Y=function(){return W=document.location.href},U=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},B=function(){return v=window.history.state},M=function(){var e;return navigator.userAgent.match(/Firefox/)&&!(e=new n).hasNoHash()?(window.history.replaceState(v,"",e.withoutHash()),document.location.hash=e.hash):void 0},R=function(e){return window.scrollTo(e.positionX,e.positionY)},V=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},f=function(e){var t,n,i;if(null==e||"object"!=typeof e)return e;t=new e.constructor;for(n in e)i=e[n],t[n]=f(i);return t},O=function(e){var t,n;return n=(null!=(t=document.cookie.match(new RegExp(e+"=(\\w+)")))?t[1].toUpperCase():void 0)||"",document.cookie=e+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",n},J=function(e,t){var n;return"undefined"!=typeof Prototype&&Event.fire(document,e,t,!0),n=document.createEvent("Events"),t&&(n.data=t),n.initEvent(e,!0,!0),document.dispatchEvent(n)},L=function(e){return!J(i.BEFORE_CHANGE,{url:e})},H=function(){var e,t,n,i,r,o;return t=function(){var e;return 400<=(e=te.status)&&600>e},o=function(){var e;return null!=(e=te.getResponseHeader("Content-Type"))&&e.match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},i=function(e){var t,n,i,r,o;for(r=e.querySelector("head").childNodes,o=[],t=0,n=r.length;n>t;t++)i=r[t],null!=("function"==typeof i.getAttribute?i.getAttribute("data-turbolinks-track"):void 0)&&o.push(i.getAttribute("src")||i.getAttribute("href"));return o},e=function(e){var t;return k||(k=i(document)),t=i(e),t.length!==k.length||r(t,k).length!==k.length},r=function(e,t){var n,i,r,o,a;for(e.length>t.length&&(r=[t,e],e=r[0],t=r[1]),o=[],n=0,i=e.length;i>n;n++)a=e[n],ne.call(t,a)>=0&&o.push(a);return o},!t()&&o()&&(n=_(te.responseText),n&&!e(n))?n:void 0},x=function(t){var n;return n=t.querySelector("title"),[null!=n?n.textContent:void 0,q(t.querySelector("body")),e.get(t).token,"runScripts"]},e={get:function(e){var t;return null==e&&(e=document),{node:t=e.querySelector('meta[name="csrf-token"]'),token:null!=t&&"function"==typeof t.getAttribute?t.getAttribute("content"):void 0}},update:function(e){var t;return t=this.get(),null!=t.token&&null!=e&&t.token!==e?t.node.setAttribute("content",e):void 0}},_=function(e){var t;return t=document.documentElement.cloneNode(),t.innerHTML=e,t.head=t.querySelector("head"),t.body=t.querySelector("body"),t},n=function(){function e(t){return this.original=null!=t?t:document.location.href,this.original.constructor===e?this.original:void this._parse()}return e.prototype.withoutHash=function(){return this.href.replace(this.hash,"").replace("#","")},e.prototype.withoutHashForIE10compatibility=function(){return this.withoutHash()},e.prototype.hasNoHash=function(){return 0===this.hash.length},e.prototype.crossOrigin=function(){return this.origin!==(new e).origin},e.prototype._parse=function(){var e;return(null!=this.link?this.link:this.link=document.createElement("a")).href=this.original,e=this.link,this.href=e.href,this.protocol=e.protocol,this.host=e.host,this.hostname=e.hostname,this.port=e.port,this.pathname=e.pathname,this.search=e.search,this.hash=e.hash,this.origin=[this.protocol,"//",this.hostname].join(""),0!==this.port.length&&(this.origin+=":"+this.port),this.relative=[this.pathname,this.search,this.hash].join(""),this.absolute=this.href},e}(),r=function(e){function t(e){return this.link=e,this.link.constructor===t?this.link:(this.original=this.link.href,this.originalElement=this.link,this.link=this.link.cloneNode(!1),void t.__super__.constructor.apply(this,arguments))}return ie(t,e),t.HTML_EXTENSIONS=["html"],t.allowExtensions=function(){var e,n,i,r;for(n=1<=arguments.length?oe.call(arguments,0):[],i=0,r=n.length;r>i;i++)e=n[i],t.HTML_EXTENSIONS.push(e);return t.HTML_EXTENSIONS},t.prototype.shouldIgnore=function(){return this.crossOrigin()||this._anchored()||this._nonHtml()||this._optOut()||this._target()},t.prototype._anchored=function(){return(this.hash.length>0||"#"===this.href.charAt(this.href.length-1))&&this.withoutHash()===(new n).withoutHash()},t.prototype._nonHtml=function(){return this.pathname.match(/\.[a-z]+$/g)&&!this.pathname.match(new RegExp("\\.(?:"+t.HTML_EXTENSIONS.join("|")+")?$","g"))},t.prototype._optOut=function(){var e,t;for(t=this.originalElement;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},t.prototype._target=function(){return 0!==this.link.target.length},t}(n),t=function(){function e(e){this.event=e,this.event.defaultPrevented||(this._extractLink(),this._validForTurbolinks()&&(L(this.link.absolute)||ee(this.link.href),this.event.preventDefault()))}return e.installHandlerLast=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",e.handle,!1),document.addEventListener("click",e.handle,!1))},e.handle=function(t){return new e(t)},e.prototype._extractLink=function(){var e;for(e=this.event.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return"A"===e.nodeName&&0!==e.href.length?this.link=new r(e):void 0},e.prototype._validForTurbolinks=function(){return null!=this.link&&!(this.link.shouldIgnore()||this._nonStandardClick())},e.prototype._nonStandardClick=function(){return this.event.which>1||this.event.metaKey||this.event.ctrlKey||this.event.shiftKey||this.event.altKey},e}(),o=function(){function e(e){this.elementSelector=e,this._trickle=ae(this._trickle,this),this.value=0,this.content="",this.speed=300,this.opacity=.99,this.install()}var t;return t="turbolinks-progress-bar",e.prototype.install=function(){return this.element=document.querySelector(this.elementSelector),this.element.classList.add(t),this.styleElement=document.createElement("style"),document.head.appendChild(this.styleElement),this._updateStyle()},e.prototype.uninstall=function(){return this.element.classList.remove(t),document.head.removeChild(this.styleElement)},e.prototype.start=function(){return this.advanceTo(5)},e.prototype.advanceTo=function(e){var t;if(e>(t=this.value)&&100>=t){if(this.value=e,this._updateStyle(),100===this.value)return this._stopTrickle();if(this.value>0)return this._startTrickle()}},e.prototype.done=function(){return this.value>0?(this.advanceTo(100),this._reset()):void 0},e.prototype._reset=function(){var e;return e=this.opacity,setTimeout(function(e){return function(){return e.opacity=0,e._updateStyle()}}(this),this.speed/2),setTimeout(function(t){return function(){return t.value=0,t.opacity=e,t._withSpeed(0,function(){return t._updateStyle(!0)})}}(this),this.speed)},e.prototype._startTrickle=function(){return this.trickling?void 0:(this.trickling=!0,setTimeout(this._trickle,this.speed))},e.prototype._stopTrickle=function(){return delete this.trickling},e.prototype._trickle=function(){return this.trickling?(this.advanceTo(this.value+Math.random()/2),setTimeout(this._trickle,this.speed)):void 0},e.prototype._withSpeed=function(e,t){var n,i;return n=this.speed,this.speed=e,i=t(),this.speed=n,i},e.prototype._updateStyle=function(e){return null==e&&(e=!1),e&&this._changeContentToForceRepaint(),this.styleElement.textContent=this._createCSSRule()},e.prototype._changeContentToForceRepaint=function(){return this.content=""===this.content?" ":""},e.prototype._createCSSRule=function(){return this.elementSelector+"."+t+"::before {\n  content: '"+this.content+"';\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 2000;\n  background-color: #0076ff;\n  height: 3px;\n  opacity: "+this.opacity+";\n  width: "+this.value+"%;\n  transition: width "+this.speed+"ms ease-out, opacity "+this.speed/2+"ms ease-in;\n  transform: translate3d(0,0,0);\n}"},e}(),d=function(e){return setTimeout(e,500)},P=function(){return document.addEventListener("DOMContentLoaded",function(){return J(i.CHANGE),J(i.UPDATE)},!0)},A=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(e,t,n){return jQuery.trim(t.responseText)?J(i.UPDATE):void 0}):void 0},j=function(e){var t,i;return(null!=(i=e.state)?i.turbolinks:void 0)?(t=N[new n(e.state.url).absolute])?(c(),T(t)):ee(e.target.location.href):void 0},C=function(){return U(),B(),document.addEventListener("click",t.installHandlerLast,!0),window.addEventListener("hashchange",function(e){return U(),B()},!1),d(function(){return window.addEventListener("popstate",j,!1)})},I=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),l=window.history&&window.history.pushState&&window.history.replaceState&&I,a=!navigator.userAgent.match(/CriOS\//),X="GET"===(D=O("request_method"))||""===D,u=l&&a&&X,s=document.addEventListener&&document.createEvent,s&&(P(),A()),u?(ee=E,C()):ee=function(e){return document.location.href=e},this.Turbolinks={visit:ee,pagesCached:z,enableTransitionCache:y,enableProgressBar:b,allowLinkExtensions:r.allowExtensions,supported:u,EVENTS:f(i)}}.call(this),$(document).ready(function(){$("#home-wrapper").hide().fadeIn(500),$(".parallax").parallax()}),$(document).ready(function(){}),$(document).ready(function(){$(".button-collapse").sideNav(),$(".dropdown-button").dropdown(),$("input#input_text, textarea#textarea1").characterCounter()}),$(document).ready(function(){$(".edit-account-container").hide().fadeIn(1500),$(".new-account-container").hide().fadeIn(1500)}),$(document).on("page:change",function(){$("#trips-left").fadeIn(700)});